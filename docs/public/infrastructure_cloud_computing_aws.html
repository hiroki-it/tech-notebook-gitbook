
<!DOCTYPE HTML>
<html lang="ja" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>▶ ︎Amazon Web Service · 僕のドキュメントサイト【GitBook版】</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="infrastructure_cloud_computing_gcp.html" />
    
    
    <link rel="prev" href="infrastructure_cloud_computing.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="検索すると入力" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    はじめに
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../">
            
                <a href="../">
            
                    
                    ▶ ︎このサイトについて
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    自己紹介
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="self_introduction.html">
            
                <a href="self_introduction.html">
            
                    
                    ▶ ︎長谷川広樹と申します
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    アーキテクチャ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="backend_architecture_domain_driven_design.html">
            
                <a href="backend_architecture_domain_driven_design.html">
            
                    
                    ▶ ︎ドメイン駆動設計
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="backend_architecture_cqrs.html">
            
                <a href="backend_architecture_cqrs.html">
            
                    
                    ▶ ︎CQRS設計
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="frontend_architecture.html">
            
                <a href="frontend_architecture.html">
            
                    
                    ▶ ︎フロントエンドアーキテクチャ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="frontend_and_backend_architecture_microservice.html">
            
                <a href="frontend_and_backend_architecture_microservice.html">
            
                    
                    ▶ ︎マイクロサービス
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    PHP
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    クラスベースオブジェクト指向
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="backend_object_orientation_analysis_design_programming.html">
            
                <a href="backend_object_orientation_analysis_design_programming.html">
            
                    
                    ▶ ︎オブジェクト指向分析／設計／プログラミング
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="backend_object_orientation_class.html">
            
                <a href="backend_object_orientation_class.html">
            
                    
                    ▶ ︎クラスベース（1）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="backend_object_orientation_method_data.html">
            
                <a href="backend_object_orientation_method_data.html">
            
                    
                    ▶ ︎クラスベース（2）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="backend_object_orientation_data_structure.html">
            
                <a href="backend_object_orientation_data_structure.html">
            
                    
                    ▶ ︎データ構造
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    ロジック
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="backend_logic_validation.html">
            
                <a href="backend_logic_validation.html">
            
                    
                    ▶ ︎バックエンド側の検証ロジック
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="backend_logic_iteration.html">
            
                <a href="backend_logic_iteration.html">
            
                    
                    ▶ ︎反復ロジック
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="backend_api_restful.html">
            
                <a href="backend_api_restful.html">
            
                    
                    ▶ ︎RESTful APIの概念と実装
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" >
            
                <span>
            
                    
                    パッケージ／フレームワーク
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="backend_package.html">
            
                <a href="backend_package.html">
            
                    
                    ▶ ︎バックエンドパッケージ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.2" data-path="backend_framework_symfony.html">
            
                <a href="backend_framework_symfony.html">
            
                    
                    ▶ ︎Symfony
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.3" data-path="backend_framework_laravel.html">
            
                <a href="backend_framework_laravel.html">
            
                    
                    ▶ ︎Laravel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.4" data-path="backend_testing.html">
            
                <a href="backend_testing.html">
            
                    
                    ▶ ︎テスト
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.5" >
            
                <span>
            
                    
                    デバッグ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="backend_debug.html">
            
                <a href="backend_debug.html">
            
                    
                    ▶ ︎デバッグのコツ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    フロントエンドとバックエンド間のデータ通信
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="frontend_and_backend_authentication_authorization.html">
            
                <a href="frontend_and_backend_authentication_authorization.html">
            
                    
                    ▶ ︎認証と認可
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="frontend_and_backend_json.html">
            
                <a href="frontend_and_backend_json.html">
            
                    
                    ▶ ︎JSON
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    JavaScript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" >
            
                <span>
            
                    
                    プロトタイプベースオブジェクト指向
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1.1" data-path="frontend_object_orientation_prototype.html">
            
                <a href="frontend_object_orientation_prototype.html">
            
                    
                    ▶ ︎プロトタイプベース（1）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.2" data-path="frontend_object_orientation_method_data.html">
            
                <a href="frontend_object_orientation_method_data.html">
            
                    
                    ▶ ︎プロトタイプベース（2）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.2" >
            
                <span>
            
                    
                    ロジック
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="frontend_logic_validation.html">
            
                <a href="frontend_logic_validation.html">
            
                    
                    ▶ ︎フロントエンド側の検証ロジック
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.3" >
            
                <span>
            
                    
                    パッケージ／フレームワーク
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.3.1" data-path="frontend_package.html">
            
                <a href="frontend_package.html">
            
                    
                    ▶ ︎フロントエンドパッケージ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3.2" data-path="frontend_framework_vuejs.html">
            
                <a href="frontend_framework_vuejs.html">
            
                    
                    ▶ ︎Vue.js
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.4" >
            
                <span>
            
                    
                    デバッグ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.4.1" data-path="frontend_debug.html">
            
                <a href="frontend_debug.html">
            
                    
                    ▶ ︎デバッグのコツ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    ブラウザレンダリング
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="frontend_browser_rendering.html">
            
                <a href="frontend_browser_rendering.html">
            
                    
                    ▶ ︎ブラウザレンダリングの仕組み
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    データベース
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="backend_database_operation.html">
            
                <a href="backend_database_operation.html">
            
                    
                    ▶ ︎データベースの操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="backend_database_mysql.html">
            
                <a href="backend_database_mysql.html">
            
                    
                    ▶ ︎SQL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Go
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="infrastructure_go.html">
            
                <a href="infrastructure_go.html">
            
                    
                    ▶ 文法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    ネットワーク
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" >
            
                <span>
            
                    
                    構造
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="infrastructure_network_internet.html">
            
                <a href="infrastructure_network_internet.html">
            
                    
                    ▶ ︎ネットワーク構造
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" >
            
                <span>
            
                    
                    セキュリティ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="infrastructure_network_cyber_attacks.html">
            
                <a href="infrastructure_network_cyber_attacks.html">
            
                    
                    ▶ ︎サイバー攻撃
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="infrastructure_network_encryption_technology.html">
            
                <a href="infrastructure_network_encryption_technology.html">
            
                    
                    ▶ ︎通信データの暗号化技術
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    ソフトウェア
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" >
            
                <span>
            
                    
                    種類
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1.1" data-path="infrastructure_software.html">
            
                <a href="infrastructure_software.html">
            
                    
                    ▶ ︎ソフトウェアの種類
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.2" >
            
                <span>
            
                    
                    ミドルウェア
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.2.1" data-path="infrastructure_software_middleware_nginx.html">
            
                <a href="infrastructure_software_middleware_nginx.html">
            
                    
                    ▶ ︎Nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.2" data-path="infrastructure_software_middleware_apache.html">
            
                <a href="infrastructure_software_middleware_apache.html">
            
                    
                    ▶ ︎Apache
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.3" >
            
                <span>
            
                    
                    CentOS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.3.1" data-path="infrastructure_software_centos.html">
            
                <a href="infrastructure_software_centos.html">
            
                    
                    ▶ ︎CentOSの構成
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.4" >
            
                <span>
            
                    
                    ハードウェアとのコミュニケーション
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.4.1" data-path="infrastructure_software_machine_language_and_radix.html">
            
                <a href="infrastructure_software_machine_language_and_radix.html">
            
                    
                    ▶ ︎機械語と進数
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    クラウドインフラストラクチャ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="infrastructure_cloud_computing.html">
            
                <a href="infrastructure_cloud_computing.html">
            
                    
                    ▶ ︎クラウドコンピューティング
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12.2" data-path="infrastructure_cloud_computing_aws.html">
            
                <a href="infrastructure_cloud_computing_aws.html">
            
                    
                    ▶ ︎Amazon Web Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="infrastructure_cloud_computing_gcp.html">
            
                <a href="infrastructure_cloud_computing_gcp.html">
            
                    
                    ▶ ︎Google Cloud Platform
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    IaC
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="infrastructure_as_code.html">
            
                <a href="infrastructure_as_code.html">
            
                    
                    ▶ ︎Infrastructure as Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="infrastructure_terraform.html">
            
                <a href="infrastructure_terraform.html">
            
                    
                    ▶ ︎Terraform
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    仮想化技術
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="infrastructure_virtualization_comparison.html">
            
                <a href="infrastructure_virtualization_comparison.html">
            
                    
                    ▶ ︎仮想化技術の比較
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="infrastructure_virtualization_container.html">
            
                <a href="infrastructure_virtualization_container.html">
            
                    
                    ▶ ︎コンテナ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="infrastructure_virtualization_container_orchestration.html">
            
                <a href="infrastructure_virtualization_container_orchestration.html">
            
                    
                    ▶ ︎コンテナオーケストレーション
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="infrastructure_virtualization_server.html">
            
                <a href="infrastructure_virtualization_server.html">
            
                    
                    ▶ ︎仮想サーバ（仮想マシン）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    CI/CD
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="infrastructure_ci_cd.html">
            
                <a href="infrastructure_ci_cd.html">
            
                    
                    ▶ ︎CI & CD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="infrastructure_circleci.html">
            
                <a href="infrastructure_circleci.html">
            
                    
                    ▶ ︎CircleCI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="infrastructure_capistrano.html">
            
                <a href="infrastructure_capistrano.html">
            
                    
                    ▶ ︎Capistrano
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" >
            
                <span>
            
                    
                    ハードウェア
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="hardware.html">
            
                <a href="hardware.html">
            
                    
                    ▶ ︎ハードウェア
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="hardware_embedded_system.html">
            
                <a href="hardware_embedded_system.html">
            
                    
                    ▶ ︎組み込み機器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" >
            
                <span>
            
                    
                    開発フロー
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="management_development_flow.html">
            
                <a href="management_development_flow.html">
            
                    
                    ▶ ︎システム開発フローの全体像
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" >
            
                <span>
            
                    
                    Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="git.html">
            
                <a href="git.html">
            
                    
                    ▶ ︎Gitコマンド
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" >
            
                <span>
            
                    
                    アルゴリズム
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="backend_logic_algorithm.html">
            
                <a href="backend_logic_algorithm.html">
            
                    
                    ▶ ︎アルゴリズムのロジック
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" >
            
                <span>
            
                    
                    R言語
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="statistic_analysis.html">
            
                <a href="statistic_analysis.html">
            
                    
                    ▶ ︎統計解析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            GitBookで公開 
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >▶ ︎Amazon Web Service</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="amazon-web-service">Amazon Web Service</h1>
<h2 id="01-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;ec2&#xFF1A;elastic-computer-cloud">01. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;EC2&#xFF1A;Elastic Computer Cloud</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x6CE8;&#x610F;&#x70B9;&#x304C;&#x3042;&#x308B;&#x3082;&#x306E;&#x3060;&#x3051;&#x307E;&#x3068;&#x3081;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>AMI&#xFF1A;Amazon&#x30DE;&#x30B7;&#x30F3;&#x30A4;&#x30E1;&#x30FC;&#x30B8;</td>
<td>OS&#x3092;&#x9078;&#x629E;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30D9;&#x30F3;&#x30C0;&#x30FC;&#x516C;&#x5F0F;&#x306E;&#x3082;&#x306E;&#x3092;&#x9078;&#x629E;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;&#xFF08;&#x4F8B;&#xFF1A;CentOS&#x306E;AMI&#x4E00;&#x89A7; <a href="https://wiki.centos.org/Cloud/AWS&#xFF09;" target="_blank">https://wiki.centos.org/Cloud/AWS&#xFF09;</a></td>
</tr>
<tr>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x8A73;&#x7D30;&#x8A2D;&#x5B9A;</td>
<td>EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x81EA;&#x52D5;&#x5272;&#x308A;&#x5F53;&#x3066;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x306B;&#x3066;&#xFF0C;EC2&#x306B;&#x52D5;&#x7684;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#xFF0E;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x69CB;&#x7BC9;&#x5F8C;&#x306B;&#x6709;&#x52B9;&#x306B;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;<br>&#x30FB;&#x7D42;&#x4E86;&#x4FDD;&#x8B77;&#x306F;&#x5FC5;&#x305A;&#x6709;&#x52B9;&#x306B;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x8FFD;&#x52A0;</td>
<td>EBS&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x4E00;&#x822C;&#x7684;&#x306A;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;20&#xFF5E;30GiB&#x3067;&#x3088;&#x3044;&#xFF0E;&#x8E0F;&#x307F;&#x53F0;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x6700;&#x4F4E;&#x9650;&#x3067;&#x826F;&#x3044;&#x305F;&#x3081;&#xFF0C;OS&#x306E;&#x4E0B;&#x9650;&#x307E;&#x3067;&#x30B5;&#x30A4;&#x30BA;&#x3092;&#x4E0B;&#x3052;&#x308B;&#xFF0E;&#xFF08;&#x4F8B;&#xFF1A;AmazonLinux&#x306E;&#x4E0B;&#x9650;&#x306F;8GiB&#xFF0C;CentOS&#x306F;10GiB&#xFF09;</td>
</tr>
<tr>
<td>&#x30AD;&#x30FC;&#x30DA;&#x30A2;</td>
<td>EC2&#x306E;&#x79D8;&#x5BC6;&#x9375;&#x306B;&#x5BFE;&#x5FDC;&#x3057;&#x305F;&#x516C;&#x958B;&#x9375;&#x3092;&#x30A4;&#x30F3;&#x30B9;&#x30C8;&#x30FC;&#x30EB;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x30AD;&#x30FC;&#x30DA;&#x30A2;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D5;&#x30A3;&#x30F3;&#x30AC;&#x30FC;&#x30D7;&#x30EA;&#x30F3;&#x30C8;&#x5024;&#x3092;&#x8ABF;&#x3079;&#x308B;&#x3053;&#x3068;&#x3067;&#xFF0C;&#x516C;&#x958B;&#x9375;&#x3068;&#x79D8;&#x5BC6;&#x9375;&#x306E;&#x5BFE;&#x5FDC;&#x95A2;&#x4FC2;&#x3092;&#x8ABF;&#x3079;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30AD;&#x30FC;&#x30DA;&#x30A2;">&#x30AD;&#x30FC;&#x30DA;&#x30A2;</h3>
<h4 id="&#x30FB;&#x30AD;&#x30FC;&#x30DA;&#x30A2;&#x306E;&#x30D5;&#x30A3;&#x30F3;&#x30AC;&#x30FC;&#x30D7;&#x30EA;&#x30F3;&#x30C8;&#x5024;">&#x30FB;&#x30AD;&#x30FC;&#x30DA;&#x30A2;&#x306E;&#x30D5;&#x30A3;&#x30F3;&#x30AC;&#x30FC;&#x30D7;&#x30EA;&#x30F3;&#x30C8;&#x5024;</h4>
<p>&#x30ED;&#x30FC;&#x30AB;&#x30EB;&#x306B;&#x7F6E;&#x304B;&#x308C;&#x3066;&#x3044;&#x308B;&#x79D8;&#x5BC6;&#x9375;&#x304C;&#xFF0C;&#x8A72;&#x5F53;&#x3059;&#x308B;EC2&#x306B;&#x7F6E;&#x304B;&#x308C;&#x3066;&#x3044;&#x308B;&#x516C;&#x958B;&#x9375;&#x3068;&#x30DA;&#x30A2;&#x306A;&#x306E;&#x304B;&#x3069;&#x3046;&#x304B;&#xFF0C;&#x30D5;&#x30A3;&#x30F3;&#x30AC;&#x30FC;&#x30D7;&#x30EA;&#x30F3;&#x30C8;&#x5024;&#x3092;&#x7167;&#x5408;&#x3057;&#x3066;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x65B9;&#x6CD5;</p>
<pre class="language-"><code class="lang-shell">$ openssl pkcs8 -in <span class="token operator">&lt;</span>&#x79D8;&#x5BC6;&#x9375;<span class="token operator">&gt;</span>.pem -inform PEM -outform DER -topk8 -nocrypt <span class="token operator">|</span> openssl sha1 -c
</code></pre>
<h4 id="&#x30FB;ec2&#x3078;&#x306E;ssh&#x63A5;&#x7D9A;">&#x30FB;EC2&#x3078;&#x306E;SSH&#x63A5;&#x7D9A;</h4>
<p>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x306E;SSH&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3082;&#x3064;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x306F;&#xFF0C;&#x307E;&#x305A;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x3092;&#x7D4C;&#x7531;&#x3057;&#x3066;&#xFF0C;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x3092;&#x901A;&#x904E;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x5F8C;&#xFF0C;Route53&#xFF0C;ALB&#x3092;&#x7D4C;&#x7531;&#x305B;&#x305A;&#xFF0C;&#x305D;&#x306E;&#x307E;&#x307E;EC2&#x3078;&#x5411;&#x304B;&#x3046;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ssh-port-forward.png" alt="ssh-port-forward"></p>
<p><br></p>
<h2 id="01-02-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;lambda">01-02. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;Lambda</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30B5;&#x30FC;&#x30D0;&#x30EC;&#x30B9;&#x30A2;&#x30FC;&#x30AD;&#x30C6;&#x30AF;&#x30C1;&#x30E3;&#x3068;&#x306F;.png" alt="&#x30B5;&#x30FC;&#x30D0;&#x30EC;&#x30B9;&#x30A2;&#x30FC;&#x30AD;&#x30C6;&#x30AF;&#x30C1;&#x30E3;&#x3068;&#x306F;"></p>
<p>&#x30B5;&#x30FC;&#x30D0;&#x30EC;&#x30B9;&#x3067;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30C8;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#xFF0E;Lambda&#x3092;&#x8EF8;&#x306B;&#x4ED6;&#x306E;FaaS&#x3068;&#x9023;&#x643A;&#x3055;&#x305B;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x5074;&#x306F;&#x95A2;&#x6570;&#x30D7;&#x30ED;&#x30B0;&#x30E9;&#x30E0;&#x3092;&#x4F5C;&#x6210;&#x3057;&#x3055;&#x3048;&#x3059;&#x308C;&#x3070;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30E9;&#x30F3;&#x30BF;&#x30A4;&#x30E0;</td>
<td>&#x95A2;&#x6570;&#x306E;&#x5B9F;&#x88C5;&#x306B;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x8A00;&#x8A9E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x95A2;&#x6570;&#x3067;&#x306F;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30CF;&#x30F3;&#x30C9;&#x30E9;</td>
<td>&#x95A2;&#x6570;&#x306E;&#x5B9F;&#x884C;&#x6642;&#x306B;&#x30B3;&#x30FC;&#x30EB;&#x3057;&#x305F;&#x3044;&#x5177;&#x4F53;&#x7684;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x95A2;&#x6570;&#x3067;&#x306F;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;<br>&#x30FB;Node.js&#xFF1A;<code>index.js</code> &#x3068;&#x3044;&#x3046;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x3067; <code>exports.handler</code> &#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3092;&#x547C;&#x3073;&#x51FA;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x540D;&#x3092;<code>index.handler</code>&#x3068;&#x3059;&#x308B;</td>
</tr>
<tr>
<td>&#x30EC;&#x30A4;&#x30E4;&#x30FC;</td>
<td>&#x7570;&#x306A;&#x308B;&#x95A2;&#x6570;&#x306E;&#x9593;&#x3067;&#xFF0C;&#x7279;&#x5B9A;&#x306E;&#x51E6;&#x7406;&#x3092;&#x5171;&#x901A;&#x5316;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x95A2;&#x6570;&#x3067;&#x306F;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30E1;&#x30E2;&#x30EA;</td>
<td>Lambda&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x30E1;&#x30E2;&#x30EA;&#x91CF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x6700;&#x5927;10240MB&#x307E;&#x3067;&#x5897;&#x8A2D;&#x3067;&#x304D;&#xFF0C;&#x5897;&#x8A2D;&#x3059;&#x308B;&#x307B;&#x3069;&#x30D1;&#x30D5;&#x30A9;&#x30FC;&#x30DE;&#x30F3;&#x30B9;&#x304C;&#x4E0A;&#x304C;&#x308B;&#xFF0E;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x3067;&#x5411;&#x4E0A;&#x7387;&#x30B0;&#x30E9;&#x30D5;&#x3092;&#x691C;&#x7D22;&#x305B;&#x3088;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30BF;&#x30A4;&#x30E0;&#x30A2;&#x30A6;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x5B9F;&#x884C;&#x30ED;&#x30FC;&#x30EB;</td>
<td>Lambda&#x5185;&#x306E;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#x6642;&#x306B;&#x5FC5;&#x8981;&#x306A;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x3082;&#x3064;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x65E2;&#x5B58;&#x30ED;&#x30FC;&#x30EB;</td>
<td>Lambda&#x306B;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30C8;&#x30EA;&#x30AC;&#x30FC;</td>
<td>Lambda&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x305F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5FDC;&#x3058;&#x3066;&#xFF0C;Lambda&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x4FEE;&#x6B63;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;</td>
<td>Lambda&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;&#x8A2D;&#x5B9A;&#x306B;&#x5FDC;&#x3058;&#x3066;&#xFF0C;Lambda&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x4FEE;&#x6B63;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x9001;&#x4FE1;&#x5148;</td>
<td>Lambda&#x304B;&#x3089;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x9001;&#x4FE1;&#x5148;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306F;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x4FEE;&#x6B63;&#x3055;&#x308C;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x5225;&#x9014;&#xFF0C;&#x624B;&#x52D5;&#x3067;&#x4FEE;&#x6B63;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x74B0;&#x5883;&#x5909;&#x6570;</td>
<td>Lambda&#x306E;&#x95A2;&#x6570;&#x5185;&#x306B;&#x51FA;&#x529B;&#x3059;&#x308B;&#x74B0;&#x5883;&#x5909;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x6A19;&#x6E96;&#x3067;&#x306F;&#xFF0C;&#x74B0;&#x5883;&#x5909;&#x6570;&#x306F;AWS&#x30DE;&#x30CD;&#x30FC;&#x30B8;&#x30C9;&#x578B;KMS&#x30AD;&#x30FC;&#x306B;&#x3088;&#x3063;&#x3066;&#x6697;&#x53F7;&#x5316;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x540C;&#x6642;&#x5B9F;&#x884C;&#x6570;</td>
<td>&#x540C;&#x6642;&#x5B9F;&#x884C;&#x306E;&#x4E88;&#x7D04;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30D7;&#x30ED;&#x30D3;&#x30B8;&#x30E7;&#x30CB;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x305F;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="lambda&#x306E;&#x95A2;&#x6570;">Lambda&#x306E;&#x95A2;&#x6570;</h3>
<h4 id="&#x30FB;&#x975E;&#x540C;&#x671F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#xFF08;async-handlers&#xFF09;">&#x30FB;&#x975E;&#x540C;&#x671F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#xFF08;Async handlers&#xFF09;</h4>
<p>Lambda&#x306F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x3092;&#x975E;&#x540C;&#x671F;&#x95A2;&#x6570;&#x3068;&#x3057;&#x3066;&#x30B3;&#x30FC;&#x30EB;&#x3057;&#xFF0C;&#x5F15;&#x6570;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#xFF08;event&#xFF09;&#x306B;&#x5024;&#x3092;&#x308F;&#x305F;&#x3059;&#xFF0E;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306E;&#x521D;&#x671F;&#x540D;&#x306F;<code>handler</code>&#x3067;&#x3042;&#x308B;&#x304C;&#x5225;&#x540D;&#x3067;&#x3082;&#x3088;&#x3044;&#xFF0E;<code>return</code>&#x307E;&#x305F;&#x306F;<code>throw</code>&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;Lambda&#x306E;&#x30B3;&#x30FC;&#x30EB;&#x5143;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3068;&#x3057;&#x3066;&#xFF0C;Promise&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x3053;&#x3068;&#x3082;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/lambda/latest/dg/nodejs-handler.html#nodejs-handler-async" target="_blank">https://docs.aws.amazon.com/lambda/latest/dg/nodejs-handler.html#nodejs-handler-async</a></p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>Node.js&#x306E;&#x5834;&#x5408;&#x3092;&#x793A;&#x3059;&#xFF0E;</p>
<pre class="language-"><code class="lang-javascript">exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&apos;statusCode&apos;</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token string">&apos;body&apos;</span> <span class="token operator">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    response<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">&apos;Hello World!&apos;</span>

    <span class="token keyword">return</span> response<span class="token punctuation">;</span> <span class="token comment">// &#x3082;&#x3057;&#x304F;&#x306F;throw&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> aws <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;aws-sdk&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">aws<span class="token punctuation">.</span>S3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s3<span class="token punctuation">.</span><span class="token function">listBuckets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Promise&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3092;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3068;&#x3057;&#x3066;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x540C;&#x671F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#xFF08;non-async-handlers&#xFF09;">&#x30FB;&#x540C;&#x671F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#xFF08;Non-async handlers&#xFF09;</h4>
<p>Lambda&#x306F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x3092;&#x540C;&#x671F;&#x95A2;&#x6570;&#x3068;&#x3057;&#x3066;&#x30B3;&#x30FC;&#x30EB;&#x3057;&#xFF0C;&#x5F15;&#x6570;&#xFF08;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#xFF0C;context&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#xFF0C;callback&#x95A2;&#x6570;&#xFF09;&#x306B;&#x5024;&#x3092;&#x308F;&#x305F;&#x3059;&#xFF0E;&#x3053;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306B;&#x306F;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3068;&#x30D7;&#x30ED;&#x30D1;&#x30C6;&#x30A3;&#x3092;&#x6301;&#x3064;&#xFF0E;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306E;&#x521D;&#x671F;&#x540D;&#x306F;<code>handler</code>&#x3067;&#x3042;&#x308B;&#x304C;&#x5225;&#x540D;&#x3067;&#x3082;&#x3088;&#x3044;&#xFF0E;<code>callback</code>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;Lambda&#x306E;&#x30B3;&#x30FC;&#x30EB;&#x5143;&#x306B;Promise&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/lambda/latest/dg/nodejs-handler.html#nodejs-handler-sync&#xFF08;&#x203B;&#x300E;Non&#x300F;&#x304C;&#x7FFB;&#x8A33;&#x3092;&#x304A;&#x304B;&#x3057;&#x304F;&#x3057;&#x3066;&#x3044;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x82F1;&#x8A9E;&#x7248;&#x3092;&#x63A8;&#x5968;&#xFF09;" target="_blank">https://docs.aws.amazon.com/lambda/latest/dg/nodejs-handler.html#nodejs-handler-sync&#xFF08;&#x203B;&#x300E;Non&#x300F;&#x304C;&#x7FFB;&#x8A33;&#x3092;&#x304A;&#x304B;&#x3057;&#x304F;&#x3057;&#x3066;&#x3044;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x82F1;&#x8A9E;&#x7248;&#x3092;&#x63A8;&#x5968;&#xFF09;</a></p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>Node.js&#x306E;&#x5834;&#x5408;&#x3092;&#x793A;&#x3059;&#xFF0E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x8FD4;&#x4FE1;&#x3059;&#x308B;&#x306B;&#x306F;&#xFF0C;<code>done</code>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#xFF0C;<code>succeed</code>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#xFF0C;<code>callback</code>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x307E;&#x305F;&#xFF0C;&#x51E6;&#x7406;&#x3092;&#x7D42;&#x3048;&#x308B;&#x5834;&#x5408;&#x306F;<code>return</code>&#x3067;&#x8FD4;&#x5374;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-javascript">exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> context<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token comment">// &#x306A;&#x3093;&#x3089;&#x304B;&#x306E;&#x51E6;&#x7406;</span>

    <span class="token comment">// context&#x4EE5;&#x524D;&#x306E;&#x51E6;&#x7406;&#x3092;&#x5F85;&#x6A5F;&#x306F;&#x3057;&#x306A;&#x3044;</span>
    context<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">/*&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// &#x51E6;&#x7406;&#x3092;&#x7D42;&#x3048;&#x308B;&#x5834;&#x5408;</span>
    <span class="token comment">// return context.done(null, /*&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;*/)</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript">exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> context<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token comment">// &#x306A;&#x3093;&#x3089;&#x304B;&#x306E;&#x51E6;&#x7406;</span>

    <span class="token comment">// context&#x4EE5;&#x524D;&#x306E;&#x51E6;&#x7406;&#x3092;&#x5F85;&#x6A5F;&#x306F;&#x3057;&#x306A;&#x3044;</span>
    context<span class="token punctuation">.</span><span class="token function">succeed</span><span class="token punctuation">(</span> <span class="token comment">/*&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;*/</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// &#x51E6;&#x7406;&#x3092;&#x7D42;&#x3048;&#x308B;&#x5834;&#x5408;</span>
    <span class="token comment">// return context.succeed( /*&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;*/ )</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript">exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> context<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token comment">// &#x306A;&#x3093;&#x3089;&#x304B;&#x306E;&#x51E6;&#x7406;</span>

    <span class="token comment">// callback&#x4EE5;&#x524D;&#x306E;&#x51E6;&#x7406;&#x3092;&#x5F85;&#x6A5F;&#x3059;&#x308B;&#xFF0E;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">/*&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// &#x51E6;&#x7406;&#x3092;&#x7D42;&#x3048;&#x308B;&#x5834;&#x5408;</span>
    <span class="token comment">// return callback(null, /*&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;*/)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x4E88;&#x7D04;&#x3055;&#x308C;&#x305F;&#x5F15;&#x6570;&#x306E;&#x8AAC;&#x660E;">&#x30FB;&#x4E88;&#x7D04;&#x3055;&#x308C;&#x305F;&#x5F15;&#x6570;&#x306E;&#x8AAC;&#x660E;</h4>
<table>
<thead>
<tr>
<th>&#x5F15;&#x6570;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;</td>
<td>HTTP&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x95A2;&#x3059;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x304C;&#x4EE3;&#x5165;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
<td>Lambda&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3054;&#x3068;&#x306B;&#xFF0C;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;&#x69CB;&#x9020;&#x304C;&#x7570;&#x306A;&#x308B;&#xFF0E;&#x69CB;&#x9020;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0E;<br>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/lambda-services.html" target="_blank">https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/lambda-services.html</a></td>
</tr>
<tr>
<td>context&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;</td>
<td>Lambda&#x306B;&#x95A2;&#x3059;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#xFF08;&#x540D;&#x524D;&#xFF0C;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306A;&#x3069;&#xFF09;&#x3092;&#x53D6;&#x5F97;&#x3067;&#x304D;&#x308B;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3068;&#x30D7;&#x30ED;&#x30D1;&#x30C6;&#x30A3;&#x304C;&#x4EE3;&#x5165;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
<td>&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;&#x69CB;&#x9020;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;<br>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/nodejs-context.html" target="_blank">https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/nodejs-context.html</a></td>
</tr>
<tr>
<td>callback&#x95A2;&#x6570;</td>
<td>&#x4EE3;&#x5165;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x95A2;&#x6570;&#x306E;&#x5B9F;&#x4F53;&#x306F;&#x4E0D;&#x660E;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x5168;&#x3066;&#x306E;&#x51E6;&#x7406;&#x304C;&#x7D42;&#x308F;&#x308B;&#x307E;&#x3067;&#x5B9F;&#x884C;&#x304C;&#x5F85;&#x6A5F;&#x3055;&#x308C;&#xFF0C;Lambda&#x306E;&#x30B3;&#x30FC;&#x30EB;&#x5143;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/nodejs-handler.html" target="_blank">https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/nodejs-handler.html</a></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30C6;&#x30B9;&#x30C8;&#x3068;&#x30C7;&#x30D0;&#x30C3;&#x30B0;">&#x30FB;&#x30C6;&#x30B9;&#x30C8;&#x3068;&#x30C7;&#x30D0;&#x30C3;&#x30B0;</h4>
<p>Lambda&#x3067;&#x95A2;&#x6570;&#x3092;&#x4F5C;&#x6210;&#x3059;&#x308B;&#x3068;&#xFF0C;CloudWatch Logs&#x306E;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#xFF0C;&#x300C;<code>/aws/lambda/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x95A2;&#x6570;&#x540D;</span><span class="token punctuation">&gt;</span></span></code>&#x300D;&#x3068;&#x3044;&#x3046;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x4F5C;&#x6210;&#x3055;&#x308C;&#x308B;&#xFF0E;Lambda&#x306E;&#x95A2;&#x6570;&#x5185;&#x3067;&#x767A;&#x751F;&#x3057;&#x305F;&#x30A8;&#x30E9;&#x30FC;&#x3084;<code>console.log</code>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x306E;&#x30ED;&#x30B0;&#x306F;&#x3053;&#x3053;&#x306B;&#x51FA;&#x529B;&#x3055;&#x308C;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x90FD;&#x5EA6;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x540C;&#x6642;&#x5B9F;&#x884C;">&#x540C;&#x6642;&#x5B9F;&#x884C;</h3>
<h4 id="&#x30FB;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x306E;&#x4E88;&#x7D04;">&#x30FB;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x306E;&#x4E88;&#x7D04;</h4>
<p>Lambda&#x306F;&#xFF0C;&#x95A2;&#x6570;&#x306E;&#x5B9F;&#x884C;&#x4E2D;&#x306B;&#x518D;&#x3073;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x308B;&#x3068;&#xFF0C;&#x95A2;&#x6570;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x65B0;&#x3057;&#x304F;&#x4F5C;&#x6210;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x3057;&#x3066;&#xFF0C;&#x5404;&#x95A2;&#x6570;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x7528;&#x3044;&#x3066;&#xFF0C;&#x540C;&#x6642;&#x4E26;&#x884C;&#x7684;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x5FDC;&#x3058;&#x308B;&#xFF0E;&#x6A19;&#x6E96;&#x3067;&#x306F;&#xFF0C;&#x95A2;&#x6570;&#x306E;&#x7A2E;&#x985E;&#x304C;&#x3044;&#x304F;&#x3064;&#x3042;&#x3063;&#x3066;&#x3082;&#xFF0C;AWS&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x5F53;&#x305F;&#x308A;&#xFF0C;&#x5408;&#x8A08;&#x3067;<code>1000</code>&#x500B;&#x306E;&#x51E6;&#x7406;&#x3057;&#x304B;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;&#x95A2;&#x6570;&#x3054;&#x3068;&#x306B;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x6570;&#x306E;&#x4F7F;&#x7528;&#x67A0;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x305F;&#x3081;&#x306B;&#x306F;&#xFF0C;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x306E;&#x4E88;&#x7D04;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/configuration-concurrency.html#configuration-concurrency-reserved" target="_blank">https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/configuration-concurrency.html#configuration-concurrency-reserved</a></p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/lambda_concurrency-model.png" alt="lambda_concurrency-model"></p>
<p><br></p>
<h3 id="&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h3>
<h4 id="&#x30FB;&#x5B9F;&#x884C;&#x306E;&#x305F;&#x3081;&#x306E;&#x6700;&#x4F4E;&#x9650;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x5B9F;&#x884C;&#x306E;&#x305F;&#x3081;&#x306E;&#x6700;&#x4F4E;&#x9650;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>Lambda&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x306F;&#xFF0C;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3055;&#x308C;&#x305F;&#x95A2;&#x6570;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x6A29;&#x9650;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x95A2;&#x6570;&#x3092;&#x53D6;&#x5F97;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> &apos;lambda<span class="token operator">:</span>InvokeFunction&apos;<span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>lambda<span class="token operator">:</span>&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;<span class="token operator">:</span>&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;<span class="token operator">:</span>function<span class="token operator">:</span>&lt;&#x95A2;&#x6570;&#x540D;&gt;*&apos;
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h3 id="&#x30C7;&#x30D7;&#x30ED;&#x30A4;">&#x30C7;&#x30D7;&#x30ED;&#x30A4;</h3>
<h4 id="&#x30FB;&#x76F4;&#x63A5;&#x4FEE;&#x6B63;">&#x30FB;&#x76F4;&#x63A5;&#x4FEE;&#x6B63;</h4>
<p>&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3092;&#x884C;&#x308F;&#x305A;&#x306B;&#xFF0C;&#x95A2;&#x6570;&#x306E;&#x30BD;&#x30FC;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x3092;&#x76F4;&#x63A5;&#x4FEE;&#x6B63;&#x3057;&#xFF0C;&#x300C;Deploy&#x300D;&#x30DC;&#x30BF;&#x30F3;&#x3067;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;s3&#x306B;&#x304A;&#x3051;&#x308B;zip&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;S3&#x306B;&#x304A;&#x3051;&#x308B;zip&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>&#x30D3;&#x30EB;&#x30C9;&#x5F8C;&#x306E;&#x30BD;&#x30FC;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x3092;zip&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306B;&#x3057;&#x3066;&#x30A2;&#x30C3;&#x30D7;&#x30ED;&#x30FC;&#x30C9;&#x3059;&#x308B;&#xFF0E;&#x30ED;&#x30FC;&#x30AB;&#x30EB;PC&#x307E;&#x305F;&#x306F;S3&#x304B;&#x3089;&#x30A2;&#x30C3;&#x30D7;&#x30ED;&#x30FC;&#x30C9;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/gettingstarted-package.html#gettingstarted-package-zip" target="_blank">https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/gettingstarted-package.html#gettingstarted-package-zip</a></p>
<h4 id="&#x30FB;ecr&#x306B;&#x304A;&#x3051;&#x308B;&#x30A4;&#x30E1;&#x30FC;&#x30B8;">&#x30FB;ECR&#x306B;&#x304A;&#x3051;&#x308B;&#x30A4;&#x30E1;&#x30FC;&#x30B8;</h4>
<p>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x95A2;&#x6570;&#x3067;&#x306E;&#x307F;&#x6709;&#x52B9;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x30D3;&#x30EB;&#x30C9;&#x5F8C;&#x306E;&#x30BD;&#x30FC;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x3092;Docker&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3057;&#x3066;&#x30A2;&#x30C3;&#x30D7;&#x30ED;&#x30FC;&#x30C9;&#x3059;&#x308B;&#xFF0E;ECR&#x304B;&#x3089;&#x30A2;&#x30C3;&#x30D7;&#x30ED;&#x30FC;&#x30C9;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/gettingstarted-package.html#gettingstarted-package-images" target="_blank">https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/gettingstarted-package.html#gettingstarted-package-images</a></p>
<p><br></p>
<h3 id="nodejs&#x3092;&#x7528;&#x3044;&#x305F;&#x95A2;&#x6570;&#x4F8B;">Node.js&#x3092;&#x7528;&#x3044;&#x305F;&#x95A2;&#x6570;&#x4F8B;</h3>
<h4 id="&#x30FB;&#x6A19;&#x6E96;&#x3067;&#x4F7F;&#x7528;&#x53EF;&#x80FD;&#x306A;&#x30E2;&#x30B8;&#x30E5;&#x30FC;&#x30EB;">&#x30FB;&#x6A19;&#x6E96;&#x3067;&#x4F7F;&#x7528;&#x53EF;&#x80FD;&#x306A;&#x30E2;&#x30B8;&#x30E5;&#x30FC;&#x30EB;</h4>
<table>
<thead>
<tr>
<th>&#x30E2;&#x30B8;&#x30E5;&#x30FC;&#x30EB;&#x540D;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node.js&#x306E;&#x6A19;&#x6E96;&#x30E2;&#x30B8;&#x30E5;&#x30FC;&#x30EB;</td>
<td>&#x53C2;&#x8003;&#xFF1A;<a href="https://nodejs.org/api/index.html" target="_blank">https://nodejs.org/api/index.html</a></td>
</tr>
<tr>
<td>aws-sdk</td>
<td>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/" target="_blank">https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/</a></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;api-gateway--s3">&#x30FB;API Gateway &amp; S3</h4>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>APIGateway&#x3067;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;&#x305D;&#x308C;&#x306B;&#x5FDC;&#x3058;&#x3066;&#x7279;&#x5B9A;&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x3092;S3&#x306B;&#x4FDD;&#x5B58;&#x3059;&#x308B;&#xFF0E;Lambda&#x304C;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x4E8B;&#x524D;&#x306B;&#xFF0C;AWS&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x300C;<code>AWSLambdaExecute</code>&#x300D;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30FC;&#x30EB;&#x3092;Lambda&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-javascript"><span class="token string">&apos;use strict&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> aws <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;aws-sdk&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">aws<span class="token punctuation">.</span>S3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> context<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token comment">// API Gateway&#x3068;&#x306E;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x610F;&#x8B58;&#x3057;&#x305F;JSON&#x69CB;&#x9020;&#x306B;&#x3059;&#x308B;    </span>
    <span class="token comment">// &#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x521D;&#x671F;&#x5024;</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&apos;statusCode&apos;</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token string">&apos;body&apos;</span> <span class="token operator">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// &#x8A8D;&#x53EF;&#x30D0;&#x30EA;&#x30C7;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&apos;X-API-Key&apos;</span><span class="token punctuation">]</span> <span class="token operator">!==</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">X_API_KEY</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">403</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">&apos;An API key is invalid.&apos;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// &#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x30D0;&#x30EA;&#x30C7;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>event<span class="token punctuation">.</span>headers <span class="token operator">||</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">&apos;Parameters are not found.&apos;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    s3<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            Bucket<span class="token operator">:</span> <span class="token string">&apos;&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;&apos;</span><span class="token punctuation">,</span>
            Key<span class="token operator">:</span> <span class="token string">&apos;&lt;&#x30D1;&#x30B9;&#x3092;&#x542B;&#x3080;&#x4FDD;&#x5B58;&#x5148;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&gt;&apos;</span><span class="token punctuation">,</span>
            Body<span class="token operator">:</span> <span class="token string">&apos;&lt;&#x4FDD;&#x5B58;&#x30C7;&#x30FC;&#x30BF;&gt;&apos;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                response<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>
                response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">&apos;[ERROR] &apos;</span> <span class="token operator">+</span> err<span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            response<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
            response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">&apos;OK&apos;</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x30FB;amplify--eventbridge--slackapi">&#x30FB;Amplify &amp; EventBridge &amp; SlackAPI</h4>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>Amplify&#x306E;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;EventBridge&#x3067;&#x30AD;&#x30E3;&#x30C3;&#x30C1;&#x3057;&#xFF0C;&#x3053;&#x308C;&#x3092;Lambda&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#xFF0E;Lambda&#x3067;&#x306F;&#xFF0C;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x3092;&#x69CB;&#x6210;&#x3057;&#xFF0C;SlackAPI&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-javascript"><span class="token string">&apos;use strict&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;https&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>format<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;util&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**1
 * &#x975E;&#x540C;&#x671F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;
 *
 * @param event
 * @returns boolean
 */</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>event<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> result<span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>

        <span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token function">buildMessage</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>

        result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">postMessageToSlack</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * &#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x3092;&#x4F5C;&#x6210;&#x3057;&#x307E;&#x3059;&#xFF0E;
 *
 * @param event
 * @returns {string}
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">buildMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

        <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            channel<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SLACK_CHANNEL_ID</span><span class="token punctuation">,</span>
            text<span class="token operator">:</span> <span class="token string">&apos;dev&#x74B0;&#x5883; &#x901A;&#x77E5;&apos;</span><span class="token punctuation">,</span>
            attachments<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                color<span class="token operator">:</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>jobStatus <span class="token operator">===</span> <span class="token string">&apos;SUCCEED&apos;</span> <span class="token operator">?</span> <span class="token string">&apos;#00FF00&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;#ff0000&apos;</span><span class="token punctuation">,</span>
                blocks<span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        type<span class="token operator">:</span> <span class="token string">&apos;section&apos;</span><span class="token punctuation">,</span>
                        text<span class="token operator">:</span> <span class="token punctuation">{</span>
                            type<span class="token operator">:</span> <span class="token string">&apos;mrkdwn&apos;</span><span class="token punctuation">,</span>
                            text<span class="token operator">:</span> <span class="token function">format</span><span class="token punctuation">(</span>
                                <span class="token string">&apos;%s&#x74B0;&#x5883;&apos;</span><span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>appId <span class="token operator">===</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">AMPLIFY_APP_ID_PC</span> <span class="token operator">?</span> <span class="token string">&apos;PC&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;SP&apos;</span>
                            <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        type<span class="token operator">:</span> <span class="token string">&apos;context&apos;</span><span class="token punctuation">,</span>
                        elements<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                            type<span class="token operator">:</span> <span class="token string">&apos;mrkdwn&apos;</span><span class="token punctuation">,</span>
                            text<span class="token operator">:</span> <span class="token function">format</span><span class="token punctuation">(</span>
                                <span class="token string">&apos;*&#x7D50;&#x679C;*: %s&apos;</span><span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>jobStatus <span class="token operator">===</span> <span class="token string">&apos;SUCCEED&apos;</span> <span class="token operator">?</span> <span class="token string">&apos;&#x6210;&#x529F;&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;&#x5931;&#x6557;&apos;</span><span class="token punctuation">,</span>
                            <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        type<span class="token operator">:</span> <span class="token string">&apos;context&apos;</span><span class="token punctuation">,</span>
                        elements<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                            type<span class="token operator">:</span> <span class="token string">&apos;mrkdwn&apos;</span><span class="token punctuation">,</span>
                            text<span class="token operator">:</span> <span class="token function">format</span><span class="token punctuation">(</span>
                                <span class="token string">&apos;*&#x30D6;&#x30E9;&#x30F3;&#x30C1;&#x540D;*: %s&apos;</span><span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>branchName
                            <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        type<span class="token operator">:</span> <span class="token string">&apos;context&apos;</span><span class="token punctuation">,</span>
                        elements<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                            type<span class="token operator">:</span> <span class="token string">&apos;mrkdwn&apos;</span><span class="token punctuation">,</span>
                            text<span class="token operator">:</span> <span class="token function">format</span><span class="token punctuation">(</span>
                                <span class="token string">&apos;*&#x30D7;&#x30EB;&#x30EA;&#x30AF;URL*: https://github.com/Hiroki-IT/xxx_repository/compare/%s&apos;</span><span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>branchName
                            <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        type<span class="token operator">:</span> <span class="token string">&apos;context&apos;</span><span class="token punctuation">,</span>
                        elements<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                            type<span class="token operator">:</span> <span class="token string">&apos;mrkdwn&apos;</span><span class="token punctuation">,</span>
                            text<span class="token operator">:</span> <span class="token function">format</span><span class="token punctuation">(</span>
                                <span class="token string">&apos;*&#x691C;&#x8A3C;URL*: https://%s.%s.amplifyapp.com&apos;</span><span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>branchName<span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>appId
                            <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        type<span class="token operator">:</span> <span class="token string">&apos;context&apos;</span><span class="token punctuation">,</span>
                        elements<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                            type<span class="token operator">:</span> <span class="token string">&apos;mrkdwn&apos;</span><span class="token punctuation">,</span>
                            text<span class="token operator">:</span> <span class="token function">format</span><span class="token punctuation">(</span>
                                <span class="token string">&apos;&lt;https://%s.console.aws.amazon.com/amplify/home?region=%s#/%s/%s/%s|:amplify: *Amplify&#x30B3;&#x30F3;&#x30BD;&#x30FC;&#x30EB;&#x753B;&#x9762;&#x306F;&#x3053;&#x3061;&#x3089;*&gt;&apos;</span><span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>region<span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>region<span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>appId<span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>branchName<span class="token punctuation">,</span>
                                event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>jobId
                            <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        type<span class="token operator">:</span> <span class="token string">&apos;divider&apos;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * &#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x3092;&#x9001;&#x4FE1;&#x3057;&#x307E;&#x3059;&#xFF0E;
 *
 * @param message
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">postMessageToSlack</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

        <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
            host<span class="token operator">:</span> <span class="token string">&apos;slack.com&apos;</span><span class="token punctuation">,</span>
            path<span class="token operator">:</span> <span class="token string">&apos;/api/chat.postMessage&apos;</span><span class="token punctuation">,</span>
            method<span class="token operator">:</span> <span class="token string">&apos;POST&apos;</span><span class="token punctuation">,</span>
            headers<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">&apos;Content-Type&apos;</span><span class="token operator">:</span> <span class="token string">&apos;application/json&apos;</span><span class="token punctuation">,</span>
                <span class="token string">&apos;Authorization&apos;</span><span class="token operator">:</span> <span class="token string">&apos;Bearer &apos;</span> <span class="token operator">+</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SLACK_API_TOKEN</span><span class="token punctuation">,</span>
                <span class="token string">&apos;Content-Length&apos;</span><span class="token operator">:</span> Buffer<span class="token punctuation">.</span><span class="token function">byteLength</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> request <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

            <span class="token keyword">let</span> body<span class="token punctuation">;</span>

            response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&apos;data&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                body <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&apos;error&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                body <span class="token operator">=</span> error<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&apos;end&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>statusCode<span class="token operator">:</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">,</span> body<span class="token operator">:</span> body<span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>statusCode <span class="token operator">&lt;=</span> <span class="token number">299</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>result<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>result<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        request<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&apos;error&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>error<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// &#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x30DC;&#x30C7;&#x30A3;&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#x3066;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3057;&#x307E;&#x3059;&#xFF0E;</span>
        request<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>

        request<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>request<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h2 id="01-03-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;lambdaedge">01-03. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;Lambda@Edge</h2>
<h3 id="&#x901A;&#x5E38;&#x306E;lambda&#x3068;&#x306E;&#x9055;&#x3044;">&#x901A;&#x5E38;&#x306E;Lambda&#x3068;&#x306E;&#x9055;&#x3044;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Lambda@Edge.png" alt="Lambda@Edge"></p>
<h4 id="&#x30FB;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;&#x7A2E;&#x985E;">&#x30FB;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;&#x7A2E;&#x985E;</h4>
<p>Cloud Front&#x306B;&#x7D71;&#x5408;&#x3055;&#x308C;&#x305F;Lambda&#x3092;&#xFF0C;&#x7279;&#x5225;&#x306B;Lambda@Edge&#x3068;&#x3044;&#x3046;&#xFF0E;Cloud Front&#x306E;&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0C;&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0C;&#x3092;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3059;&#x308B;&#xFF0E;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;Cloud Front&#x306B;&#xFF0C;Lambda&#x306E;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x304C;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x767A;&#x706B;&#x306E;&#x30BF;&#x30A4;&#x30DF;&#x30F3;&#x30B0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>Cloud Front&#x304C;&#xFF0C;&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x304B;&#x3089;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x5F8C;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x524D;&#xFF09;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>Cloud Front&#x304C;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30B5;&#x30FC;&#x30D0;&#x30FC;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x524D;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x78BA;&#x8A8D;&#x3057;&#x305F;&#x5F8C;&#xFF09;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td>Cloud Front&#x304C;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x304B;&#x3089;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x5F8C;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x524D;&#xFF09;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td>Cloud Front&#x304C;&#xFF0C;&#x30D3;&#x30E5;&#x30FC;&#x30EF;&#x30FC;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x524D;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x78BA;&#x8A8D;&#x3057;&#x305F;&#x5F8C;&#xFF09;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x5404;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3078;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;">&#x30FB;&#x5404;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3078;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;</h4>
<p>&#x5404;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3078;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x306F;&#xFF0C;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/lambda-event-structure.html" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/lambda-event-structure.html</a></p>
<p><br></p>
<h3 id="&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h3>
<h4 id="&#x30FB;&#x5B9F;&#x884C;&#x306E;&#x305F;&#x3081;&#x306E;&#x6700;&#x4F4E;&#x9650;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x5B9F;&#x884C;&#x306E;&#x305F;&#x3081;&#x306E;&#x6700;&#x4F4E;&#x9650;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>Lambda@Edge&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x306F;&#xFF0C;&#x6700;&#x4F4E;&#x9650;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x6A29;&#x9650;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        &apos;iam<span class="token operator">:</span>CreateServiceLinkedRole&apos;
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;*&apos;
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        &apos;lambda<span class="token operator">:</span>GetFunction&apos;<span class="token punctuation">,</span>
        &apos;lambda<span class="token operator">:</span>EnableReplication*&apos;
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>lambda<span class="token operator">:</span>&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x540D;&gt;<span class="token operator">:</span>&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;<span class="token operator">:</span>function<span class="token operator">:</span>&lt;&#x95A2;&#x6570;&#x540D;&gt;<span class="token operator">:</span>&lt;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;&apos;
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        &apos;cloudfront<span class="token operator">:</span>UpdateDistribution&apos;
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>cloudfront<span class="token operator">:</span><span class="token operator">:</span>&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;<span class="token operator">:</span>distribution/&lt;DistributionID&gt;&apos;
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h3 id="nodejs&#x3092;&#x7528;&#x3044;&#x305F;&#x95A2;&#x6570;&#x4F8B;">Node.js&#x3092;&#x7528;&#x3044;&#x305F;&#x95A2;&#x6570;&#x4F8B;</h3>
<h4 id="&#x30FB;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x52D5;&#x7684;&#x306A;&#x5207;&#x308A;&#x66FF;&#x3048;">&#x30FB;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x52D5;&#x7684;&#x306A;&#x5207;&#x308A;&#x66FF;&#x3048;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Lambda@Edge_&#x52D5;&#x7684;&#x30AA;&#x30EA;&#x30B8;&#x30F3;.png" alt="Lambda@Edge_&#x52D5;&#x7684;&#x30AA;&#x30EA;&#x30B8;&#x30F3;"></p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;<code>domainName</code>&#x3068;<code>host.value</code>&#x306B;&#x4EE3;&#x5165;&#x3055;&#x308C;&#x305F;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306E;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x304C;&#x6C7A;&#x307E;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x306E;&#x5024;&#x3092;&#x5207;&#x308A;&#x66FF;&#x3048;&#x308C;&#x3070;&#xFF0C;&#x52D5;&#x7684;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3092;&#x5B9F;&#x73FE;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x306A;&#x304A;&#xFF0C;&#x5404;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x306B;&#x306F;&#x540C;&#x3058;OAI&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-javascript"><span class="token string">&apos;use strict&apos;</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> context<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> request <span class="token operator">=</span> event<span class="token punctuation">.</span>Records<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cf<span class="token punctuation">.</span>request<span class="token punctuation">;</span>
    <span class="token comment">// &#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306B;&#x5909;&#x6570;&#x3092;&#x51FA;&#x529B;&#x3059;&#x308B;&#xFF0E;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>request<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> headers <span class="token operator">=</span> request<span class="token punctuation">.</span>headers<span class="token punctuation">;</span>
    <span class="token keyword">const</span> s3Backet <span class="token operator">=</span> <span class="token function">getBacketBasedOnDeviceType</span><span class="token punctuation">(</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>

    request<span class="token punctuation">.</span>origin<span class="token punctuation">.</span>s3<span class="token punctuation">.</span>domainName <span class="token operator">=</span> s3Backet
    request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>host<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> s3Backet
    <span class="token comment">// &#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306B;&#x5909;&#x6570;&#x3092;&#x51FA;&#x529B;&#x3059;&#x308B;&#xFF0E;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>request<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * &#x30C7;&#x30D0;&#x30A4;&#x30B9;&#x30BF;&#x30A4;&#x30D7;&#x306B;&#x57FA;&#x3065;&#x3044;&#x3066;&#x3001;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3092;&#x5207;&#x308A;&#x66FF;&#x3048;&#x308B;&#xFF0E;
 *
 * @param   {Object} headers
 * @param   {string} env
 * @returns {string} pcBucket|spBucket
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">getBacketBasedOnDeviceType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">headers</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> pcBucket <span class="token operator">=</span> env <span class="token operator">+</span> <span class="token string">&apos;-bucket.s3.amazonaws.com&apos;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> spBucket <span class="token operator">=</span> env <span class="token operator">+</span> <span class="token string">&apos;-bucket.s3.amazonaws.com&apos;</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>headers<span class="token punctuation">[</span><span class="token string">&apos;cloudfront-is-desktop-viewer&apos;</span><span class="token punctuation">]</span>
        <span class="token operator">&amp;&amp;</span> headers<span class="token punctuation">[</span><span class="token string">&apos;cloudfront-is-desktop-viewer&apos;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&apos;true&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> pcBucket<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>headers<span class="token punctuation">[</span><span class="token string">&apos;cloudfront-is-tablet-viewer&apos;</span><span class="token punctuation">]</span>
        <span class="token operator">&amp;&amp;</span> headers<span class="token punctuation">[</span><span class="token string">&apos;cloudfront-is-tablet-viewer&apos;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&apos;true&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> pcBucket<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>headers<span class="token punctuation">[</span><span class="token string">&apos;cloudfront-is-mobile-viewer&apos;</span><span class="token punctuation">]</span>
        <span class="token operator">&amp;&amp;</span> headers<span class="token punctuation">[</span><span class="token string">&apos;cloudfront-is-mobile-viewer&apos;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&apos;true&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> spBucket<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> spBucket<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;JSON&#x30C7;&#x30FC;&#x30BF;&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x306A;&#x304A;&#xFF0C;&#x4E00;&#x90E8;&#x306E;&#x30AD;&#x30FC;&#x306F;&#x7701;&#x7565;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Records&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;cf&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;request&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
          &apos;body&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
            &apos;action&apos;<span class="token operator">:</span> &apos;read-only&apos;<span class="token punctuation">,</span>
            &apos;data&apos;<span class="token operator">:</span> &apos;&apos;<span class="token punctuation">,</span>
            &apos;encoding&apos;<span class="token operator">:</span> &apos;base64&apos;<span class="token punctuation">,</span>
            &apos;inputTruncated&apos;<span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          &apos;clientIp&apos;<span class="token operator">:</span> &apos;nnn.n.nnn.nnn&apos;<span class="token punctuation">,</span>
          &apos;headers&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
            &apos;host&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                &apos;key&apos;<span class="token operator">:</span> &apos;Host&apos;<span class="token punctuation">,</span>
                &apos;value&apos;<span class="token operator">:</span> &apos;prd-sp-bucket.s3.ap-northeast<span class="token number">-1</span>.amazonaws.com&apos;
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            &apos;cloudfront-is-mobile-viewer&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                &apos;key&apos;<span class="token operator">:</span> &apos;CloudFront-Is-Mobile-Viewer&apos;<span class="token punctuation">,</span>
                &apos;value&apos;<span class="token operator">:</span> <span class="token boolean">true</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            &apos;cloudfront-is-tablet-viewer&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                &apos;key&apos;<span class="token operator">:</span> &apos;loudFront-Is-Tablet-Viewer&apos;<span class="token punctuation">,</span>
                &apos;value&apos;<span class="token operator">:</span> <span class="token boolean">false</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            &apos;cloudfront-is-smarttv-viewer&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                &apos;key&apos;<span class="token operator">:</span> &apos;CloudFront-Is-SmartTV-Viewer&apos;<span class="token punctuation">,</span>
                &apos;value&apos;<span class="token operator">:</span> <span class="token boolean">false</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            &apos;cloudfront-is-desktop-viewer&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                &apos;key&apos;<span class="token operator">:</span> &apos;CloudFront-Is-Desktop-Viewer&apos;<span class="token punctuation">,</span>
                &apos;value&apos;<span class="token operator">:</span> <span class="token boolean">false</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            &apos;user-agent&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                &apos;key&apos;<span class="token operator">:</span> &apos;User-Agent&apos;<span class="token punctuation">,</span>
                &apos;value&apos;<span class="token operator">:</span> &apos;Amazon CloudFront&apos;
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          &apos;method&apos;<span class="token operator">:</span> &apos;GET&apos;<span class="token punctuation">,</span>
          &apos;origin&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
            &apos;s3&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
              &apos;authMethod&apos;<span class="token operator">:</span> &apos;origin-access-identity&apos;<span class="token punctuation">,</span>                
              &apos;customHeaders&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
                  &apos;env&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                          &apos;key&apos;<span class="token operator">:</span> &apos;env&apos;<span class="token punctuation">,</span>
                          &apos;value&apos;<span class="token operator">:</span> &apos;prd&apos;
                      <span class="token punctuation">}</span>
                  <span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              &apos;domainName&apos;<span class="token operator">:</span> &apos;prd-sp-bucket.s3.amazonaws.com&apos;<span class="token punctuation">,</span>
              &apos;path&apos;<span class="token operator">:</span> &apos;&apos;<span class="token punctuation">,</span>
              &apos;port&apos;<span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span>
              &apos;protocol&apos;<span class="token operator">:</span> &apos;https&apos;<span class="token punctuation">,</span>
              &apos;region&apos;<span class="token operator">:</span> &apos;ap-northeast<span class="token number">-1</span>&apos;
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          &apos;querystring&apos;<span class="token operator">:</span> &apos;&apos;<span class="token punctuation">,</span>
          &apos;uri&apos;<span class="token operator">:</span> &apos;/images/<span class="token number">12345</span>&apos;
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h2 id="01-04-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;security-group">01-04. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#xFF5C;Security Group</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x578B;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#xFF08;Private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5411;&#x304D;&#x901A;&#x4FE1;&#xFF09;&#x3067;&#x306F;&#xFF0C;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3084;&#x53D7;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#xFF08;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5411;&#x304D;&#x901A;&#x4FE1;&#xFF09;&#x3067;&#x306F;&#xFF0C;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3084;&#x9001;&#x4FE1;&#x5148;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;">&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;</h3>
<h4 id="&#x30FB;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x578B;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;">&#x30FB;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x578B;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;</h4>
<p>&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x60C5;&#x5831;&#x306B;&#x8A18;&#x8F09;&#x3055;&#x308C;&#x305F;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3084;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x306A;&#x3069;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3079;&#x304D;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x6C7A;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x901F;&#x5EA6;&#x3092;&#x91CD;&#x8996;&#x3059;&#x308B;&#x5834;&#x5408;&#x306F;&#x3053;&#x3061;&#x3089;&#xFF0E;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;&#x3068;Web&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x9593;&#x306B;&#x306F;&#xFF0C;NAT&#x30EB;&#x30FC;&#x30BF;&#x3084;NAPT&#x30EB;&#x30FC;&#x30BF;&#x304C;&#x8A2D;&#x7F6E;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x3089;&#x306B;&#x3088;&#x308B;&#x9001;&#x4FE1;&#x5143;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304B;&#x3089;&#x9001;&#x4FE1;&#x5143;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3078;&#x306E;&#x5909;&#x63DB;&#x306B;&#x3064;&#x3044;&#x3066;&#x3082;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;.gif" alt="&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;"></p>
<h4 id="&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;id&#x306E;&#x7D10;&#x3065;&#x3051;">&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;ID&#x306E;&#x7D10;&#x3065;&#x3051;</h4>
<p>&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;ID&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF08;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30D5;&#x30A7;&#x30FC;&#x30B9;&#x3092;&#x542B;&#x3080;&#xFF09;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x52D5;&#x7684;&#x306B;&#x5909;&#x5316;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x6709;&#x52B9;&#x306A;&#x65B9;&#x6CD5;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;ec2&#x306E;&#x4F8B;">&#x30FB;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;EC2&#x306E;&#x4F8B;</h4>
<p>ALB&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;ALB&#x306E;Security Group&#x306E;ID&#xFF0C;&#x307E;&#x305F;&#x306F;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP</td>
<td>TCP</td>
<td><code>80</code></td>
<td>ALB&#x306E;Security Group ID</td>
<td>HTTP access from ALB</td>
</tr>
<tr>
<td>HTTPS</td>
<td>TCP</td>
<td><code>443</code></td>
<td>&#x8E0F;&#x307F;&#x53F0;EC2&#x306E;Security Group ID</td>
<td>SSH access from bastion EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x8E0F;&#x307F;&#x53F0;ec2&#x306E;&#x4F8B;">&#x30FB;&#x8E0F;&#x307F;&#x53F0;EC2&#x306E;&#x4F8B;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSH</td>
<td>TCP</td>
<td><code>22</code></td>
<td>&#x793E;&#x5185;&#x306E;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td>SSH access from global ip addess</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;efs&#x306E;&#x4F8B;">&#x30FB;EFS&#x306E;&#x4F8B;</h4>
<p>EC2&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;EC2&#x306E;Security Group&#x306E;ID&#xFF0C;&#x307E;&#x305F;&#x306F;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>NFS</td>
<td>TCP</td>
<td><code>2049</code></td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;EC2&#x306E;Security Group ID</td>
<td>NFS access from app EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;rds&#x306E;&#x4F8B;">&#x30FB;RDS&#x306E;&#x4F8B;</h4>
<p>EC2&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;EC2&#x306E;Security Group&#x306E;ID&#xFF0C;&#x307E;&#x305F;&#x306F;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>MYSQL/Aurora</td>
<td>TCP</td>
<td><code>3306</code></td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;EC2&#x306E;Security Group ID</td>
<td>MYSQL access from app EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;redis&#x306E;&#x4F8B;">&#x30FB;Redis&#x306E;&#x4F8B;</h4>
<p>EC2&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;EC2&#x306E;Security Group&#x306E;ID&#xFF0C;&#x307E;&#x305F;&#x306F;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AB;&#x30B9;&#x30BF;&#x30E0;TCP</td>
<td>TCP</td>
<td><code>6379</code></td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;EC2&#x306E;Security Group ID</td>
<td>TCP access from app EC2</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;alb&#x306E;&#x4F8B;">&#x30FB;ALB&#x306E;&#x4F8B;</h4>
<p>Cloud Front&#x3068;&#x9023;&#x643A;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;Cloud Front&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x306E;&#x3042;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x5168;&#x3066;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x4EE3;&#x308F;&#x308A;&#x306B;&#xFF0C;Cloud Front&#x306B;WAF&#x3092;&#x7D10;&#x3065;&#x3051;&#xFF0C;ALB&#x306E;&#x524D;&#x3067;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5236;&#x9650;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;Cloud Front&#x3068;&#x306F;&#x9023;&#x643A;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;ALB&#x306E;Security Group&#x3067;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5236;&#x9650;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8AAC;&#x660E;</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP</td>
<td>TCP</td>
<td><code>80</code></td>
<td><code>0.0.0.0/0</code></td>
<td>HTTP access from Cloud Front</td>
<td></td>
</tr>
<tr>
<td>HTTPS</td>
<td>TCP</td>
<td><code>443</code></td>
<td><code>0.0.0.0/0</code></td>
<td>HTTPS access from Cloud Front</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;">&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;</h3>
<h4 id="&#x30FB;&#x4EFB;&#x610F;aws&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x4F8B;">&#x30FB;&#x4EFB;&#x610F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x4F8B;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>&#x9001;&#x4FE1;&#x5148;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x3059;&#x3079;&#x3066;&#x306E;&#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td><code>0.0.0.0/0</code></td>
<td>Full access</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="01-05-&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306B;&#x4ED8;&#x968F;&#x3059;&#x308B;&#x8A2D;&#x5B9A;">01-05. &#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306B;&#x4ED8;&#x968F;&#x3059;&#x308B;&#x8A2D;&#x5B9A;</h2>
<h3 id="&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EC;&#x30D9;&#x30EB;">&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EC;&#x30D9;&#x30EB;</h3>
<h4 id="&#x30FB;region&#x3068;&#x306F;">&#x30FB;Region&#x3068;&#x306F;</h4>
<p>&#x7269;&#x7406;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x3042;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x30BB;&#x30F3;&#x30BF;&#x30FC;&#x306E;&#x5730;&#x57DF;&#x540D;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;global&#x3068;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x306F;">&#x30FB;Global&#x3068;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x306F;</h4>
<p>Region&#x3068;&#x306F;&#x5225;&#x306B;&#xFF0C;&#x7269;&#x7406;&#x30B5;&#x30FC;&#x30D0;&#x304C;&#x4E16;&#x754C;&#x4E2D;&#x306B;&#x3042;&#x308A;&#xFF0C;&#x3053;&#x308C;&#x3089;&#x306E;&#x9593;&#x3067;&#x306F;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304C;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;Global&#x306A;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306F;&#xFF0C;&#x7279;&#x5B9A;&#x306E;Region&#x306B;&#x4F9D;&#x5B58;&#x305B;&#x305A;&#x306B;&#xFF0C;&#x5168;&#x3066;&#x306E;Region&#x3068;&#x9023;&#x643A;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/edge-location.png" alt="edge-location"></p>
<h4 id="&#x30FB;availability-zone&#x3068;&#x306F;">&#x30FB;Availability Zone&#x3068;&#x306F;</h4>
<p>Region&#x306F;&#xFF0C;&#x3055;&#x3089;&#x306B;&#xFF0C;&#x5404;&#x30C7;&#x30FC;&#x30BF;&#x30BB;&#x30F3;&#x30BF;&#x30FC;&#x306F;&#x7269;&#x7406;&#x7684;&#x306B;&#x72EC;&#x7ACB;&#x3057;&#x305F;Availability Zone&#x3068;&#x3044;&#x3046;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304B;&#x3089;&#x69CB;&#x6210;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x6771;&#x4EAC;Region&#x306B;&#x306F;&#xFF0C;3&#x3064;&#x306E;Availability Zone&#x304C;&#x3042;&#x308B;&#xFF0E;AZ&#x306E;&#x4E2D;&#x306B;&#xFF0C;VPC&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3092;&#x4F5C;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#xFF0C;&#x305D;&#x3053;&#x306B;EC2&#x3092;&#x69CB;&#x7BC9;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="02-&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#xFF5C;ecs-on-fargate&#xFF1A;elastic-container-service">02. &#x30B3;&#x30F3;&#x30C6;&#x30CA;&#xFF5C;ECS on Fargate&#xFF1A;Elastic Container Service</h2>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;.png" alt="NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;"></p>
<h3 id="ecs&#x3068;eks&#x306E;&#x9055;&#x3044;">ECS&#x3068;EKS&#x306E;&#x9055;&#x3044;</h3>
<h4 id="&#x30FB;&#x7BA1;&#x7406;&#x74B0;&#x5883;&#x3068;&#x5B9F;&#x884C;&#x74B0;&#x5883;">&#x30FB;&#x7BA1;&#x7406;&#x74B0;&#x5883;&#x3068;&#x5B9F;&#x884C;&#x74B0;&#x5883;</h4>
<p>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x74B0;&#x5883;&#xFF0E;VPC&#x306E;&#x5916;&#x306B;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;ECS&#xFF0C;EKS&#xFF0C;Fargate&#xFF0C;EC2&#x306E;&#x5BFE;&#x5FDC;&#x95A2;&#x4FC2;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>Control Plane&#xFF08;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x7BA1;&#x7406;&#x74B0;&#x5883;&#xFF09;</th>
<th>Data Plane&#xFF08;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x5B9F;&#x884C;&#x74B0;&#x5883;&#xFF09;</th>
</tr>
</thead>
<tbody>
<tr>
<td>ECS&#xFF1A;Elastic Container Service</td>
<td>Fargate&#xFF0C;EC2</td>
</tr>
<tr>
<td>EKS&#xFF1A;Elastic Kubernetes Service</td>
<td>Fargate&#xFF0C;EC2</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;">&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;</h3>
<h4 id="&#x30FB;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x3068;&#x306F;">&#x30FB;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x3068;&#x306F;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ECS&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;.png" alt="ECS&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;"></p>
<p><br></p>
<h3 id="&#x30B5;&#x30FC;&#x30D3;&#x30B9;">&#x30B5;&#x30FC;&#x30D3;&#x30B9;</h3>
<h4 id="&#x30FB;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3068;&#x306F;">&#x30FB;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3068;&#x306F;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x7DAD;&#x6301;&#x7BA1;&#x7406;&#x3092;&#x884C;&#x3046;&#x6A5F;&#x80FD;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;</td>
<td>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3067;&#x7DAD;&#x6301;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x5B9A;&#x7FA9;&#x30D5;&#x30A1;&#x30DF;&#x30EA;&#x30FC;&#x540D;&#x3068;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x756A;&#x53F7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30D7;&#x30E9;&#x30C3;&#x30C8;&#x30D5;&#x30A9;&#x30FC;&#x30E0;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x5B9F;&#x884C;&#x74B0;&#x5883;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x9023;&#x643A;&#x3067;&#x304D;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x304C;&#x7570;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30BF;&#x30A4;&#x30D7;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x6700;&#x5C0F;&#x30D8;&#x30EB;&#x30B9;&#x7387;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x6700;&#x5927;&#x7387;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x306E;&#x7336;&#x4E88;&#x671F;&#x9593;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x6700;&#x5C0F;&#x6570;</td>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6642;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x6700;&#x5C0F;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x5FC5;&#x8981;&#x6570;</td>
<td>&#x5E73;&#x5E38;&#x6642;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x6700;&#x5927;&#x6570;</td>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6642;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x6700;&#x5927;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B7;&#x30F3;&#x30B0;</td>
<td>ALB&#x3067;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x6570;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x69CB;&#x7BC9;&#x6570;&#x3092;&#x3044;&#x304F;&#x3064;&#x306B;&#x7DAD;&#x6301;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x304C;&#x4F55;&#x3089;&#x304B;&#x306E;&#x539F;&#x56E0;&#x3067;&#x505C;&#x6B62;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x7A7A;&#x3044;&#x3066;&#x3044;&#x308B;AWS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x88DC;&#x586B;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;</td>
<td>&#x30ED;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30A2;&#x30C3;&#x30D7;&#x30C7;&#x30FC;&#x30C8;&#xFF0C;Blue/Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x76E3;&#x8996;&#x5BFE;&#x8C61;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x304C;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8D85;&#x904E;&#x3057;&#x3066;&#x3044;&#x308B;&#x304B;&#x5426;&#x304B;&#x306B;&#x57FA;&#x3065;&#x3044;&#x3066;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>ECS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;</td>
<td>&#x76E3;&#x8996;&#x5BFE;&#x8C61;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x300C;&#x5E73;&#x5747;CPU&#x300D;&#xFF0C;&#x300C;&#x5E73;&#x5747;&#x30E1;&#x30E2;&#x30EA;&#x300D;&#xFF0C;&#x300C;&#x30BF;&#x30B9;&#x30AF;&#x5F53;&#x305F;&#x308A;&#x306E;ALB&#x304B;&#x3089;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6570;&#x300D;&#x3092;&#x76E3;&#x8996;&#x3067;&#x304D;&#x308B;&#xFF0E;SLI&#x306B;&#x5BFE;&#x5FDC;&#x3059;&#x308B;CloudWatch&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3082;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x306E;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8D85;&#x904E;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x304C;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x30AF;&#x30FC;&#x30EB;&#x30C0;&#x30A6;&#x30F3;&#x671F;&#x9593;</td>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3092;&#x767A;&#x52D5;&#x3057;&#x3066;&#x304B;&#x3089;&#xFF0C;&#x6B21;&#x56DE;&#x306E;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3092;&#x767A;&#x52D5;&#x3067;&#x304D;&#x308B;&#x307E;&#x3067;&#x306E;&#x6642;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8D85;&#x904E;&#x3059;&#x308B;&#x72B6;&#x614B;&#x304C;&#x65AD;&#x7D9A;&#x7684;&#x306B;&#x7D9A;&#x304F;&#x3068;&#xFF0C;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x304C;&#x9023;&#x7D9A;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x3066;&#x3057;&#x307E;&#x3046;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x9632;&#x3050;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x30AF;&#x30FC;&#x30EB;&#x30C0;&#x30A6;&#x30F3;&#x671F;&#x9593;</td>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x3092;&#x767A;&#x52D5;&#x3057;&#x3066;&#x304B;&#x3089;&#xFF0C;&#x6B21;&#x56DE;&#x306E;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x3092;&#x767A;&#x52D5;&#x3067;&#x304D;&#x308B;&#x307E;&#x3067;&#x306E;&#x6642;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x306E;&#x7121;&#x52B9;&#x5316;</td>
<td></td>
</tr>
</tbody>
</table>
<ol>
<li>&#x6700;&#x5C0F;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x3092;2&#xFF0C;&#x5FC5;&#x8981;&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x3092;4&#xFF0C;&#x6700;&#x5927;&#x6570;&#x3092;6&#xFF0C;CPU&#x5E73;&#x5747;&#x4F7F;&#x7528;&#x7387;&#x3092;40%&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3068;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x5E73;&#x5E38;&#x6642;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;40%&#x306B;&#x7DAD;&#x6301;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
<li>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x5897;&#x52A0;&#x3057;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;55%&#x306B;&#x4E0A;&#x6607;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x304C;6&#x3064;&#x306B;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3057;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;40%&#x306B;&#x7DAD;&#x6301;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
<li>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6570;&#x304C;&#x6E1B;&#x5C11;&#x3057;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;&#x304C;20%&#x306B;&#x4F4E;&#x4E0B;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30BF;&#x30B9;&#x30AF;&#x6570;&#x304C;2&#x3064;&#x306B;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x3057;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;40%&#x306B;&#x7DAD;&#x6301;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
</ol>
<p><br></p>
<h3 id="&#x30BF;&#x30B9;&#x30AF;">&#x30BF;&#x30B9;&#x30AF;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30BF;&#x30B9;&#x30AF;&#x3068;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;.png" alt="&#x30BF;&#x30B9;&#x30AF;&#x3068;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;"></p>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;</h4>
<p>&#x30B0;&#x30EB;&#x30FC;&#x30D4;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x305F;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x7FA4;&#x306E;&#x3053;&#x3068;</p>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3068;&#x306F;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3068;&#x306F;</h4>
<p>&#x5404;&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x3069;&#x306E;&#x3088;&#x3046;&#x306A;&#x8A2D;&#x5B9A;&#x5024;&#x306B;&#x57FA;&#x3065;&#x3044;&#x3066;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x306F;&#xFF0C;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x793A;&#x3059;&#x300C;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x30CA;&#x30F3;&#x30D0;&#x30FC;&#x300D;&#x3067;&#x756A;&#x53F7;&#x3065;&#x3051;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#x306B;&#x306F;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x756A;&#x53F7;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x767B;&#x9332;&#x89E3;&#x9664;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x30ED;&#x30FC;&#x30EB;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x30ED;&#x30FC;&#x30EB;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#xFF0C;&#x4ED6;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x8981;&#x306A;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        &apos;logs<span class="token operator">:</span>CreateLogStream&apos;<span class="token punctuation">,</span>
        &apos;logs<span class="token operator">:</span>PutLogEvents&apos;
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>logs<span class="token operator">:</span>*<span class="token operator">:</span>*<span class="token operator">:</span>*&apos;
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x5B9F;&#x884C;&#x30ED;&#x30FC;&#x30EB;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x5B9F;&#x884C;&#x30ED;&#x30FC;&#x30EB;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x4E0A;&#x306B;&#x5B58;&#x5728;&#x3059;&#x308B;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x304C;&#xFF0C;&#x4ED6;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x8981;&#x306A;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x3053;&#x3068;&#xFF0E;AWS&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3067;&#x3042;&#x308B;&#x300C;<code>AmazonECSTaskExecutionRolePolicy</code>&#x300D;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x306F;&#xFF0C;ECR&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x306E;&#x4ED6;&#xFF0C;CloudWatch Logs&#x306B;&#x30ED;&#x30B0;&#x3092;&#x751F;&#x6210;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x6A29;&#x9650;&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x5FC5;&#x8981;&#x306A;&#x30BF;&#x30B9;&#x30AF;&#x30ED;&#x30FC;&#x30EB;&#x3068;&#x306F;&#x533A;&#x5225;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        &apos;ecr<span class="token operator">:</span>GetAuthorizationToken&apos;<span class="token punctuation">,</span>
        &apos;ecr<span class="token operator">:</span>BatchCheckLayerAvailability&apos;<span class="token punctuation">,</span>
        &apos;ecr<span class="token operator">:</span>GetDownloadUrlForLayer&apos;<span class="token punctuation">,</span>
        &apos;ecr<span class="token operator">:</span>BatchGetImage&apos;<span class="token punctuation">,</span>
        &apos;logs<span class="token operator">:</span>CreateLogStream&apos;<span class="token punctuation">,</span>
        &apos;logs<span class="token operator">:</span>PutLogEvents&apos;
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;*&apos;
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;privateip&#x30A2;&#x30C9;&#x30EC;&#x30B9;">&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x3054;&#x3068;&#x306B;&#x7570;&#x306A;&#x308B;PrivateIP&#x304C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#xFF0E;&#x3053;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;ALB&#x306F;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x76F8;&#x5F53;&#x3059;&#x308B;Docker&#x306E;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x6A5F;&#x80FD;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>bridge</td>
<td>bridge&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;</td>
<td></td>
</tr>
<tr>
<td>host</td>
<td>host&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;</td>
<td></td>
</tr>
<tr>
<td>awsvpc</td>
<td>aws&#x306E;&#x72EC;&#x81EA;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x6A5F;&#x80FD;&#xFF0E;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x306F;Elastic Network Interface&#x3068;&#x7D10;&#x3065;&#x3051;&#x3089;&#x308C;&#xFF0C;PrimaryPrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x30B5;&#x30A4;&#x30BA;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x30B5;&#x30A4;&#x30BA;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;&#x30E1;&#x30E2;&#x30EA;</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x5F53;&#x305F;&#x308A;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x5408;&#x8A08;&#x30E1;&#x30E2;&#x30EA;&#x4F7F;&#x7528;&#x91CF;</td>
</tr>
<tr>
<td>&#x30BF;&#x30B9;&#x30AF;CPU</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x5F53;&#x305F;&#x308A;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x5408;&#x8A08;CPU&#x4F7F;&#x7528;&#x91CF;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x65B0;&#x3057;&#x3044;&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x4E00;&#x6642;&#x7684;&#x306B;&#x5B9F;&#x884C;">&#x30FB;&#x65B0;&#x3057;&#x3044;&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x4E00;&#x6642;&#x7684;&#x306B;&#x5B9F;&#x884C;</h4>
<p>&#x73FE;&#x5728;&#x8D77;&#x52D5;&#x4E2D;&#x306E;ECS&#x30BF;&#x30B9;&#x30AF;&#x3068;&#x306F;&#x5225;&#x306B;&#xFF0C;&#x65B0;&#x3057;&#x3044;&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x4E00;&#x6642;&#x7684;&#x306B;&#x8D77;&#x52D5;&#x3059;&#x308B;&#xFF0E;CI/CD&#x30C4;&#x30FC;&#x30EB;&#x3067;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x4EE5;&#x5916;&#x306B;&#xFF0C;&#x30ED;&#x30FC;&#x30AB;&#x30EB;&#x304B;&#x3089;&#x624B;&#x52D5;&#x3067;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x5834;&#x5408;&#x3082;&#x3042;&#x308B;&#xFF0E;&#x8D77;&#x52D5;&#x6642;&#x306B;&#xFF0C;<code>overrides</code>&#x30AA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x8A2D;&#x5B9A;&#x3092;&#x4E0A;&#x66F8;&#x304D;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x6B63;&#x898F;&#x8868;&#x73FE;&#x3067;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x3055;&#x3089;&#x306B;JSON&#x3067;&#x306F;&#x300C;<code>\</code>&#x300D;&#x3092;&#x300C;<code>\\</code>&#x300D;&#x306B;&#x30A8;&#x30B9;&#x30B1;&#x30FC;&#x30D7;&#x3057;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x305F;&#x5F8C;&#x306B;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x306F;&#x81EA;&#x52D5;&#x7684;&#x306B;Stopped&#x72B6;&#x614B;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>Laravel&#x306E;Seeder&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3084;&#x30ED;&#x30FC;&#x30EB;&#x30D0;&#x30C3;&#x30AF;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3092;&#xFF0C;&#x30ED;&#x30FC;&#x30AB;&#x30EB;PC&#x304B;&#x3089;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">set</span> -x

<span class="token builtin class-name">echo</span> <span class="token string">&apos;Set Variables&apos;</span>
<span class="token assign-left variable">SERVICE_NAME</span><span class="token operator">=</span><span class="token string">&apos;stg-ecs-service&apos;</span>
<span class="token assign-left variable">CLUSTER_NAME</span><span class="token operator">=</span><span class="token string">&apos;stg-ecs-cluster&apos;</span>
<span class="token assign-left variable">TASK_NAME</span><span class="token operator">=</span><span class="token string">&apos;stg-ecs-task-definition&apos;</span>
<span class="token assign-left variable">SUBNETS_CONFIG</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>aws ecs describe-services --cluster $<span class="token punctuation">{</span>CLUSTER_NAME<span class="token punctuation">}</span> --services $<span class="token punctuation">{</span>SERVICE_NAME<span class="token punctuation">}</span> --query <span class="token string">&apos;services[].deployments[].networkConfiguration[].awsvpcConfiguration[].subnets[]&apos;</span><span class="token variable">)</span></span>
<span class="token assign-left variable">SGS_CONFIG</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>aws ecs describe-services --cluster $<span class="token punctuation">{</span>CLUSTER_NAME<span class="token punctuation">}</span> --services $<span class="token punctuation">{</span>SERVICE_NAME<span class="token punctuation">}</span> --query <span class="token string">&apos;services[].deployments[].networkConfiguration[].awsvpcConfiguration[].securityGroups[]&apos;</span><span class="token variable">)</span></span>

<span class="token comment"># &#x5B9F;&#x884C;&#x3057;&#x305F;&#x3044;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3092;overrides&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&apos;Run Task&apos;</span>
<span class="token assign-left variable">TASK_ARN</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>aws ecs run-task <span class="token punctuation">\</span>
  --launch-type FARGATE <span class="token punctuation">\</span>
  --cluster $<span class="token punctuation">{</span>CLUSTER_NAME<span class="token punctuation">}</span> <span class="token punctuation">\</span>
  --platform-version <span class="token string">&apos;1.4.0&apos;</span> <span class="token punctuation">\</span>
  --network-configuration <span class="token string">&apos;awsvpcConfiguration={subnets=<span class="token variable">${SUBNETS_CONFIG}</span>,securityGroups=<span class="token variable">${SGS_CONFIG}</span>}&apos;</span> <span class="token punctuation">\</span>
  --task-definition $<span class="token punctuation">{</span>TASK_NAME<span class="token punctuation">}</span> <span class="token punctuation">\</span>
  --overrides <span class="token string">&apos;{\&apos;containerOverrides\&apos;: [{\&apos;name\&apos;: \&apos;laravel-container\&apos;,\&apos;command\&apos;: [\&apos;php\&apos;, \&apos;artisan\&apos;, \&apos;db:seed\&apos;, \&apos;--class=DummySeeder\&apos;, \&apos;--force\&apos;]}]}&apos;</span> <span class="token punctuation">\</span>
  --query <span class="token string">&apos;tasks[0].taskArn&apos;</span> <span class="token operator">|</span> <span class="token function">tr</span> -d <span class="token string">&apos;&apos;</span>&apos;<span class="token variable">)</span></span>

<span class="token builtin class-name">echo</span> <span class="token string">&apos;Wait until task stopped&apos;</span>
aws ecs <span class="token function">wait</span> tasks-stopped <span class="token punctuation">\</span>
  --cluster <span class="token variable">${CLUSTER_NAME}</span> <span class="token punctuation">\</span>
  --tasks <span class="token variable">${TASK_ARN}</span>

<span class="token builtin class-name">echo</span> <span class="token string">&apos;Get task result&apos;</span>
<span class="token assign-left variable">RESULT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>aws ecs describe-tasks <span class="token punctuation">\</span>
  --cluster $<span class="token punctuation">{</span>CLUSTER_NAME<span class="token punctuation">}</span> <span class="token punctuation">\</span>
  --tasks $<span class="token punctuation">{</span>TASK_ARN<span class="token punctuation">}</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">${RESULT}</span>

<span class="token assign-left variable">EXIT_CODE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $<span class="token punctuation">{</span>RESULT<span class="token punctuation">}</span> <span class="token operator">|</span> jq .tasks<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>.containers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>.exitCode<span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> exitCode <span class="token variable">${EXIT_CODE}</span>
<span class="token builtin class-name">exit</span> <span class="token variable">${EXIT_CODE}</span>
</code></pre>
<p>&#x306A;&#x304A;&#xFF0C;&#x5B9F;&#x884C;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x4F5C;&#x6210;&#x3057;&#xFF0C;ECS&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x8D77;&#x52D5;&#x3067;&#x304D;&#x308B;&#x6700;&#x4F4E;&#x9650;&#x306E;&#x6A29;&#x9650;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
    &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
    &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
            &apos;Action&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
                &apos;iam<span class="token operator">:</span>PassRole&apos;<span class="token punctuation">,</span>
                &apos;ecs<span class="token operator">:</span>RunTask&apos;<span class="token punctuation">,</span>
                &apos;ecs<span class="token operator">:</span>DescribeServices&apos;<span class="token punctuation">,</span>
                &apos;ecs<span class="token operator">:</span>DescribeTasks&apos;
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            &apos;Resource&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
                &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>ecs<span class="token operator">:</span>*<span class="token operator">:</span>&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;<span class="token operator">:</span>service<span class="token comment">/*&apos;,
                &apos;arn:aws:ecs:*:&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:task/*&apos;,
                &apos;arn:aws:ecs:*:&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:task-definition/*&apos;,
                &apos;arn:aws:iam::&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;:role/*&apos;
            ]
        }
    ]
}
</span></code></pre>
<p><br></p>
<h3 id="&#x65B0;&#x3057;&#x3044;&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x30C7;&#x30D7;&#x30ED;&#x30A4;">&#x65B0;&#x3057;&#x3044;&#x30BF;&#x30B9;&#x30AF;&#x306E;&#x30C7;&#x30D7;&#x30ED;&#x30A4;</h3>
<h4 id="&#x30FB;&#x30ED;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30A2;&#x30C3;&#x30D7;&#x30C7;&#x30FC;&#x30C8;">&#x30FB;&#x30ED;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30A2;&#x30C3;&#x30D7;&#x30C7;&#x30FC;&#x30C8;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/rolling-update.png" alt="rolling-update"></p>
<ol>
<li>ECR&#x306E;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x66F4;&#x65B0;</li>
<li>&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x306E;&#x65B0;&#x3057;&#x3044;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x69CB;&#x7BC9;&#xFF0E;</li>
<li>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3092;&#x66F4;&#x65B0;&#xFF0E;</li>
<li>&#x30ED;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30A2;&#x30C3;&#x30D7;&#x30C7;&#x30FC;&#x30C8;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x57FA;&#x306B;&#xFF0C;&#x65B0;&#x3057;&#x3044;&#x30BF;&#x30B9;&#x30AF;&#x304C;&#x30EA;&#x30EA;&#x30FC;&#x30B9;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
</ol>
<h4 id="&#x30FB;bluegreen&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;">&#x30FB;Blue/Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;</h4>
<p>&#x8A73;&#x3057;&#x304F;&#x306F;&#xFF0C;CodeDeploy&#x306E;&#x8AAC;&#x660E;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p><br></p>
<h3 id="fargate&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;">Fargate&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;</h3>
<h4 id="&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;">&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;</h4>
<p>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x5185;&#x3067;&#x7A3C;&#x50CD;&#x3057;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x64CD;&#x4F5C;&#x3092;&#x884C;&#x3046;&#x30D7;&#x30ED;&#x30B0;&#x30E9;&#x30E0;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x5B9A;&#x7FA9;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x5B9A;&#x7FA9;&#x306E;&#x8A73;&#x7D30;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x4E00;&#x3064;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x74B0;&#x5883;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/userguide/task_definition_parameters.html" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/userguide/task_definition_parameters.html</a></p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x5BFE;&#x5FDC;&#x3059;&#x308B;docker&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x30AA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>cpu</td>
<td><code>--cpus</code></td>
<td>&#x4EEE;&#x60F3;cpu&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>dnsServers</td>
<td><code>--dns</code></td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306B;&#x4F7F;&#x7528;&#x3059;&#x308B;DNS&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>essential</td>
<td></td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x5FC5;&#x9808;&#x304B;&#x5426;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;<code>true</code>&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x505C;&#x6B62;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x306B;&#x542B;&#x307E;&#x308C;&#x308B;&#x5168;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x505C;&#x6B62;&#x3059;&#x308B;&#xFF0E;<br><code>false</code>&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x304C;&#x505C;&#x6B62;&#x3057;&#x3066;&#x3082;&#xFF0C;&#x305D;&#x306E;&#x4ED6;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306F;&#x505C;&#x6B62;&#x3057;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>healthCheck<br>(command)</td>
<td><code>--health-cmd</code></td>
<td>&#x30DB;&#x30B9;&#x30C8;&#x30DE;&#x30B7;&#x30F3;&#x304B;&#x3089;Fargate&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;<code>curl</code>&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x306B;&#x3088;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3057;&#xFF0C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x5185;&#x5BB9;&#x3092;&#x78BA;&#x8A8D;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>healthCheck<br>(interval)</td>
<td><code>--health-interval</code></td>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x306E;&#x9593;&#x9694;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>healthCheck<br>(retries)</td>
<td><code>--health-retries</code></td>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x3092;&#x6210;&#x529F;&#x3068;&#x898B;&#x306A;&#x3059;&#x56DE;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>hostName</td>
<td><code>--hostname</code></td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x30DB;&#x30B9;&#x30C8;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>image</td>
<td></td>
<td>ECR&#x306E;URL&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>logConfiguration<br>(logDriver)</td>
<td><code>--log-driver</code></td>
<td>&#x30ED;&#x30B0;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;&#x3092;&#x6307;&#x5B9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x30ED;&#x30B0;&#x306E;&#x51FA;&#x529B;&#x5148;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>Docker&#x306E;&#x30ED;&#x30B0;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;&#x306B;&#x304A;&#x304A;&#x3088;&#x305D;&#x5BFE;&#x5FDC;&#x3057;&#x3066;&#x304A;&#x308A;&#xFF0C;Fargate&#x3067;&#x3042;&#x308C;&#x3070;&#x300C;awslogs&#xFF0C;awsfirelens&#xFF0C;splunk&#x300D;&#x306B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;EC2&#x3067;&#x3042;&#x308C;&#x3070;&#x300C;awslogs&#xFF0C;json-file&#xFF0C;syslog&#xFF0C;journald&#xFF0C;fluentd&#xFF0C;gelf&#xFF0C;logentries&#x300D;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>logConfiguration<br>(options)</td>
<td><code>--log-opt</code></td>
<td>&#x30ED;&#x30B0;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;&#x306B;&#x5FDC;&#x3058;&#x3066;&#xFF0C;&#x8A73;&#x7D30;&#x306A;&#x8A2D;&#x5B9A;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>portMapping</td>
<td><code>--publish</code></td>
<td>&#x30DB;&#x30B9;&#x30C8;&#x30DE;&#x30B7;&#x30F3;&#x3068;Fargate&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x3092;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3057;&#xFF0C;&#x30DD;&#x30FC;&#x30C8;&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C7;&#x30A3;&#x30F3;&#x30B0;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>secrets<br>(volumesFrom)</td>
<td></td>
<td>SSM&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B9;&#x30C8;&#x30A2;&#x304B;&#x3089;&#x51FA;&#x529B;&#x3059;&#x308B;&#x5909;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>memory</td>
<td><code>--memory</code><br><code>--memory-reservation</code></td>
<td>&#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x304C;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x308B;&#x30E1;&#x30E2;&#x30EA;&#x306E;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>mountPoints</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ulimit</td>
<td>Linux&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x306E;<br><code>--ulimit</code>&#x306B;&#x76F8;&#x5F53;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;awslogs&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;">&#x30FB;awslogs&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x30FC;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>awslogs-group</td>
<td>&#x30ED;&#x30B0;&#x9001;&#x4FE1;&#x5148;&#x306E;CloudWatch Logs&#x306E;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>awslogs-datetime-format</td>
<td>&#x65E5;&#x6642;&#x30D5;&#x30A9;&#x30FC;&#x30DE;&#x30C3;&#x30C8;&#x3092;&#x5B9A;&#x7FA9;&#x3057;&#xFF0C;&#x307E;&#x305F;&#x3053;&#x308C;&#x3092;&#x30ED;&#x30B0;&#x306E;&#x533A;&#x5207;&#x308A;&#x5358;&#x4F4D;&#x3068;&#x3057;&#x3066;&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306B;&#x51FA;&#x529B;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x6B63;&#x898F;&#x8868;&#x73FE;&#x3067;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x3055;&#x3089;&#x306B;JSON&#x3067;&#x306F;&#x300C;<code>\</code>&#x300D;&#x3092;&#x300C;<code>\\</code>&#x300D;&#x306B;&#x30A8;&#x30B9;&#x30B1;&#x30FC;&#x30D7;&#x3057;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#x300C;<code>\\[%Y-%m-%d %H:%M:%S\\]</code>&#x300D;&#x3068;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>awslogs-region</td>
<td>&#x30ED;&#x30B0;&#x9001;&#x4FE1;&#x5148;&#x306E;CloudWatch Logs&#x306E;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>awslogs-stream-prefix</td>
<td>&#x30ED;&#x30B0;&#x9001;&#x4FE1;&#x5148;&#x306E;CloudWatch Logs&#x306E;&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306E;&#x30D7;&#x30EC;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x30B9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x306B;&#x306F;&#xFF0C;&#x300C;<code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30D7;&#x30EC;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x30B9;&#x540D;</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x540D;</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30BF;&#x30B9;&#x30AF;ID</span><span class="token punctuation">&gt;</span></span></code>&#x300D;&#x306E;&#x5F62;&#x5F0F;&#x3067;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="ecr">ECR</h3>
<h4 id="&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>ECR&#x306E;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x6709;&#x52B9;&#x671F;&#x9593;&#x3092;&#x5B9A;&#x7FA9;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x512A;&#x5148;&#x9806;&#x4F4D;</td>
<td>&#x9806;&#x4F4D;&#x306E;&#x5927;&#x304D;&#x3055;&#x3067;&#xFF0C;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x512A;&#x5148;&#x5EA6;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x6570;&#x5B57;&#x306F;&#x9023;&#x7D9A;&#x3057;&#x3066;&#x3044;&#x308B;&#x5FC5;&#x8981;&#x306F;&#x306A;&#x304F;&#xFF0C;&#x4F8B;&#x3048;&#x3070;&#xFF0C;10&#xFF0C;20&#xFF0C;90&#xFF0C;&#x306E;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x3066;&#x3082;&#x826F;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;</td>
<td>&#x30EB;&#x30FC;&#x30EB;&#x3092;&#x9069;&#x7528;&#x3059;&#x308B;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x6761;&#x4EF6;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x30BF;&#x30B0;&#x306E;&#x6709;&#x7121;&#x3084;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x4E00;&#x81F4;&#x6761;&#x4EF6;</td>
<td>&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x6709;&#x52B9;&#x671F;&#x9593;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x540C;&#x6761;&#x4EF6;&#x306B;&#x5F53;&#x3066;&#x306F;&#x307E;&#x308B;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x304C;&#x524A;&#x9664;&#x3055;&#x308C;&#x308B;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x500B;&#x6570;&#xFF0C;&#x30D7;&#x30C3;&#x30B7;&#x30E5;&#x3055;&#x308C;&#x3066;&#x304B;&#x3089;&#x306E;&#x671F;&#x9593;&#xFF0C;&#x306A;&#x3069;&#x3092;&#x95BE;&#x5024;&#x3068;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30B0;&#x306E;&#x5909;&#x6027;&#xFF0F;&#x4E0D;&#x5909;&#x6027;">&#x30FB;&#x30BF;&#x30B0;&#x306E;&#x5909;&#x6027;&#xFF0F;&#x4E0D;&#x5909;&#x6027;</h4>
<p><br></p>
<h3 id="tips">Tips</h3>
<h4 id="&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF0C;fargate&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x554F;&#x984C;">&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF0C;Fargate&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x554F;&#x984C;</h4>
<p>Fargate&#x306B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x6301;&#x305F;&#x305B;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;Elastic IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;&#x304C;&#x306A;&#x304F;&#xFF0C;&#x52D5;&#x7684;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3057;&#x304B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF08;Fargate&#x306E;&#x518D;&#x69CB;&#x7BC9;&#x5F8C;&#x306B;&#x5909;&#x5316;&#x3059;&#x308B;&#xFF09;&#xFF0E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x306E;&#x5148;&#x306B;&#x3042;&#x308B;&#x5916;&#x90E8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x304C;&#xFF0C;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x4E0A;&#x3067;&#x9759;&#x7684;&#x306A;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8981;&#x6C42;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#xFF08;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5411;&#x304D;&#x901A;&#x4FE1;&#xFF09;&#x6642;&#x306B;&#x9001;&#x4FE1;&#x5143;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x306B;&#x4ED8;&#x52A0;&#x3055;&#x308C;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x52D5;&#x7684;&#x306B;&#x306A;&#x308A;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x3067;&#x304D;&#x306A;&#x304F;&#x306A;&#x3063;&#x3066;&#x3057;&#x307E;&#x3046;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;&#x5916;&#x90E8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;.png" alt="NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;&#x5916;&#x90E8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;"></p>
<p>&#x305D;&#x3053;&#x3067;&#xFF0C;Fargate&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x304C;&#xFF0C;Elastic IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x6301;&#x3064;NAT Gateway&#x3092;&#x7D4C;&#x7531;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF08;Fargate&#x306F;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;Private&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x3069;&#x3061;&#x3089;&#x306B;&#x7F6E;&#x3044;&#x3066;&#x3082;&#x826F;&#x3044;&#xFF09;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;Nat Gateway&#x306E;Elastic IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x9001;&#x4FE1;&#x5143;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x306B;&#x4ED8;&#x52A0;&#x3055;&#x308C;&#x308B;&#x305F;&#x3081;&#xFF0C;Fargate&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x898B;&#x304B;&#x3051;&#x4E0A;&#x9759;&#x7684;&#x306B;&#x6271;&#x3046;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://aws.amazon.com/jp/premiumsupport/knowledge-center/ecs-fargate-static-elastic-ip-address/" target="_blank">https://aws.amazon.com/jp/premiumsupport/knowledge-center/ecs-fargate-static-elastic-ip-address/</a></p>
<h4 id="&#x30FB;vpc&#x306E;&#x5916;&#x5074;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30C8;&#x901A;&#x4FE1;&#x554F;&#x984C;">&#x30FB;VPC&#x306E;&#x5916;&#x5074;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30C8;&#x901A;&#x4FE1;&#x554F;&#x984C;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x5185;&#x306E;Fargate&#x306F;&#xFF0C;VPC&#x306E;&#x5916;&#x5074;&#x306B;&#x3042;&#x308B;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;NATGateway&#x307E;&#x305F;&#x306F;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x6599;&#x91D1;&#x7684;&#x306A;&#x89B3;&#x70B9;&#x304B;&#x3089;&#xFF0C;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x65B9;&#x304C;&#x3088;&#x3044;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x63A5;&#x7D9A;&#x5148;</th>
<th>PrivateDNS&#x540D;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>CloudWatch Logs</td>
<td><code>logs.ap-northeast-1.amazonaws.com</code></td>
<td>ECS&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x30ED;&#x30B0;&#x3092;POST&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
<tr>
<td>ECR</td>
<td><code>api.ecr.ap-northeast-1.amazonaws.com</code><br><code>*.dkr.ecr.ap-northeast-1.amazonaws.com</code></td>
<td>&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;GET&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
<tr>
<td>S3</td>
<td>&#x306A;&#x3057;</td>
<td>&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x30EC;&#x30A4;&#x30E4;&#x30FC;&#x3092;POST&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;</td>
</tr>
<tr>
<td>SSM</td>
<td><code>ssm.ap-northeast-1.amazonaws.com</code></td>
<td>SSM&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B9;&#x30C8;&#x30A2;&#x306B;GET&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p>&#x4F8B;&#x3048;&#x3070;&#xFF0C;Fargate&#x304B;&#x3089;ECR&#x306B;&#x5BFE;&#x3059;&#x308B;Docker&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x30D7;&#x30EB;&#x306F;&#xFF0C;VPC&#x306E;&#x5916;&#x5074;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#xFF08;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5411;&#x304D;&#x901A;&#x4FE1;&#xFF09;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0C;NAT Gateway&#x3092;&#x8A2D;&#x7F6E;&#x3057;&#x305F;&#x3068;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x5834;&#x5408;&#xFF0C;ECS&#x3084;ECR&#x3068;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x304C;NAT Gateway&#x3092;&#x901A;&#x904E;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x9AD8;&#x984D;&#x6599;&#x91D1;&#x3092;&#x8ACB;&#x6C42;&#x3055;&#x308C;&#x3066;&#x3057;&#x307E;&#x3046;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;.png" alt="NatGateway&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;"></p>
<p>&#x305D;&#x3053;&#x3067;&#xFF0C;ECR&#x7528;&#x306E;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x8A2D;&#x3051;&#xFF0C;&#x3053;&#x308C;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x884C;&#x3046;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#x3068;&#x3088;&#x3044;&#xFF0E;&#x306A;&#x304A;&#xFF0C;NAT Gateway&#x3068;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x4E21;&#x65B9;&#x3092;&#x69CB;&#x7BC9;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3067;&#x306F;&#xFF0C;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x306E;&#x65B9;&#x304C;&#x512A;&#x5148;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/PrivateLink&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;.png" alt="PrivateLink&#x3092;&#x4ECB;&#x3057;&#x305F;Fargate&#x304B;&#x3089;ECRECS&#x3078;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;"></p>
<p><br></p>
<h2 id="02-02-&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#xFF5C;ecs-on-ec2">02-02. &#x30B3;&#x30F3;&#x30C6;&#x30CA;&#xFF5C;ECS on EC2</h2>
<h3 id="ec2&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;">EC2&#x8D77;&#x52D5;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;</h3>
<h4 id="&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x914D;&#x7F6E;&#x6226;&#x7565;">&#x30FB;&#x30BF;&#x30B9;&#x30AF;&#x914D;&#x7F6E;&#x6226;&#x7565;</h4>
<p>&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x914D;&#x7F6E;&#x3059;&#x308B;&#x6642;&#x306E;&#x30A2;&#x30EB;&#x30B4;&#x30EA;&#x30BA;&#x30E0;&#x3092;&#x9078;&#x629E;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x6226;&#x7565;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Spread</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x5404;&#x5834;&#x6240;&#x306B;&#x30D0;&#x30E9;&#x30F3;&#x30B9;&#x3088;&#x304F;&#x914D;&#x7F6E;&#x3059;&#x308B;</td>
</tr>
<tr>
<td>Binpack</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x4E00;&#x3064;&#x306E;&#x5834;&#x6240;&#x306B;&#x3067;&#x304D;&#x308B;&#x3060;&#x3051;&#x591A;&#x304F;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Random</td>
<td>&#x30BF;&#x30B9;&#x30AF;&#x3092;&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x306B;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="03-&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#xFF5C;s3&#xFF1A;simple-storage-service">03. &#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#xFF5C;S3&#xFF1A;Simple Storage Service</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<h4 id="&#x30FB;&#x4E3B;&#x8981;&#x9805;&#x76EE;">&#x30FB;&#x4E3B;&#x8981;&#x9805;&#x76EE;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x5916;&#x4ED8;&#x3051;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;S3&#x306B;&#x4FDD;&#x5B58;&#x3059;&#x308B;CSS&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3084;&#x753B;&#x50CF;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x7BA1;&#x7406;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D0;&#x30B1;&#x30C3;&#x30C8;</td>
<td>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x306B;&#x95A2;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D0;&#x30C3;&#x30C1;&#x30AA;&#x30DA;&#x30EC;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30A2;&#x30CA;&#x30E9;&#x30A4;&#x30B6;&#x30FC;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30D7;&#x30ED;&#x30D1;&#x30C6;&#x30A3;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30D7;&#x30ED;&#x30D1;&#x30C6;&#x30A3;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30CB;&#x30F3;&#x30B0;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30FC;&#x30D0;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x30ED;&#x30B0;&#x8A18;&#x9332;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x9759;&#x7684;&#x30B5;&#x30A4;&#x30C8;&#x30DB;&#x30B9;&#x30C6;&#x30A3;&#x30F3;&#x30B0;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x30EC;&#x30D9;&#x30EB;&#x306E;&#x30ED;&#x30B0;&#x8A18;&#x9332;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x6697;&#x53F7;&#x5316;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;&#x30ED;&#x30C3;&#x30AF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Transfer acceleration</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30A4;&#x30D9;&#x30F3;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30BF;&#x652F;&#x6255;&#x3044;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x5916;&#x90E8;&#xFF0F;&#x5185;&#x90E8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x5236;&#x9650;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x5916;&#x90E8;&#xFF0F;&#x5185;&#x90E8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x5236;&#x9650;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;</td>
<td>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304C;S3&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x6642;&#x306E;&#x8A31;&#x5426;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x6709;&#x52B9;&#x306B;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304B;&#x3089;&#x300C;<code>https://<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;</span><span class="token punctuation">&gt;</span></span>.s3.amazonaws.com</code>&#x300D;&#x3068;&#x3044;&#x3046;&#x3088;&#x3046;&#x306B;URL&#x3092;&#x6307;&#x5B9A;&#x3057;&#x3066;&#xFF0C;S3&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x305F;&#x3060;&#x3057;&#x975E;&#x63A8;&#x5968;&#xFF0E;<br>&#x30FB;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x5168;&#x3066;&#x7121;&#x52B9;&#x306B;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x304B;&#x3089;&#x306E;&#x5168;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x906E;&#x65AD;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x30FB;&#x7279;&#x5B9A;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3067;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x3092;&#x5236;&#x9650;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3060;&#x3051;&#x306F;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF08;&#x30AF;&#x30ED;&#x30B9;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x3082;&#x53EF;&#xFF09;&#x307E;&#x305F;&#x306F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x304C;S3&#x3078;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3067;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;IAM&#x30E6;&#x30FC;&#x30B6;&#xFF08;&#x30AF;&#x30ED;&#x30B9;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x3082;&#x53EF;&#xFF09;&#x3084;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x304C;S3&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x305F;&#x3060;&#x3057;&#x4EE3;&#x308F;&#x308A;&#x306B;&#xFF0C;IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x3053;&#x3068;&#x3067;&#x3082;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x30FB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x306A;&#x3044;Cloud Front&#x3084;ALB&#x306A;&#x3069;&#x3067;&#x306F;&#xFF0C;&#x81EA;&#x8EAB;&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x751F;&#x6210;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x9808;&#x3067;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30EB;&#x30EA;&#x30B9;&#x30C8;</td>
<td>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF08;&#x30AF;&#x30ED;&#x30B9;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x3082;&#x53EF;&#xFF09;&#x304C;S3&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x6642;&#x306E;&#x8A31;&#x5426;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x6A5F;&#x80FD;&#x304C;&#x91CD;&#x8907;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x4EEE;&#x306B;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x81EA;&#x4F53;&#x306E;&#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x7121;&#x52B9;&#x5316;&#x3057;&#x305F;&#x3068;&#x3057;&#x3066;&#x3082;&#xFF0C;&#x7279;&#x5B9A;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3067;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x3092;&#x5236;&#x9650;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3060;&#x3051;&#x306F;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>CORS&#x306E;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30D8;&#x30C3;&#x30C0;&#x30FC;">&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30D8;&#x30C3;&#x30C0;&#x30FC;</h3>
<h4 id="&#x30FB;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;&#x8A2D;&#x5B9A;">&#x30FB;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;&#x8A2D;&#x5B9A;</h4>
<p>&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x57CB;&#x3081;&#x8FBC;&#x3080;HTTP&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x3092;&#xFF0C;&#x30E1;&#x30BF;&#x30C7;&#x30FC;&#x30BF;&#x3068;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x53EF;&#x80FD;&#x306A;&#x30D8;&#x30C3;&#x30C0;&#x30FC;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>ETag</td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306E;&#x4E00;&#x610F;&#x306A;&#x8B58;&#x5225;&#x5B50;&#xFF0E;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x691C;&#x8A3C;&#x306B;&#x4F7F;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
<td>&#x5168;&#x3066;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306B;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3067;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Cache-Control</td>
<td>Expires&#x3068;&#x540C;&#x69D8;&#x306B;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x306B;&#x304A;&#x3051;&#x308B;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x6709;&#x52B9;&#x671F;&#x9650;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x5168;&#x3066;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306B;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3067;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306E;MIME&#x30BF;&#x30A4;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x5168;&#x3066;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306B;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3067;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Expires</td>
<td>Cache-Control&#x3068;&#x540C;&#x69D8;&#x306B;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x306B;&#x304A;&#x3051;&#x308B;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x6709;&#x52B9;&#x671F;&#x9650;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x305F;&#x3060;&#x3057;&#xFF0C;Cache-Control&#x306E;&#x65B9;&#x304C;&#x512A;&#x5148;&#x5EA6;&#x304C;&#x9AD8;&#x3044;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Content-Disposition</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content-Encoding</td>
<td></td>
<td></td>
</tr>
<tr>
<td>x-amz-website-redirect-location</td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306E;&#x30EA;&#x30C0;&#x30A4;&#x30EC;&#x30AF;&#x30C8;&#x5148;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x4F8B;">&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x4F8B;</h3>
<h4 id="&#x30FB;s3&#x306E;arn&#x306B;&#x3064;&#x3044;&#x3066;">&#x30FB;S3&#x306E;ARN&#x306B;&#x3064;&#x3044;&#x3066;</h4>
<p>&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;S3&#x306E;AR&#x3067;&#x306F;&#xFF0C;&#x300C;<code>arn:aws:s3:::<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;</span><span class="token punctuation">&gt;</span></span>/*</code>&#x300D;&#x306E;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x6700;&#x5F8C;&#x306B;&#x30D0;&#x30C3;&#x30AF;&#x30B9;&#x30E9;&#x30C3;&#x30B7;&#x30E5;&#x30A2;&#x30B9;&#x30BF;&#x30EA;&#x30B9;&#x30AF;&#x304C;&#x5FC5;&#x8981;&#xFF0E;</p>
<h4 id="&#x30FB;alb&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x306E;&#x4FDD;&#x5B58;&#x3092;&#x8A31;&#x53EF;">&#x30FB;ALB&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x306E;&#x4FDD;&#x5B58;&#x3092;&#x8A31;&#x53EF;</h4>
<p>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x304C;&#x7121;&#x52B9;&#x5316;&#x3055;&#x308C;&#x305F;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;ALB&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x4FDD;&#x5B58;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x306F;&#xFF0C;ALB&#x304B;&#x3089;S3&#x3078;&#x306E;&#x30ED;&#x30B0;&#x66F8;&#x304D;&#x8FBC;&#x307F;&#x6A29;&#x9650;&#x3092;&#x5B9F;&#x88C5;&#x3059;&#x308B;&#xFF0E;&#x300C;<code>&apos;AWS&apos;: &apos;arn:aws:iam::582318560864:root&apos;</code>&#x300D;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;<code>582318560864</code>&#x306F;&#xFF0C;ALB&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&#x3068;&#x547C;&#x3070;&#x308C;&#xFF0C;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3054;&#x3068;&#x306B;&#x5024;&#x304C;&#x6C7A;&#x307E;&#x3063;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306F;&#xFF0C;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Principal&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;AWS&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>iam<span class="token operator">:</span><span class="token operator">:</span><span class="token number">582318560864</span><span class="token operator">:</span>root&apos;
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> &apos;s3<span class="token operator">:</span>PutObject&apos;<span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>s3<span class="token operator">:</span><span class="token operator">:</span><span class="token operator">:</span>&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;<span class="token comment">/*&apos;
    }
  ]
}
</span></code></pre>
<h4 id="&#x30FB;cloud-front&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x3092;&#x8A31;&#x53EF;">&#x30FB;Cloud Front&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x3092;&#x8A31;&#x53EF;</h4>
<p>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x304C;&#x7121;&#x52B9;&#x5316;&#x3055;&#x308C;&#x305F;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;Cloud Front&#x304B;&#x3089;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3067;&#x9759;&#x7684;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2008</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Id&apos;<span class="token operator">:</span> &apos;PolicyForCloudFrontPrivateContent&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Principal&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;AWS&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>iam<span class="token operator">:</span><span class="token operator">:</span>cloudfront<span class="token operator">:</span>user/CloudFront Origin Access Identity &lt;OAI&#x306E;ID&#x756A;&#x53F7;&gt;&apos;
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> &apos;s3<span class="token operator">:</span>GetObject&apos;<span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>s3<span class="token operator">:</span><span class="token operator">:</span><span class="token operator">:</span>&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;<span class="token comment">/*&apos;
    }
  ]
}
</span></code></pre>
<h4 id="&#x30FB;cloud-front&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x306E;&#x4FDD;&#x5B58;&#x3092;&#x8A31;&#x53EF;">&#x30FB;Cloud Front&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x306E;&#x4FDD;&#x5B58;&#x3092;&#x8A31;&#x53EF;</h4>
<p>2020-10-08&#x6642;&#x70B9;&#x306E;&#x4ED5;&#x69D8;&#x3067;&#x306F;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x304C;&#x7121;&#x52B9;&#x5316;&#x3055;&#x308C;&#x305F;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;Cloud Front&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x4FDD;&#x5B58;&#x3059;&#x308B;&#x3053;&#x3068;&#x306F;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x5371;&#x967A;&#x3067;&#x306F;&#x3042;&#x308B;&#x304C;&#xFF0C;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x6709;&#x52B9;&#x5316;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token comment">// &#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306F;&#x4E0D;&#x8981;</span>
</code></pre>
<h4 id="&#x30FB;lambda&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;">&#x30FB;Lambda&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;</h4>
<p>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306F;&#x4E0D;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x4EE3;&#x308F;&#x308A;&#x306B;&#xFF0C;AWS&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x300C;<code>AWSLambdaExecute</code>&#x300D;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30FC;&#x30EB;&#x3092;Lambda&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x306F;&#xFF0C;S3&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x306E;&#x4ED6;&#xFF0C;CloudWatch Logs&#x306B;&#x30ED;&#x30B0;&#x3092;&#x751F;&#x6210;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x6A29;&#x9650;&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        &apos;logs<span class="token operator">:</span>*&apos;
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>logs<span class="token operator">:</span>*<span class="token operator">:</span>*<span class="token operator">:</span>*&apos;
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        &apos;s3<span class="token operator">:</span>GetObject&apos;<span class="token punctuation">,</span>
        &apos;s3<span class="token operator">:</span>PutObject&apos;
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>s3<span class="token operator">:</span><span class="token operator">:</span><span class="token operator">:</span>*&apos;
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x7279;&#x5B9A;&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;">&#x30FB;&#x7279;&#x5B9A;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;</h4>
<p>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x4E0A;&#x306E;&#x7279;&#x5B9A;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Id&apos;<span class="token operator">:</span> &apos;S3PolicyId1&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Principal&apos;<span class="token operator">:</span> &apos;*&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> &apos;s3<span class="token operator">:</span>GetObject&apos;<span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>s3<span class="token operator">:</span><span class="token operator">:</span><span class="token operator">:</span>&lt;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;&gt;<span class="token comment">/*&apos;,
      &apos;Condition&apos;: {
        &apos;IpAddress&apos;: {
          &apos;aws:SourceIp&apos;: &apos;&lt;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&gt;/32&apos;
        }
      }
    }
  ]
}
</span></code></pre>
<p><br></p>
<h3 id="cors&#x8A2D;&#x5B9A;">CORS&#x8A2D;&#x5B9A;</h3>
<h4 id="&#x30FB;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x304B;&#x3089;&#x306E;get&#x9001;&#x4FE1;&#x3092;&#x8A31;&#x53EF;">&#x30FB;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x304B;&#x3089;&#x306E;GET&#x9001;&#x4FE1;&#x3092;&#x8A31;&#x53EF;</h4>
<pre class="language-"><code class="lang-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    &apos;AllowedHeaders&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
      &apos;Content-*&apos;
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    &apos;AllowedMethods&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
      &apos;GET&apos;
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    &apos;AllowedOrigins&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
      &apos;https<span class="token operator">:</span><span class="token comment">//example.jp&apos;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    &apos;ExposeHeaders&apos;<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    &apos;MaxAgeSeconds&apos;<span class="token operator">:</span> <span class="token number">3600</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
<p><br></p>
<h3 id="cli">CLI</h3>
<h4 id="&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x5185;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8868;&#x793A;">&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x5185;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8868;&#x793A;</h4>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x5185;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x3092;&#x8868;&#x793A;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell">$ aws s3 <span class="token function">ls</span> s3://<span class="token operator">&lt;</span>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;<span class="token operator">&gt;</span>
</code></pre>
<h4 id="&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x5185;&#x5BB9;&#x91CF;&#x3092;&#x5408;&#x8A08;">&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x5185;&#x5BB9;&#x91CF;&#x3092;&#x5408;&#x8A08;</h4>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x5185;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x5BB9;&#x91CF;&#x3092;&#x5408;&#x8A08;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell">$ aws s3 <span class="token function">ls</span> s3://<span class="token operator">&lt;</span>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;<span class="token operator">&gt;</span> --summarize --recursive --human-readable
</code></pre>
<p><br></p>
<h2 id="03-02-&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#xFF5C;&#x305D;&#x306E;&#x4ED6;">03-02. &#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#xFF5C;&#x305D;&#x306E;&#x4ED6;</h2>
<h3 id="ebs&#xFF1A;elastic-block-storage">EBS&#xFF1A;Elastic Block Storage</h3>
<h4 id="&#x30FB;ebs&#x3068;&#x306F;">&#x30FB;EBS&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x5185;&#x8535;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;">&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;</h3>
<h4 id="&#x30FB;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;&#x3068;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30BF;&#x30A4;&#x30D7;">&#x30FB;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;&#x3068;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30BF;&#x30A4;&#x30D7;</h4>
<table>
<thead>
<tr>
<th>&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x540D;</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSD</td>
<td>&#x6C4E;&#x7528;SSD</td>
</tr>
<tr>
<td>SSD</td>
<td>&#x30D7;&#x30ED;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x30C9; IOPS SSD</td>
</tr>
<tr>
<td>HDD</td>
<td>&#x30B9;&#x30EB;&#x30FC;&#x30D7;&#x30C3;&#x30C8;&#x6700;&#x9069;&#x5316; HDD</td>
</tr>
<tr>
<td>HDD</td>
<td>Cold HDD</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x6700;&#x5C0F;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;">&#x30FB;&#x6700;&#x5C0F;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;</h4>
<p>&#x8E0F;&#x307F;&#x53F0;&#x30B5;&#x30FC;&#x30D0;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x6642;&#xFF0C;&#x3067;&#x304D;&#x308B;&#x3060;&#x3051;&#x6700;&#x5C0F;&#x9650;&#x306E;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x3092;&#x9078;&#x629E;&#x3057;&#xFF0C;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x5408;&#x8A08;&#x3092;&#x6291;&#x3048;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>OS</th>
<th>&#x4EEE;&#x60F3;&#x30E1;&#x30E2;&#x30EA;</th>
<th>&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30B5;&#x30A4;&#x30BA;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Amazon Linux</td>
<td>t2.micro</td>
<td>8</td>
</tr>
<tr>
<td>CentOS</td>
<td>t2.micro</td>
<td>10</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="efs&#xFF1A;elastic-file-system">EFS&#xFF1A;Elastic File System</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/EFS&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x5171;&#x6709;&#x6A5F;&#x80FD;.png" alt="EFS&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x5171;&#x6709;&#x6A5F;&#x80FD;"></p>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h4>
<p>&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x3068;&#x63A5;&#x7D9A;&#x3055;&#x308C;&#x305F;&#x7247;&#x65B9;&#x306E;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304B;&#x3089;&#xFF0C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8AAD;&#x307F;&#x8FBC;&#x307F;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x3082;&#x3046;&#x4E00;&#x65B9;&#x306B;&#x51FA;&#x529B;&#x3059;&#x308B;&#xFF0E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x5B9F;&#x4F53;&#x306F;&#x3044;&#x305A;&#x308C;&#x304B;&#x306E;EC2&#x306B;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x63A5;&#x7D9A;&#x3092;&#x5207;&#x65AD;&#x3057;&#x3066;&#x3044;&#x308B;&#x9593;&#xFF0C;&#x7247;&#x65B9;&#x306E;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x5185;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306F;&#x7121;&#x304F;&#x306A;&#x308B;&#xFF0E;&#x518D;&#x63A5;&#x7D9A;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x5207;&#x65AD;&#x76F4;&#x524D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x518D;&#x3073;&#x8868;&#x793A;&#x3055;&#x308C;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D1;&#x30D5;&#x30A9;&#x30FC;&#x30DE;&#x30F3;&#x30B9;&#x30E2;&#x30FC;&#x30C9;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30B9;&#x30EB;&#x30FC;&#x30D7;&#x30C3;&#x30C8;&#x30E2;&#x30FC;&#x30C9;</td>
<td>EFS&#x306E;&#x30B9;&#x30EB;&#x30FC;&#x30D7;&#x30C3;&#x30C8;&#x6027;&#x80FD;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x3057;&#x3070;&#x3089;&#x304F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3055;&#x308C;&#x3066;&#x3044;&#x306A;&#x3044;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x4F4E;&#x983B;&#x5EA6;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#xFF08;IA&#xFF1A;Infrequent Access&#xFF09;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x30AF;&#x30E9;&#x30B9;&#x306B;&#x79FB;&#x52D5;&#x4FDD;&#x5B58;&#x3059;&#x308B;&#x307E;&#x3067;&#x306E;&#x671F;&#x9650;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x6709;&#x52B9;&#x306B;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30B9;&#x30BF;&#x30F3;&#x30C0;&#x30FC;&#x30C9;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x30AF;&#x30E9;&#x30B9;&#x306E;&#x307F;&#x304C;&#x4F7F;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x753B;&#x9762;&#x304B;&#x3089;&#x4E21;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x306E;&#x4F7F;&#x7528;&#x91CF;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x53C2;&#x8003;&#xFF1A;<a href="https://ap-northeast-1.console.aws.amazon.com/efs/home?region=ap-northeast-1#/file-systems/fs-f77d60d6" target="_blank">https://ap-northeast-1.console.aws.amazon.com/efs/home?region=ap-northeast-1#/file-systems/fs-f77d60d6</a></td>
</tr>
<tr>
<td>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30B7;&#x30B9;&#x30C6;&#x30E0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x4ED6;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x304C;EFS&#x3092;&#x5229;&#x7528;&#x3059;&#x308B;&#x6642;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x81EA;&#x52D5;&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;</td>
<td>AWS Backup&#x306B;&#x5B9A;&#x671F;&#x7684;&#x306B;&#x4FDD;&#x5B58;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;</td>
<td>&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x3092;&#x8A2D;&#x7F6E;&#x3059;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#xFF0C;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306F;&#xFF0C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x4F9B;&#x7D66;&#x306E;&#x901F;&#x5EA6;&#x306E;&#x89B3;&#x70B9;&#x304B;&#x3089;&#xFF0C;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3068;&#x540C;&#x3058;&#x306B;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306F;&#xFF0C;EC2&#x304B;&#x3089;&#x306E;NFS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x305F;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;EC2&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x901A;&#x904E;&#x3057;&#x305F;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3060;&#x3051;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3067;&#x306F;&#xFF0C;EC2&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30D0;&#x30FC;&#x30B9;&#x30C8;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x4ED5;&#x7D44;&#x307F;">&#x30FB;&#x30D0;&#x30FC;&#x30B9;&#x30C8;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x4ED5;&#x7D44;&#x307F;</h4>
<p>&#x30B9;&#x30EB;&#x30FC;&#x30D7;&#x30C3;&#x30C8;&#x6027;&#x80FD;&#x306E;&#x81EA;&#x52D5;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x306B;&#x6B8B;&#x9AD8;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x30D9;&#x30FC;&#x30B9;&#x30E9;&#x30A4;&#x30F3;&#x3092;&#x8D85;&#x904E;&#x3057;&#x305F;&#x5206;&#x3060;&#x3051;&#x81EA;&#x52D5;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6B8B;&#x9AD8;&#x304C;&#x6E1B;&#x3063;&#x3066;&#x3044;&#x304F;&#xFF0E;&#x307E;&#x305F;&#xFF0C;&#x30D9;&#x30FC;&#x30B9;&#x30E9;&#x30A4;&#x30F3;&#x672A;&#x6E80;&#x306E;&#x5206;&#x306F;&#x6B8B;&#x9AD8;&#x3068;&#x3057;&#x3066;&#x84C4;&#x7A4D;&#x3055;&#x308C;&#x3066;&#x3044;&#x304F;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/burst-mode_credit-balance-algorithm.png" alt="burst-mode_balance"></p>
<p>&#x5143;&#x3005;&#x306E;&#x6B8B;&#x9AD8;&#x306F;&#xFF0C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30B7;&#x30B9;&#x30C6;&#x30E0;&#x306E;&#x30B9;&#x30BF;&#x30F3;&#x30C0;&#x30FC;&#x30C9;&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;&#x30AF;&#x30E9;&#x30B9;&#x306E;&#x5BB9;&#x91CF;&#x306B;&#x5FDC;&#x3058;&#x3066;&#x5927;&#x304D;&#x304F;&#x306A;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/efs/latest/ug/performance.html#efs-burst-credits" target="_blank">https://docs.aws.amazon.com/ja_jp/efs/latest/ug/performance.html#efs-burst-credits</a></p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/burst-mode_credit-balance-size.png" alt="burst-mode_credit"></p>
<p>&#x6B8B;&#x9AD8;&#x306F;&#xFF0C;<code>BurstCreditBalance</code>&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x304B;&#x3089;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x304C;&#x5E38;&#x306B;&#x6E1B;&#x5C11;&#x3057;&#x7D9A;&#x3051;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#x306F;&#x30D7;&#x30ED;&#x30D3;&#x30B8;&#x30E7;&#x30CB;&#x30F3;&#x30B0;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x65B9;&#x304C;&#x3088;&#x308A;&#x9069;&#x5207;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/efs/latest/ug/performance.html#using-throughputmode" target="_blank">https://docs.aws.amazon.com/ja_jp/efs/latest/ug/performance.html#using-throughputmode</a></p>
<h4 id="&#x30FB;&#x30D7;&#x30ED;&#x30D3;&#x30B8;&#x30E7;&#x30CB;&#x30F3;&#x30B0;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x4ED5;&#x7D44;&#x307F;">&#x30FB;&#x30D7;&#x30ED;&#x30D3;&#x30B8;&#x30E7;&#x30CB;&#x30F3;&#x30B0;&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x4ED5;&#x7D44;&#x307F;</h4>
<p>&#x30B9;&#x30EB;&#x30FC;&#x30D7;&#x30C3;&#x30C8;&#x6027;&#x80FD;&#x306E;&#x81EA;&#x52D5;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6A5F;&#x80FD;&#x306F;&#x7121;&#x3044;&#x304C;&#xFF0C;&#x4E00;&#x5B9A;&#x306E;&#x6027;&#x80FD;&#x306F;&#x4FDD;&#x8A3C;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/efs/latest/ug/performance.html#provisioned-throughput" target="_blank">https://docs.aws.amazon.com/ja_jp/efs/latest/ug/performance.html#provisioned-throughput</a></p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/provisioning-mode_credit-balance-size.png" alt="burst-mode_credit"></p>
<h4 id="&#x30FB;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30B3;&#x30DE;&#x30F3;&#x30C9;">&#x30FB;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30B3;&#x30DE;&#x30F3;&#x30C9;</h4>
<p>DNS&#x7D4C;&#x7531;&#x3067;&#xFF0C;EFS&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30D8;&#x30EB;&#x30D1;&#x30FC;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x5834;&#x5408;&#x3092;&#x793A;&#x3059;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell">$ <span class="token function">mount</span> -t <span class="token operator">&lt;</span>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30B7;&#x30B9;&#x30C6;&#x30E0;&#x30BF;&#x30A4;&#x30D7;<span class="token operator">&gt;</span> -o tls <span class="token operator">&lt;</span>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30B7;&#x30B9;&#x30C6;&#x30E0;ID<span class="token operator">&gt;</span>:/ <span class="token operator">&lt;</span>&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30DD;&#x30A4;&#x30F3;&#x30C8;<span class="token operator">&gt;</span>
</code></pre>
<pre class="language-"><code class="lang-shell"><span class="token comment"># EFS&#x3067;&#xFF0C;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x767B;&#x9332;</span>
$ <span class="token function">mount</span> -t efs -o tls fs-xxxxx:/ /var/www/app

<span class="token comment"># &#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x89E3;&#x9664;</span>
$ <span class="token function">umount</span> /var/www/app

<span class="token comment"># df&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#x30DE;&#x30A6;&#x30F3;&#x30C8;&#x3057;&#x3066;&#x3044;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;</span>
$ <span class="token function">df</span>
Filesystem                                1K-blocks Used Available Use% Mounted on
fs-xxx.efs.ap-northeast-1.amazonaws.com:/ xxx       xxx  xxx       <span class="token number">1</span>%   /var/www/cerenavi
</code></pre>
<p><br></p>
<h2 id="04-&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#xFF5C;rds&#xFF1A;relational-database-service">04. &#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#xFF5C;RDS&#xFF1A;Relational Database Service</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x306E;&#x30AA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x306E;&#x7A2E;&#x985E;&#x3092;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>&#x30A8;&#x30C7;&#x30A3;&#x30B7;&#x30E7;&#x30F3;</td>
<td>Amazon Aurora&#x3092;&#x9078;&#x3093;&#x3060;&#x5834;&#x5408;&#x306E;&#x4E92;&#x63DB;&#x6027;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30AD;&#x30E3;&#x30D1;&#x30B7;&#x30C6;&#x30A3;&#x30BF;&#x30A4;&#x30D7;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EC;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x6A5F;&#x80FD;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>DB&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x8B58;&#x5225;&#x5B50;</td>
<td>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x540D;&#x306F;&#xFF0C;&#x6700;&#x521D;&#x306B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x305A;&#xFF0C;RDS&#x306E;&#x69CB;&#x7BC9;&#x5F8C;&#x306B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DE;&#x30B9;&#x30BF;&#x30E6;&#x30FC;&#x30B6;&#x540D;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306E;root&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>&#x30DE;&#x30B9;&#x30BF;&#x30FC;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306E;root&#x30E6;&#x30FC;&#x30B6;&#x306E;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x3092;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>DB&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30B5;&#x30A4;&#x30BA;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x30B9;&#x30DA;&#x30C3;&#x30AF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30D0;&#x30FC;&#x30B9;&#x30C8;&#x53EF;&#x80FD;&#x30AF;&#x30E9;&#x30B9;&#x3092;&#x9078;&#x3076;&#x3053;&#x3068;&#xFF0E;&#x3061;&#x306A;&#x307F;&#x306B;&#xFF0C;Amazon Aurora&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x5BB9;&#x91CF;&#x306F;&#x81EA;&#x52D5;&#x3067;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DE;&#x30EB;&#x30C1;AZ&#x914D;&#x7F6E;</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3068;&#x306F;&#x5225;&#x306B;&#xFF0C;&#x30EA;&#x30FC;&#x30C0;&#x30FC;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x3092;&#x30DE;&#x30EB;&#x30C1;AZ&#x914D;&#x7F6E;&#x3067;&#x8FFD;&#x52A0;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x6700;&#x521D;&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x540D;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306B;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#x72EC;&#x81EA;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x4E8B;&#x524D;&#x306B;&#x69CB;&#x7BC9;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3068;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x3042;&#x308B;&#x304C;&#xFF0C;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308C;&#x3070;&#x3088;&#x3044;&#xFF0E;&#x65B0;&#x3057;&#x304F;&#x4F5C;&#x6210;&#x3057;&#x305F;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x3066;&#x4EE5;&#x4E0B;&#x306E;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;<code>time_zone=Asia/Tokyo</code><br>&#x30FB;<code>character_set_client=utf8mb4</code><br>&#x30FB;<code>character_set_connection=utf8mb4</code><br>&#x30FB;<code>character_set_database=utf8mb4</code><br>&#x30FB;<code>character_set_results=utf8mb4</code><br>&#x30FB;<code>character_set_server=utf8mb4</code><br>&#x30FB;<code>server_audit_logging=1</code>&#xFF08;&#x76E3;&#x67FB;&#x30ED;&#x30B0;&#x3092;CloudWatch&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#xFF09;<br>&#x30FB;<code>server_audit_logs_upload=1</code><br>&#x30FB;<code>general_log=1</code>&#xFF08;&#x901A;&#x5E38;&#x30AF;&#x30A8;&#x30EA;&#x30ED;&#x30B0;&#x3092;CloudWatch&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#xFF09;<br>&#x30FB;<code>slow_query_log=1</code>&#xFF08;&#x30B9;&#x30ED;&#x30FC;&#x30AF;&#x30A8;&#x30EA;&#x30ED;&#x30B0;&#x3092;CloudWatch&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#xFF09;<br>&#x30FB;<code>long_query_time=3</code>&#xFF08;&#x30B9;&#x30ED;&#x30FC;&#x30AF;&#x30A8;&#x30EA;&#x3068;&#x898B;&#x306A;&#x3059;&#x6700;&#x77ED;&#x79D2;&#x6570;&#xFF09;</td>
</tr>
<tr>
<td>&#x30ED;&#x30B0;&#x306E;&#x30A8;&#x30AF;&#x30B9;&#x30DD;&#x30FC;&#x30C8;</td>
<td></td>
<td>&#x5FC5;&#x305A;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30ED;&#x30B0;&#x3092;&#x9078;&#x629E;&#x3059;&#x308B;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x4FDD;&#x6301;&#x671F;&#x9593;</td>
<td>RDS&#x304C;&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x3092;&#x4FDD;&#x6301;&#x3059;&#x308B;&#x671F;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#xFF17;&#x65E5;&#x9593;&#x306B;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DE;&#x30A4;&#x30CA;&#x30FC;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x81EA;&#x52D5;&#x30A2;&#x30C3;&#x30D7;&#x30B0;&#x30EC;&#x30FC;&#x30C9;</td>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x66F4;&#x65B0;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x958B;&#x767A;&#x74B0;&#x5883;&#x3067;&#x306F;&#x6709;&#x52B9;&#x5316;&#xFF0C;&#x672C;&#x756A;&#x74B0;&#x5883;&#x3068;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x3067;&#x306F;&#x7121;&#x52B9;&#x5316;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;&#x958B;&#x767A;&#x74B0;&#x5883;&#x3067;&#x65B0;&#x3057;&#x3044;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x554F;&#x984C;&#x304C;&#x306A;&#x3051;&#x308C;&#x3070;&#xFF0C;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x3068;&#x672C;&#x756A;&#x74B0;&#x5883;&#x306B;&#x3082;&#x9069;&#x7528;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;">&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</h3>
<h4 id="&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#xFF0C;rdb&#xFF0C;dbms&#x306E;&#x5BFE;&#x5FDC;&#x95A2;&#x4FC2;">&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#xFF0C;RDB&#xFF0C;DBMS&#x306E;&#x5BFE;&#x5FDC;&#x95A2;&#x4FC2;</h4>
<p>RDS&#x3067;&#x306F;&#xFF0C;DBMS&#xFF0C;RDB&#x3092;&#x9078;&#x3079;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>DBMS&#x306E;&#x7A2E;&#x985E;</th>
<th>RDB&#x306E;&#x7A2E;&#x985E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>MySQL&#xFF0F;PostgreSQL</td>
<td>Amazon Aurora</td>
</tr>
<tr>
<td>MariaDB</td>
<td>MariaDB&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;</td>
</tr>
<tr>
<td>MySQL</td>
<td>MySQL&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;</td>
</tr>
<tr>
<td>PostgreSQL</td>
<td>PostgreSQL&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x7A2E;&#x985E;">&#x30FB;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th></th>
<th>&#x8AAD;&#x307F;&#x51FA;&#x3057;&#xFF0F;&#x66F8;&#x304D;&#x8FBC;&#x307F;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</th>
<th>&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x30AA;&#x30F3;&#x30EA;&#x30FC;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x5225;&#x540D;</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</td>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</td>
</tr>
<tr>
<td>CRUD&#x5236;&#x9650;</td>
<td>&#x5236;&#x9650;&#x306A;&#x3057;&#xFF0E;&#x30E6;&#x30FC;&#x30B6;&#x6A29;&#x9650;&#x306B;&#x4F9D;&#x5B58;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30E6;&#x30FC;&#x30B6;&#x6A29;&#x9650;&#x306E;&#x6A29;&#x9650;&#x306B;&#x95A2;&#x4FC2;&#x306A;&#x304F;&#xFF0C;READ&#x3057;&#x304B;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td>&#x5404;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#xFF0C;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x30A4;&#x30CB;&#x30B7;&#x30E3;&#x30EB;&#x306B;&#x5408;&#x308F;&#x305B;&#x305F;&#x30A8;&#x30F3;&#x30C2;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
<td>&#x5404;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#xFF0C;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x30A4;&#x30CB;&#x30B7;&#x30E3;&#x30EB;&#x306B;&#x5408;&#x308F;&#x305B;&#x305F;&#x30A8;&#x30F3;&#x30C2;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30C0;&#x30A6;&#x30F3;&#x30BF;&#x30A4;&#x30E0;&#x306E;&#x767A;&#x751F;&#x6761;&#x4EF6;">&#x30FB;&#x30C0;&#x30A6;&#x30F3;&#x30BF;&#x30A4;&#x30E0;&#x306E;&#x767A;&#x751F;&#x6761;&#x4EF6;</h4>
<p>&#x305D;&#x306E;&#x4ED6;&#x306E;&#x5168;&#x3066;&#x306E;&#x9805;&#x76EE;&#x306F;&#xFF0C;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Overview.DBInstance.Modifying.html#w611aac17c11c15b7:~:text=%E3%83%80%E3%82%A6%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%A0%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E6%B3%A8%E6%84%8F" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Overview.DBInstance.Modifying.html#w611aac17c11c15b7:~:text=%E3%83%80%E3%82%A6%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%A0%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E6%B3%A8%E6%84%8F</a></p>
<table>
<thead>
<tr>
<th>&#x5909;&#x66F4;&#x3059;&#x308B;&#x9805;&#x76EE;</th>
<th>&#x30C0;&#x30A6;&#x30F3;&#x30BF;&#x30A4;&#x30E0;&#x306E;&#x6709;&#x7121;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30AF;&#x30E9;&#x30B9;</td>
<td>&#x3042;&#x308A;</td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x3042;&#x308A;</td>
<td></td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</td>
<td>&#x3042;&#x308A;</td>
<td></td>
</tr>
<tr>
<td>&#x30E1;&#x30F3;&#x30C6;&#x30CA;&#x30F3;&#x30B9;&#x30A6;&#x30A3;&#x30F3;&#x30C9;&#x30A6;</td>
<td>&#x6761;&#x4EF6;&#x4ED8;&#x304D;&#x3067;&#x306A;&#x3057;</td>
<td>&#x30C0;&#x30A6;&#x30F3;&#x30BF;&#x30A4;&#x30E0;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#x64CD;&#x4F5C;&#x304C;&#x4FDD;&#x7559;&#x4E2D;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#x72B6;&#x614B;&#x3067;&#xFF0C;&#x30E1;&#x30F3;&#x30C6;&#x30CA;&#x30F3;&#x30B9;&#x6642;&#x9593;&#x3092;&#x73FE;&#x5728;&#x304C;&#x542B;&#x307E;&#x308C;&#x308B;&#x3088;&#x3046;&#x306B;&#x5909;&#x66F4;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x4FDD;&#x7559;&#x4E2D;&#x306E;&#x64CD;&#x4F5C;&#x304C;&#x3059;&#x3050;&#x306B;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x30C0;&#x30A6;&#x30F3;&#x30BF;&#x30A4;&#x30E0;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x30A6;&#x30A4;&#x30F3;&#x30C9;&#x30A6;</td>
<td>&#x6761;&#x4EF6;&#x4ED8;&#x304D;&#x3067;&#x306A;&#x3057;</td>
<td>0&#x304B;&#x3089;0&#x4EE5;&#x5916;&#x306E;&#x5024;&#xFF0C;0&#x4EE5;&#x5916;&#x306E;&#x5024;&#x304B;&#x3089;0&#x306B;&#x5909;&#x66F4;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30C0;&#x30A6;&#x30F3;&#x30BF;&#x30A4;&#x30E0;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x306A;&#x3057;</td>
<td>&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306E;&#x5909;&#x66F4;&#x81EA;&#x4F53;&#x3067;&#x306F;&#x30C0;&#x30A6;&#x30F3;&#x30BF;&#x30A4;&#x30E0;&#x306F;&#x767A;&#x751F;&#x3057;&#x306A;&#x3044;&#xFF0E;&#x305F;&#x3060;&#x3057;&#xFF0C;&#x65B0;&#x3057;&#x3044;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x53CD;&#x6620;&#x3055;&#x305B;&#x308B;&#x305F;&#x3081;&#x306B;&#x306F;&#xFF0C;&#x518D;&#x8D77;&#x52D5;&#x304C;&#x5FC5;&#x8981;&#x306A;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x3053;&#x3067;&#x30C0;&#x30A6;&#x30F3;&#x30BF;&#x30A4;&#x30E0;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x306A;&#x3057;</td>
<td></td>
</tr>
<tr>
<td>&#x30DE;&#x30A4;&#x30CA;&#x30FC;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x81EA;&#x52D5;&#x30A2;&#x30C3;&#x30D7;&#x30B0;&#x30EC;&#x30FC;&#x30C9;</td>
<td>&#x306A;&#x3057;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x8CA0;&#x8377;&#x5BFE;&#x7B56;">&#x8CA0;&#x8377;&#x5BFE;&#x7B56;</h3>
<h4 id="&#x30FB;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;">&#x30FB;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/RDS&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;.png" alt="RDS&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;"></p>
<p>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x5FDC;&#x3058;&#x305F;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x7528;&#x610F;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304B;&#x3089;&#x306E;CRUD&#x306E;&#x7A2E;&#x985E;&#x306B;&#x5FDC;&#x3058;&#x3066;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x5148;&#x3092;&#x632F;&#x308A;&#x5206;&#x3051;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x8CA0;&#x8377;&#x3092;&#x5206;&#x6563;&#x3055;&#x305B;&#x3089;&#x308C;&#x308B;&#xFF0E;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x30AA;&#x30F3;&#x30EA;&#x30FC;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;READ&#x4EE5;&#x5916;&#x306E;&#x51E6;&#x7406;&#x3092;&#x884C;&#x3046;&#x3068;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0C;&#x30A8;&#x30E9;&#x30FC;&#x3068;&#x306A;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-sql"><span class="token comment">/* SQL Error (1290): The MySQL server is running with the --read-only option so it cannot execute this statement */</span>
</code></pre>
<table>
<thead>
<tr>
<th>&#x7A2E;&#x985E;</th>
<th>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</th>
<th>&#x30AF;&#x30A8;&#x30EA;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x540D;</span><span class="token punctuation">&gt;</span></span>.cluster-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>.ap-northeast-1.rds.amazonaws.com</code></td>
<td>&#x66F8;&#x304D;&#x8FBC;&#x307F;&#xFF0F;&#x8AAD;&#x307F;&#x51FA;&#x3057;</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x540D;</span><span class="token punctuation">&gt;</span></span>.cluster-ro-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>.ap-northeast-1.rds.amazonaws.com</code></td>
<td>&#x8AAD;&#x307F;&#x51FA;&#x3057;</td>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304C;&#x8907;&#x6570;&#x3042;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x30AF;&#x30A8;&#x30EA;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x5272;&#x308A;&#x632F;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x540D;</span><span class="token punctuation">&gt;</span></span>.cwgrq25vlygf.ap-northeast-1.rds.amazonaws.com</code></td>
<td></td>
<td>&#x9078;&#x629E;&#x3057;&#x305F;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x969C;&#x5BB3;&#x5BFE;&#x7B56;">&#x969C;&#x5BB3;&#x5BFE;&#x7B56;</h3>
<h4 id="&#x30FB;&#x30D5;&#x30A7;&#x30A4;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;">&#x30FB;&#x30D5;&#x30A7;&#x30A4;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;</h4>
<p>RDS&#x306E;&#x30D5;&#x30A7;&#x30A4;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;&#x306B;&#x306F;&#xFF0C;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x7A2E;&#x985E;&#x306B;&#x5FDC;&#x3058;&#x3066;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x7A2E;&#x985E;&#x306E;&#x3082;&#x306E;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;</th>
<th>&#x30D5;&#x30A7;&#x30A4;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;&#x306E;&#x4ED5;&#x7D44;&#x307F;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Aurora</td>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x304C;&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x6607;&#x683C;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/AuroraUserGuide/Concepts.AuroraHighAvailability.html" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/AuroraUserGuide/Concepts.AuroraHighAvailability.html</a></td>
</tr>
<tr>
<td>Aurora&#x4EE5;&#x5916;</td>
<td>&#x30B9;&#x30BF;&#x30F3;&#x30D0;&#x30A4;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x304C;&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306B;&#x6607;&#x683C;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Concepts.MultiAZ.html" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Concepts.MultiAZ.html</a></td>
</tr>
</tbody>
</table>
<p>Aurora&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30D5;&#x30A7;&#x30A4;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;&#x306B;&#x3088;&#x3063;&#x3066;&#x6607;&#x683C;&#x3059;&#x308B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306F;&#x6B21;&#x306E;&#x9806;&#x756A;&#x3067;&#x6C7A;&#x5B9A;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x57FA;&#x672C;&#x7684;&#x306B;&#x306F;&#xFF0C;&#x512A;&#x5148;&#x5EA6;&#x306E;&#x6570;&#x5024;&#x306E;&#x5C0F;&#x3055;&#x3044;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304C;&#x6607;&#x683C;&#x5BFE;&#x8C61;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x512A;&#x5148;&#x5EA6;&#x304C;&#x540C;&#x3058;&#x3060;&#x3068;&#xFF0C;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30AF;&#x30E9;&#x30B9;&#x304C;&#x5927;&#x304D;&#x3044;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304C;&#x6607;&#x683C;&#x5BFE;&#x8C61;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30AF;&#x30E9;&#x30B9;&#x304C;&#x540C;&#x3058;&#x3060;&#x3068;&#xFF0C;&#x540C;&#x3058;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306B;&#x3042;&#x308B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304C;&#x6607;&#x683C;&#x5BFE;&#x8C61;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<ol>
<li>&#x512A;&#x5148;&#x5EA6;&#x306E;&#x9806;&#x756A;</li>
<li>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x30AF;&#x30E9;&#x30B9;&#x306E;&#x5927;&#x304D;&#x3055;</li>
<li>&#x540C;&#x3058;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;</li>
</ol>
<p><br></p>
<h3 id="&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;">&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;</h3>
<h4 id="&#x30FB;&#x914D;&#x7F6E;&#x3055;&#x308C;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;">&#x30FB;&#x914D;&#x7F6E;&#x3055;&#x308C;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;</h4>
<p>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x304C;&#x914D;&#x7F6E;&#x3055;&#x308C;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306F;Private&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306B;&#x3059;&#x308B;&#xFF0C;&#x3053;&#x308C;&#x306B;&#x306F;&#xFF0C;data store&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;&#x540D;&#x4ED8;&#x3051;&#x308B;&#xFF0E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x4EE5;&#x5916;&#x306F;&#xFF0C;&#x8E0F;&#x307F;&#x53F0;&#x30B5;&#x30FC;&#x30D0;&#x7D4C;&#x7531;&#x3067;&#x3057;&#x304B;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/subnet-types.png" alt="subnet-types"></p>
<h4 id="&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;">&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</h4>
<p>&#x30B3;&#x30F3;&#x30D4;&#x30E5;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x304B;&#x3089;&#x306E;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x306E;&#x307F;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x3053;&#x308C;&#x3089;&#x306E;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF08;<code>n.n.n.n/32</code>&#xFF09;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="04-&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#xFF5C;elasticache">04. &#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#xFF5C;ElastiCache</h2>
<h3 id="elasticcache&#x306E;&#x7A2E;&#x985E;">ElasticCache&#x306E;&#x7A2E;&#x985E;</h3>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x4EE3;&#x308F;&#x308A;&#x306B;&#xFF0C;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#xFF0C;&#x30AF;&#x30A8;&#x30EA;Cache&#xFF0C;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;Redis&#x3068;Memcached&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="redis&#x306E;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">Redis&#x306E;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Redis.png" alt="Redis"></p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30A8;&#x30F3;&#x30B8;&#x30F3;</td>
<td>&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;Redis&#x901A;&#x5E38;&#x30E2;&#x30FC;&#x30C9;&#xFF0C;Redis&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30E2;&#x30FC;&#x30C9;&#x304B;&#x3089;&#x9078;&#x629E;&#x3059;&#x308B;&#xFF0E;</td>
<td>Redis&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30E2;&#x30FC;&#x30C9;&#x3068;&#x540C;&#x69D8;&#x306B;&#xFF0C;Redis&#x901A;&#x5E38;&#x30E2;&#x30FC;&#x30C9;&#x3082;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x69CB;&#x6210;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x305F;&#x3060;&#xFF0C;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x30E2;&#x30FC;&#x30C9;&#x3068;&#x306F;&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x306E;&#x69CB;&#x6210;&#x65B9;&#x6CD5;&#x304C;&#x7570;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x4E92;&#x63DB;&#x6027;</td>
<td>&#x9078;&#x3093;&#x3060;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x30A8;&#x30F3;&#x30B8;&#x30F3;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30DE;&#x30A4;&#x30CA;&#x30FC;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x304C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x66F4;&#x65B0;&#x3055;&#x308C;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x4F8B;&#x3048;&#x3070;&#x300C;6.x&#x300D;&#x306F;&#x8A2D;&#x5B9A;&#x3057;&#x306A;&#x3044;&#x65B9;&#x304C;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#x72EC;&#x81EA;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x4E8B;&#x524D;&#x306B;&#x69CB;&#x7BC9;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30CE;&#x30FC;&#x30C9;&#x306E;&#x30BF;&#x30A4;&#x30D7;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EC;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x6570;</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x3068;&#x306F;&#x5225;&#x306B;&#xFF0C;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30CE;&#x30FC;&#x30C9;&#x3092;&#x3044;&#x304F;&#x3064;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30DE;&#x30EB;&#x30C1;AZ&#x306B;&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x3068;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30CE;&#x30FC;&#x30C9;&#x3092;&#x4E00;&#x3064;&#x305A;&#x3064;&#x914D;&#x7F6E;&#x3055;&#x305B;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x3053;&#x3053;&#x3067;&#x306F;&#x300C;&#xFF11;&#x500B;&#x300D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DE;&#x30EB;&#x30C1;AZ</td>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x3068;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x3092;&#x7570;&#x306A;&#x308B;AZ&#x306B;&#x914D;&#x7F6E;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x5408;&#x308F;&#x305B;&#x3066;&#xFF0C;&#x81EA;&#x52D5;&#x30D5;&#x30A7;&#x30FC;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>Redis&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;</td>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x3078;&#x306E;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x30A4;&#x30F3;&#x30DD;&#x30FC;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;</td>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x306E;&#x6709;&#x52B9;&#x5316;&#xFF0C;&#x4FDD;&#x6301;&#x671F;&#x9593;&#xFF0C;&#x6642;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x3092;&#x53D6;&#x308B;&#x307B;&#x3069;&#x3067;&#x3082;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x7121;&#x52B9;&#x5316;&#x3057;&#x3066;&#x304A;&#x3044;&#x3066;&#x554F;&#x984C;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30E1;&#x30F3;&#x30C6;&#x30CA;&#x30F3;&#x30B9;</td>
<td>&#x30E1;&#x30F3;&#x30C6;&#x30CA;&#x30F3;&#x30B9;&#x306E;&#x6642;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;">&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;</h3>
<h4 id="&#x30FB;&#x4ED5;&#x7D44;&#x307F;">&#x30FB;&#x4ED5;&#x7D44;&#x307F;</h4>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x5197;&#x9577;&#x5316;&#x6642;&#xFF0C;&#x3053;&#x308C;&#x3089;&#x306E;&#x9593;&#x3067;&#x5171;&#x901A;&#x306E;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ElastiCache&#x306E;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;.png" alt="ElastiCache&#x306E;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x6A5F;&#x80FD;"></p>
<h3 id="&#x30AF;&#x30A8;&#x30EA;cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;">&#x30AF;&#x30A8;&#x30EA;Cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;</h3>
<h4 id="&#x30FB;&#x4ED5;&#x7D44;&#x307F;">&#x30FB;&#x4ED5;&#x7D44;&#x307F;</h4>
<p>RDS&#x306B;&#x5BFE;&#x3059;&#x308B;SQL&#x3068;&#x8AAD;&#x307F;&#x51FA;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3068;&#x3057;&#x3066;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30AF;&#x30A8;&#x30EA;Cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;_1.png" alt="&#x30AF;&#x30A8;&#x30EA;Cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;_1"></p>
<ol>
<li>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306F;&#xFF0C;RDS&#x306E;&#x524D;&#x306B;&#xFF0C;Redis&#x306B;&#x5BFE;&#x3057;&#x3066;SQL&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</li>
</ol>
<pre class="language-"><code class="lang-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users<span class="token punctuation">;</span>
</code></pre>
<ol>
<li>&#x59CB;&#x3081;&#x3066;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x305F;SQL&#x306E;&#x5834;&#x5408;&#xFF0C;Redis&#x306F;SQL&#x3092;&#x30AD;&#x30FC;&#x3068;&#x3057;&#x3066;&#x4FDD;&#x5B58;&#x3057;&#xFF0C;Cache&#x304C;&#x7121;&#x3044;&#x3053;&#x3068;&#x304C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x8FD4;&#x5374;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306F;RDS&#x306B;&#x5BFE;&#x3057;&#x3066;SQL&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30C7;&#x30FC;&#x30BF;&#x304C;&#x8AAD;&#x307F;&#x51FA;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
<li>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306F;Redis&#x306B;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x767B;&#x9332;&#x3059;&#x308B;&#xFF0E;</li>
</ol>
<pre class="language-"><code class="lang-shell"><span class="token comment"># ElastiCache&#x306B;&#x306F;&#xFF0C;SQL&#x306E;&#x5B9F;&#x884C;&#x7D50;&#x679C;&#x304C;&#x307E;&#x3060;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x3066;&#x3044;&#x306A;&#x3044;</span>

*** no cache ***
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;1&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;alice&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;2&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;bob&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;3&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;charles&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;4&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;donny&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;5&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;elie&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;6&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;fabian&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;7&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;gabriel&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;8&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;harold&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;9&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;Ignatius&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;10&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;jonny&apos;</span><span class="token punctuation">}</span>
</code></pre>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30AF;&#x30A8;&#x30EA;Cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;_2.png" alt="&#x30AF;&#x30A8;&#x30EA;Cache&#x7BA1;&#x7406;&#x6A5F;&#x80FD;_2"></p>
<ol>
<li>&#x6B21;&#x56DE;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306F;&#xFF0C;RDS&#x306E;&#x524D;&#x306B;&#xFF0C;Redis&#x306B;&#x5BFE;&#x3057;&#x3066;SQL&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</li>
</ol>
<pre class="language-"><code class="lang-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users<span class="token punctuation">;</span>
</code></pre>
<ol>
<li>Redis&#x306F;&#xFF0C;SQL&#x3092;&#x30AD;&#x30FC;&#x306B;&#x3057;&#x3066;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x7279;&#x5B9A;&#x3057;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x8FD4;&#x5374;&#x3059;&#x308B;&#xFF0E;</li>
</ol>
<pre class="language-"><code class="lang-shell"><span class="token comment"># ElastiCache&#x306B;&#x306F;&#xFF0C;SQL&#x306E;&#x5B9F;&#x884C;&#x7D50;&#x679C;&#x304C;&#x65E2;&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;</span>

*** cache hit ***
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;1&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;alice&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;2&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;bob&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;3&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;charles&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;4&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;donny&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;5&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;elie&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;6&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;fabian&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;7&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;gabriel&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;8&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;harold&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;9&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;Ignatius&apos;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&apos;id&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;10&apos;</span>, <span class="token string">&apos;name&apos;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">&apos;jonny&apos;</span><span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x30AF;&#x30A8;&#x30EA;cache&#x306E;&#x64CD;&#x4F5C;">&#x30FB;&#x30AF;&#x30A8;&#x30EA;Cache&#x306E;&#x64CD;&#x4F5C;</h4>
<pre class="language-"><code class="lang-shell"><span class="token comment"># Redis&#x63A5;&#x7D9A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;</span>
$ /usr/local/sbin/redis-stable/src/redis-cli -c -h <span class="token operator">&lt;</span>Redis&#x306E;&#x30DB;&#x30B9;&#x30C8;&#x540D;<span class="token operator">&gt;</span> -p <span class="token number">6379</span>
</code></pre>
<pre class="language-"><code class="lang-shell"><span class="token comment"># Redis&#x63A5;&#x7D9A;&#x4E2D;&#x306E;&#x72B6;&#x614B;</span>
<span class="token comment"># &#x5168;&#x3066;&#x306E;&#x30AD;&#x30FC;&#x3092;&#x8868;&#x793A;</span>
redis xxxxx:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
</code></pre>
<pre class="language-"><code class="lang-shell"><span class="token comment"># Redis&#x63A5;&#x7D9A;&#x4E2D;&#x306E;&#x72B6;&#x614B;</span>
<span class="token comment"># &#x30AD;&#x30FC;&#x3092;&#x6307;&#x5B9A;&#x3057;&#x3066;&#xFF0C;&#x5BFE;&#x5FDC;&#x3059;&#x308B;&#x5024;&#x3092;&#x8868;&#x793A;</span>
redis xxxxx:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> <span class="token operator">&lt;</span>&#x30AD;&#x30FC;&#x540D;<span class="token operator">&gt;</span>
</code></pre>
<pre class="language-"><code class="lang-shell"><span class="token comment"># Redis&#x63A5;&#x7D9A;&#x4E2D;&#x306E;&#x72B6;&#x614B;</span>
<span class="token comment"># Redis&#x304C;&#x53D7;&#x3051;&#x53D6;&#x3063;&#x305F;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3092;&#x30D5;&#x30A9;&#x30A2;&#x30B0;&#x30E9;&#x30A6;&#x30F3;&#x30C9;&#x3067;&#x8868;&#x793A;</span>
redis xxxxx:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> monitor
</code></pre>
<p><br></p>
<h3 id="redis&#x306E;&#x969C;&#x5BB3;&#x5BFE;&#x7B56;">Redis&#x306E;&#x969C;&#x5BB3;&#x5BFE;&#x7B56;</h3>
<h4 id="&#x30FB;&#x30D5;&#x30A7;&#x30A4;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;">&#x30FB;&#x30D5;&#x30A7;&#x30A4;&#x30EB;&#x30AA;&#x30FC;&#x30D0;&#x30FC;</h4>
<p>&#x30CE;&#x30FC;&#x30C9;&#x306E;&#x969C;&#x5BB3;&#x3092;&#x691C;&#x77E5;&#x3057;&#xFF0C;&#x969C;&#x5BB3;&#x304C;&#x767A;&#x751F;&#x3057;&#x305F;&#x30CE;&#x30FC;&#x30C9;&#x3092;&#x65B0;&#x3057;&#x3044;&#x3082;&#x306E;&#x306B;&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x969C;&#x5BB3;&#x306E;&#x767A;&#x751F;&#x3057;&#x305F;&#x30CE;&#x30FC;&#x30C9;</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;</td>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x306E;&#x4E00;&#x3064;&#x304C;&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x306B;&#x6607;&#x683C;&#x3057;&#xFF0C;&#x969C;&#x5BB3;&#x304C;&#x8D77;&#x304D;&#x305F;&#x30D7;&#x30E9;&#x30A4;&#x30DE;&#x30EA;&#x30CE;&#x30FC;&#x30C9;&#x3068;&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30CE;&#x30FC;&#x30C9;</td>
<td>&#x969C;&#x5BB3;&#x304C;&#x8D77;&#x304D;&#x305F;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x30CE;&#x30FC;&#x30C9;&#x304C;&#xFF0C;&#x5225;&#x306E;&#x65B0;&#x3057;&#x3044;&#x3082;&#x306E;&#x306B;&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x3089;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="05-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;api-gateway">05. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;API Gateway</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/APIGateway&#x306E;&#x4ED5;&#x7D44;&#x307F;.png" alt="APIGateway&#x306E;&#x4ED5;&#x7D44;&#x307F;"></p>
<p>API Gateway&#x306F;&#xFF0C;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0C;&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0C;&#x7D71;&#x5408;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0C;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0C;&#x304B;&#x3089;&#x69CB;&#x6210;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;</td>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#xFF0C;HTTP&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#xFF0C;&#x8EE2;&#x9001;&#x5148;&#xFF0C;&#x306A;&#x3069;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x69CB;&#x7BC9;&#x3057;&#x305F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x30D1;&#x30B9;&#x304C;&#xFF0C;API Gateway&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306B;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B9;&#x30C6;&#x30FC;&#x30B8;</td>
<td>API Gateway&#x3092;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3059;&#x308B;&#x74B0;&#x5883;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30AA;&#x30FC;&#x30BD;&#x30E9;&#x30A4;&#x30B6;&#x30FC;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30E2;&#x30C7;&#x30EB;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30C9;&#x30AD;&#x30E5;&#x30E1;&#x30F3;&#x30C8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30C0;&#x30C3;&#x30B7;&#x30E5;&#x30DC;&#x30FC;&#x30C9;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x305D;&#x306E;&#x4ED6;&#x306E;&#x8A2D;&#x5B9A;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x4F7F;&#x7528;&#x91CF;&#x30D7;&#x30E9;&#x30F3;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>API&#x30AD;&#x30FC;</td>
<td>API&#x30AD;&#x30FC;&#x306B;&#x3088;&#x308B;&#x8A8D;&#x53EF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x8A3C;&#x660E;&#x66F8;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>CloudWatch Logs&#x306E;&#x8A2D;&#x5B9A;</td>
<td>API Gateway&#x304C;CloudWatch Logs&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x4E00;&#x3064;&#x306E;AWS&#x74B0;&#x5883;&#x306B;&#x3064;&#x304D;&#xFF0C;&#x4E00;&#x3064;&#x306E;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308C;&#x3070;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30EA;&#x30BD;&#x30FC;&#x30B9;">&#x30EA;&#x30BD;&#x30FC;&#x30B9;</h3>
<h4 id="&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x9806;&#x756A;</th>
<th>&#x51E6;&#x7406;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x304B;&#x3089;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x5B9F;&#x969B;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304B;&#x3089;&#x8EE2;&#x9001;&#x3055;&#x308C;&#x305F;&#x5404;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x30C6;&#x30F3;&#x30D7;&#x30EC;&#x30FC;&#x30C8;&#x306E;JSON&#x306B;&#x7D10;&#x3065;&#x3051;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>&#x7D71;&#x5408;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td></td>
<td>&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3067;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x7D71;&#x5408;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x306A;&#x304F;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>4</td>
<td>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;</td>
<td>&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x304C;&#x6210;&#x529F;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x8A8D;&#x53EF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x691C;&#x8A3C;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>API&#x30AD;&#x30FC;&#x306E;&#x5FC5;&#x8981;&#x6027;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>URL&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x5217;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>HTTP&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x672C;&#x6587;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>SDK&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x7D71;&#x5408;&#x30BF;&#x30A4;&#x30D7;</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8EE2;&#x9001;&#x5148;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>URL&#x30D1;&#x30B9;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;</td>
<td>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304B;&#x3089;&#x8EE2;&#x9001;&#x3055;&#x308C;&#x305F;&#x5404;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x30D1;&#x30B9;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x306B;&#x7D10;&#x3065;&#x3051;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>URL&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x5217;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;</td>
<td>&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304B;&#x3089;&#x8EE2;&#x9001;&#x3055;&#x308C;&#x305F;&#x5404;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x5217;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x306B;&#x7D10;&#x3065;&#x3051;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>HTTP&#x30D8;&#x30C3;&#x30C0;&#x30FC;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30C6;&#x30B9;&#x30C8;">&#x30FB;&#x30C6;&#x30B9;&#x30C8;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8A2D;&#x5B9A;&#x4F8B;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D8;&#x30C3;&#x30C0;&#x30FC;</td>
<td>X-API-Token: test</td>
<td>&#x6CE2;&#x62EC;&#x5F27;&#xFF0C;&#x30B9;&#x30DA;&#x30FC;&#x30B9;&#xFF0C;&#x30AF;&#x30AA;&#x30FC;&#x30C6;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306F;&#x4E0D;&#x8981;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x672C;&#x6587;</td>
<td><code>{test:&quot;test&quot;}</code></td>
<td>&#x6539;&#x884C;&#x30BF;&#x30B0;&#x3084;&#x30B9;&#x30DA;&#x30FC;&#x30B9;&#x304C;&#x5165;&#x308A;&#x8FBC;&#x307E;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="private&#x7D71;&#x5408;">Private&#x7D71;&#x5408;</h3>
<h4 id="&#x30FB;private&#x7D71;&#x5408;&#x3068;&#x306F;">&#x30FB;Private&#x7D71;&#x5408;&#x3068;&#x306F;</h4>
<p>API Gateway&#x3068;VPC&#x30EA;&#x30F3;&#x30AF;&#x306E;&#x9593;&#x3067;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x307E;&#x305F;&#x306F;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;JSON&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x6A5F;&#x80FD;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x7D71;&#x5408;&#x30BF;&#x30A4;&#x30D7;</td>
<td>VPC&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x9078;&#x629E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x306E;&#x4F7F;&#x7528;</td>
<td>VPC&#x30EA;&#x30F3;&#x30AF;&#x3068;&#x306E;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x6709;&#x52B9;&#x5316;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30E1;&#x30BD;&#x30C3;&#x30C9;</td>
<td>HTTP&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>VPC&#x30EA;&#x30F3;&#x30AF;</td>
<td>VPC&#x30EA;&#x30F3;&#x30AF;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;URL</td>
<td>NLB&#x306E;DNS&#x540D;&#x3092;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x8EE2;&#x9001;&#x5148;&#x306E;URL&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x30BF;&#x30A4;&#x30E0;&#x30A2;&#x30A6;&#x30C8;&#x306E;&#x4F7F;&#x7528;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3068;&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;">&#x30FB;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3068;&#x7D71;&#x5408;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;</h4>
<p><br></p>
<h3 id="lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;">Lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;</h3>
<h4 id="&#x30FB;lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3068;&#x306F;">&#x30FB;Lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3068;&#x306F;</h4>
<p>API Gateway&#x3068;Lambda&#x306E;&#x9593;&#x3067;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x307E;&#x305F;&#x306F;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;JSON&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x6A5F;&#x80FD;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x3068;&#xFF0C;Lambda&#x306B;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306B;&#x4EE3;&#x5165;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;Lambda&#x3068;API Gateway&#x306E;&#x9593;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3092;&#x624B;&#x52D5;&#x3067;&#x884C;&#x3046;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x7D71;&#x5408;&#x30BF;&#x30A4;&#x30D7;</td>
<td>Lambda&#x95A2;&#x6570;&#x3092;&#x9078;&#x629E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Lambda&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x306E;&#x4F7F;&#x7528;</td>
<td>Lambda&#x3068;&#x306E;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x6709;&#x52B9;&#x5316;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Lambda&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</td>
<td>&#x5B9F;&#x884C;&#x3057;&#x305F;Lambda&#x95A2;&#x6570;&#x306E;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Lambda&#x95A2;&#x6570;</td>
<td>&#x5B9F;&#x884C;&#x3057;&#x305F;Lambda&#x95A2;&#x6570;&#x306E;&#x540D;&#x524D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x5B9F;&#x884C;&#x30ED;&#x30FC;&#x30EB;</td>
<td>&#x5B9F;&#x884C;&#x3057;&#x305F;&#x3044;Lambda&#x95A2;&#x6570;&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30FC;&#x30EB;&#x306E;ARN&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x8A8D;&#x8A3C;&#x60C5;&#x5831;&#x306E;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;</td>
<td></td>
</tr>
<tr>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x30BF;&#x30A4;&#x30E0;&#x30A2;&#x30A6;&#x30C8;&#x306E;&#x4F7F;&#x7528;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6642;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;">&#x30FB;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6642;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;</h4>
<p>API Gateway&#x5074;&#x3067;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x7D71;&#x5408;&#x3092;&#x6709;&#x52B9;&#x5316;&#x3059;&#x308B;&#x3068;&#xFF0C;API Gateway&#x3092;&#x7D4C;&#x7531;&#x3057;&#x305F;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x304B;&#x3089;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#xFF0C;&#x30CF;&#x30F3;&#x30C9;&#x30E9;&#x95A2;&#x6570;&#x306E;event&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306E;JSON&#x30C7;&#x30FC;&#x30BF;&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;resource&apos;<span class="token operator">:</span> &apos;Resource path&apos;<span class="token punctuation">,</span>
  &apos;path&apos;<span class="token operator">:</span> &apos;Path parameter&apos;<span class="token punctuation">,</span>
  &apos;httpMethod&apos;<span class="token operator">:</span> &apos;Incoming request&apos;s method name&apos;<span class="token punctuation">,</span>
  &apos;headers&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>String containing incoming request headers<span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;multiValueHeaders&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>List of strings containing incoming request headers<span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;queryStringParameters&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>query string parameters <span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;multiValueQueryStringParameters&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>List of query string parameters<span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;pathParameters&apos;<span class="token operator">:</span>  <span class="token punctuation">{</span>path parameters<span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;stageVariables&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>Applicable stage variables<span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;requestContext&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>Request context<span class="token punctuation">,</span> including authorizer-returned key-value pairs<span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;body&apos;<span class="token operator">:</span> &apos;A JSON string of the request payload.&apos;<span class="token punctuation">,</span>
  &apos;isBase64Encoded&apos;<span class="token operator">:</span> &apos;A boolean flag to indicate if the applicable request payload is Base64-encoded&apos;
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x6642;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;">&#x30FB;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x6642;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;</h4>
<p>API Gateway&#x306F;&#xFF0C;Lambda&#x304B;&#x3089;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;JSON&#x30C7;&#x30FC;&#x30BF;&#x306B;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x69CB;&#x9020;&#x306E;JSON&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x3068;&#xFF0C;API Gateway&#x3067;&#x300C;<code>Internal Server Error</code>&#x300D;&#x306E;&#x30A8;&#x30E9;&#x30FC;&#x304C;&#x8D77;&#x3053;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;isBase64Encoded&apos;<span class="token operator">:</span> <span class="token boolean">true</span>|<span class="token boolean">false</span><span class="token punctuation">,</span>
  &apos;statusCode&apos;<span class="token operator">:</span> httpStatusCode<span class="token punctuation">,</span>
  &apos;headers&apos;<span class="token operator">:</span> <span class="token punctuation">{</span> &apos;headerName&apos;<span class="token operator">:</span> &apos;headerValue&apos;<span class="token punctuation">,</span> ... <span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;multiValueHeaders&apos;<span class="token operator">:</span> <span class="token punctuation">{</span> &apos;headerName&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>&apos;headerValue&apos;<span class="token punctuation">,</span> &apos;headerValue2&apos;<span class="token punctuation">,</span> ...<span class="token punctuation">]</span><span class="token punctuation">,</span> ... <span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;body&apos;<span class="token operator">:</span> &apos;Hello Lambda&apos;
<span class="token punctuation">}</span>
</code></pre>
<p>API Gateway&#x306F;&#x4E0A;&#x8A18;&#x306E;JSON&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x5F8C;&#xFF0C;<code>body</code>&#x306E;&#x307F;&#x5024;&#x3092;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x30DC;&#x30C7;&#x30A3;&#x306B;&#x6301;&#x305F;&#x305B;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code>&apos;Hello Lambda&apos;
</code></pre><p><br></p>
<h3 id="&#x30B9;&#x30C6;&#x30FC;&#x30B8;">&#x30B9;&#x30C6;&#x30FC;&#x30B8;</h3>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;">&#x30FB;&#x8A2D;&#x5B9A;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x8A2D;&#x5B9A;</td>
<td></td>
</tr>
<tr>
<td>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x306E;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x30B9;&#x30ED;&#x30C3;&#x30C8;&#x30EA;&#x30F3;&#x30B0;</td>
<td></td>
</tr>
<tr>
<td>WAF</td>
<td></td>
</tr>
<tr>
<td>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x8A3C;&#x660E;&#x66F8;</td>
<td>&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x308B;WAF&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30ED;&#x30B0;&#xFF0F;&#x30C8;&#x30EC;&#x30FC;&#x30B9;">&#x30FB;&#x30ED;&#x30B0;&#xFF0F;&#x30C8;&#x30EC;&#x30FC;&#x30B9;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>CloudWatch&#x8A2D;&#x5B9A;</td>
<td>CloudWatch Logs&#x306B;API Gateway&#x306E;&#x5B9F;&#x884C;&#x30ED;&#x30B0;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AB;&#x30B9;&#x30BF;&#x30E0;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x30ED;&#x30B0;&#x8A18;&#x9332;</td>
<td>CloudWatch Logs&#x306B;API Gateway&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>X-Ray&#x30C8;&#x30EC;&#x30FC;&#x30B9;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x5909;&#x6570;">&#x30FB;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x5909;&#x6570;</h4>
<p>&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3055;&#x308C;&#x308B;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x56FA;&#x6709;&#x306E;&#x74B0;&#x5883;&#x5909;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;Lambda&#x95A2;&#x6570;&#x540D;&#xFF0C;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;URL&#xFF0C;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#xFF0C;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x30C6;&#x30F3;&#x30D7;&#x30EC;&#x30FC;&#x30C8;&#x3067;&#x5024;&#x3092;&#x51FA;&#x529B;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/aws-api-gateway-stage-variables-reference.html" target="_blank">https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/aws-api-gateway-stage-variables-reference.html</a></p>
<h4 id="&#x30FB;sdk&#x306E;&#x751F;&#x6210;">&#x30FB;SDK&#x306E;&#x751F;&#x6210;</h4>
<h4 id="&#x30FB;canary">&#x30FB;Canary</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30C7;&#x30A3;&#x30B9;&#x30C8;&#x30EA;&#x30D3;&#x30E5;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
</tr>
<tr>
<td>Canary&#x306E;&#x30C7;&#x30D7;&#x30ED;&#x30A4;</td>
<td></td>
</tr>
<tr>
<td>Canary&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x5909;&#x6570;</td>
<td></td>
</tr>
<tr>
<td>&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="05-02-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;route53">05-02. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;Route53</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;DNS&#x30B5;&#x30FC;&#x30D0;&#x30FC;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3055;&#x308C;&#x305F;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3068;EC2&#x306E;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30DB;&#x30B9;&#x30C8;&#x30BE;&#x30FC;&#x30F3;</td>
<td>&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BB;&#x30C3;&#x30C8;</td>
<td>&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x6642;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x65B9;&#x6CD5;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x30B5;&#x30D6;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x6271;&#x3046;&#x3053;&#x3068;&#x3082;&#x53EF;&#x80FD;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30DB;&#x30B9;&#x30C8;&#x30BE;&#x30FC;&#x30F3;">&#x30DB;&#x30B9;&#x30C8;&#x30BE;&#x30FC;&#x30F3;</h3>
<h4 id="&#x30FB;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x8A2D;&#x5B9A;&#x5024;&#x306E;&#x9055;&#x3044;">&#x30FB;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x8A2D;&#x5B9A;&#x5024;&#x306E;&#x9055;&#x3044;</h4>
<table>
<thead>
<tr>
<th>&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;</th>
<th></th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>NS</td>
<td>IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x554F;&#x3044;&#x5408;&#x308F;&#x305B;&#x306B;&#x5FDC;&#x3048;&#x3089;&#x308C;&#x308B;&#x6A29;&#x5A01;DNS&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x540D;&#x524D;&#x304C;&#x5B9A;&#x7FA9;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
<td>&#x8A73;&#x3057;&#x304F;&#x306F;&#xFF0C;&#x4EE5;&#x964D;&#x306E;&#xFF0C;Route53&#x3092;&#x542B;&#x3080;&#x591A;&#x6570;&#x306E;DNS&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x3088;&#x3063;&#x3066;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x3055;&#x308C;&#x308B;&#x4ED5;&#x7D44;&#x307F;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</td>
</tr>
<tr>
<td>A</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#xFF0C;IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x307E;&#x305F;&#x306F;DNS&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>AAAA</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#xFF0C;IPv6&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x307E;&#x305F;&#x306F;DNS&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>CNAME</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;&#x4EFB;&#x610F;&#x306E;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x8EE2;&#x9001;&#x5148;&#x306F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x306A;&#x304F;&#x3068;&#x3082;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>MX</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;&#x30E1;&#x30FC;&#x30EB;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>TXT</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x3089;&#x308C;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;dns&#x540D;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF0C;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x540D;">&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;DNS&#x540D;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF0C;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x540D;</h4>
<p>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;DNS&#x540D;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x69D8;&#x306B;&#x6C7A;&#x5B9A;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x7A2E;&#x5225;</th>
<th>&#x30EA;&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x4F8B;</th>
</tr>
</thead>
<tbody>
<tr>
<td>DNS&#x540D;</td>
<td>ALB</td>
<td><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ALB&#x540D;</span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x306A;&#x6587;&#x5B57;&#x5217;</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</span><span class="token punctuation">&gt;</span></span>.elb.amazonaws.com</code></td>
</tr>
<tr>
<td></td>
<td>EC2</td>
<td><code>ec2-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x3092;&#x30CF;&#x30A4;&#x30D5;&#x30F3;&#x533A;&#x5207;&#x308A;&#x306B;&#x3057;&#x305F;&#x3082;&#x306E;</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</span><span class="token punctuation">&gt;</span></span>.compute.amazonaws.com</code></td>
</tr>
<tr>
<td>&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td>Cloud Front</td>
<td><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x306A;&#x6587;&#x5B57;&#x5217;</span><span class="token punctuation">&gt;</span></span>.cloudfront.net</code></td>
</tr>
<tr>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x540D;</td>
<td>S3</td>
<td><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</span><span class="token punctuation">&gt;</span></span>.amazonaws.com</code></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x65B9;&#x6CD5;&#x306E;&#x9055;&#x3044;">&#x30FB;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x65B9;&#x6CD5;&#x306E;&#x9055;&#x3044;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/URL&#x3068;&#x96FB;&#x5B50;&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x69CB;&#x9020;.png" alt="URL&#x3068;&#x96FB;&#x5B50;&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x69CB;&#x9020;"></p>
<table>
<thead>
<tr>
<th>&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;</th>
<th style="text-align:center">&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x65B9;&#x6CD5;&#xFF08;1&#xFF09;</th>
<th style="text-align:center"></th>
<th style="text-align:center">&#xFF08;2&#xFF09;</th>
<th style="text-align:center"></th>
<th style="text-align:center">&#xFF08;3&#xFF09;</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td style="text-align:center">&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IPv4</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td>AAAA</td>
<td style="text-align:center">&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IPv6</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td>CNAME</td>
<td style="text-align:center">&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">&#xFF08;&#x30EA;&#x30C0;&#x30A4;&#x30EC;&#x30AF;&#x30C8;&#xFF09;</td>
<td style="text-align:center">&#x2192;</td>
<td style="text-align:center">&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IPv4</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;cloud-front&#x3078;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;">&#x30FB;Cloud Front&#x3078;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;</h4>
<p>Cloud Front&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;Cloud Front&#x306E;CNAME&#x3092;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x540D;&#x3068;&#x3059;&#x308B;&#x3068;&#xFF0C;Cloud Front&#x306E;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF08;<code>xxxxx.cloudfront.net.</code>&#xFF09;&#x304C;&#xFF0C;&#x5165;&#x529B;&#x30D5;&#x30A9;&#x30FC;&#x30E0;&#x306B;&#x8868;&#x793A;&#x3055;&#x308C;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;route53&#x3092;&#x542B;&#x3080;&#x591A;&#x6570;&#x306E;dns&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x3088;&#x3063;&#x3066;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x3055;&#x308C;&#x308B;&#x4ED5;&#x7D44;&#x307F;">&#x30FB;Route53&#x3092;&#x542B;&#x3080;&#x591A;&#x6570;&#x306E;DNS&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x3088;&#x3063;&#x3066;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x3055;&#x308C;&#x308B;&#x4ED5;&#x7D44;&#x307F;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Route53&#x3092;&#x542B;&#x3080;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306E;&#x4ED5;&#x7D44;&#x307F;.png" alt="Route53&#x3092;&#x542B;&#x3080;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306E;&#x4ED5;&#x7D44;&#x307F;"></p>
<p>=== &#xFF08;1&#xFF09;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x5BFE;&#x5FDC;&#x3059;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9; ===</p>
<ol>
<li>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306F;&#xFF0C;&#x81EA;&#x8EAB;&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x308B;<code>www.example.jp</code>&#xFF08;&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF09;&#x306E;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x691C;&#x7D22;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x304C;&#x7121;&#x3051;&#x308C;&#x3070;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306F;<code>www.example.jp</code>&#x3092;&#xFF0C;&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;DNS&#x30B5;&#x30FC;&#x30D0;&#xFF09;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;</li>
<li>&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;DNS&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x691C;&#x7D22;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;&#x30EB;&#x30FC;&#x30C8;DNS&#x30B5;&#x30FC;&#x30D0;&#x306B;<code>www.example.jp</code>&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x554F;&#x3044;&#x5408;&#x308F;&#x305B;&#x308B;&#xFF0E;</li>
<li>&#x30EB;&#x30FC;&#x30C8;DNS&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;NS&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x3068;&#x3057;&#x3066;&#x5B9A;&#x7FA9;&#x3055;&#x308C;&#x305F;&#x6A29;&#x5A01;DNS&#x30B5;&#x30FC;&#x30D0;&#x540D;&#x3092;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</li>
<li>&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;<code>www.example.jp</code>&#x3092;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x4EE3;&#x7406;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;&#x6B21;&#x3044;&#x3067;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;DNS&#x30B5;&#x30FC;&#x30D0;&#xFF08;&#x30CD;&#x30FC;&#x30E0;&#x30B5;&#x30FC;&#x30D0;&#xFF09;&#x306B;<code>www.example.jp</code>&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x554F;&#x3044;&#x5408;&#x308F;&#x305B;&#x308B;&#xFF0E;</li>
<li>DNS&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;NS&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x3068;&#x3057;&#x3066;&#x5B9A;&#x7FA9;&#x3055;&#x308C;&#x305F;&#x6A29;&#x5A01;DNS&#x30B5;&#x30FC;&#x30D0;&#x540D;&#x3092;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</li>
<li>&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;<code>www.example.jp</code>&#x3092;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x4EE3;&#x7406;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;&#x6B21;&#x3044;&#x3067;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;Route53&#x306B;<code>www.example.jp</code>&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x554F;&#x3044;&#x5408;&#x308F;&#x305B;&#x308B;&#xFF0E;</li>
<li>&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;Route53&#x306F;DNS&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x6A5F;&#x80FD;&#x3057;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;ALB&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;&#x6B21;&#x3044;&#x3067;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;ALB&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#xFF0C;&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x4EE3;&#x7406;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;&#xFF08;&#x203B; NAT&#x306B;&#x3088;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x9593;&#x5909;&#x63DB;&#x304C;&#x8D77;&#x3053;&#x308B;&#xFF09;</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5B8C;&#x5168;&#x4FEE;&#x98FE;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</th>
<th style="text-align:center">Route53</th>
<th style="text-align:center">IPv4&#x30A2;&#x30C9;&#x30EC;&#x30B9;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>http://www.example.com</code></td>
<td style="text-align:center">&#x21C4;</td>
<td style="text-align:center"><code>203.142.205.139</code></td>
</tr>
</tbody>
</table>
<ol>
<li>&#x30D5;&#x30A9;&#x30EF;&#x30FC;&#x30C9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;ALB&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306B;&#x4EE3;&#x7406;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</li>
<li>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306F;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;ALB&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</li>
</ol>
<p>=== &#xFF08;2&#xFF09;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;ALB&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306B;&#x5BFE;&#x5FDC;&#x3059;&#x308B;Web&#x30DA;&#x30FC;&#x30B8;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9; ===</p>
<ol>
<li>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306F;&#xFF0C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x305F;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;ALB&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x57FA;&#x306B;&#xFF0C;Web&#x30DA;&#x30FC;&#x30B8;&#x3092;&#xFF0C;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;</li>
<li>&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;Web&#x30DA;&#x30FC;&#x30B8;&#x3092;&#xFF0C;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;ALB&#x306B;&#x4EE3;&#x7406;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#xFF0E;</li>
<li>&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;ALB&#x306F;&#xFF0C;EC2&#x3084;Fargate&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x8EE2;&#x9001;&#x3059;&#x308B;&#xFF0E;</li>
<li>EC2&#x3084;Fargate&#x306F;&#xFF0C;Web&#x30DA;&#x30FC;&#x30B8;&#x3092;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</li>
<li>&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#xFF0C;Web&#x30DA;&#x30FC;&#x30B8;&#x3092;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306B;&#x4EE3;&#x7406;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#xFF0E;</li>
</ol>
<h4 id="&#x30FB;aws&#x4EE5;&#x5916;&#x3067;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x3092;&#x8CFC;&#x5165;&#x3057;&#x305F;&#x5834;&#x5408;">&#x30FB;AWS&#x4EE5;&#x5916;&#x3067;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x3092;&#x8CFC;&#x5165;&#x3057;&#x305F;&#x5834;&#x5408;</h4>
<p>DNS&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x3088;&#x308B;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306F;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x3092;&#x8CFC;&#x5165;&#x3057;&#x305F;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x30EC;&#x30B8;&#x30B9;&#x30C8;&#x30E9;&#x3067;&#x884C;&#x308F;&#x308C;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;AWS&#x4EE5;&#x5916;&#x3067;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x3092;&#x8CFC;&#x5165;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;Route53&#x306E;NS&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x5024;&#x3092;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x30EC;&#x30B8;&#x30B9;&#x30C8;&#x30E9;&#x306B;&#x767B;&#x9332;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x30EC;&#x30B8;&#x30B9;&#x30C8;&#x30E9;&#x306B;&#x5BFE;&#x3057;&#x3066;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x554F;&#x3044;&#x5408;&#x308F;&#x305B;&#x304C;&#x3042;&#x3063;&#x305F;&#x5834;&#x5408;&#x306F;&#xFF0C;Route53&#x306E;NS&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x5024;&#x304C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;route53&#x306B;&#x304A;&#x3051;&#x308B;dns&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;">&#x30FB;Route53&#x306B;&#x304A;&#x3051;&#x308B;DNS&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;</h4>
<p>&#x30EB;&#x30FC;&#x30C8;&#x30B5;&#x30FC;&#x30D0;&#x306F;&#x4E16;&#x754C;&#x306B;13&#x6A5F;&#x3057;&#x304B;&#x5B58;&#x5728;&#x3057;&#x3066;&#x304A;&#x3089;&#x305A;&#xFF0C;&#x4E16;&#x754C;&#x4E2D;&#x306E;&#x540D;&#x524D;&#x89E3;&#x6C7A;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x5168;&#x3066;&#x51E6;&#x7406;&#x3059;&#x308B;&#x3053;&#x3068;&#x306F;&#x73FE;&#x5B9F;&#x7684;&#x306B;&#x4E0D;&#x53EF;&#x80FD;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x305D;&#x3053;&#x3067;&#xFF0C;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3068;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306E;&#x95A2;&#x4FC2;&#x3092;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#xFF08;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;DNS&#x30B5;&#x30FC;&#x30D0;&#xFF09;&#x304C;&#x4F7F;&#x7528;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x57FA;&#x672C;&#x7684;&#x306B;&#x306F;&#xFF0C;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x3068;DNS&#x30B5;&#x30FC;&#x30D0;&#x306F;&#x533A;&#x5225;&#x3055;&#x308C;&#x308B;&#x304C;&#xFF0C;Route53&#x306F;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x3068;DNS&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x6A5F;&#x80FD;&#x3092;&#x4E21;&#x7ACB;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x30EA;&#x30BE;&#x30EB;&#x30D0;&#x30FC;">&#x30EA;&#x30BE;&#x30EB;&#x30D0;&#x30FC;</h3>
<h4 id="&#x30FB;&#x30EA;&#x30BE;&#x30EB;&#x30D0;&#x30FC;&#x3068;&#x306F;">&#x30FB;&#x30EA;&#x30BE;&#x30EB;&#x30D0;&#x30FC;&#x3068;&#x306F;</h4>
<p>&#x8981;&#x52C9;&#x5F37;&#xFF0E;</p>
<p><br></p>
<h2 id="05-03-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;cloud-front">05-03. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;Cloud Front</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/CloudFront&#x306B;&#x3088;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x632F;&#x308A;&#x5206;&#x3051;.png" alt="AWS&#x306E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30C7;&#x30B6;&#x30A4;&#x30F3;&#x4E00;&#x4F8B;"></p>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;VPC&#x306E;&#x5916;&#x5074;&#xFF08;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#xFF09;&#x306B;&#x8A2D;&#x7F6E;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x30B5;&#x30FC;&#x30D0;&#xFF08;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x63D0;&#x4F9B;&#x5143;&#xFF09;&#x3092;S3&#x3068;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x52D5;&#x7684;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;EC2&#x306B;&#x632F;&#x308A;&#x5206;&#x3051;&#x308B;&#xFF0E;&#x307E;&#x305F;&#xFF0C;&#x9759;&#x7684;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;Cache&#x3057;&#xFF0C;&#x305D;&#x306E;&#x4E0A;&#x3067;S3&#x3078;&#x632F;&#x308A;&#x5206;&#x3051;&#x308B;&#xFF0E;&#x6B21;&#x56DE;&#x4EE5;&#x964D;&#x306E;&#x9759;&#x7684;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#xFF0C;Cloud Front&#x304C;&#x30EC;&#x30F3;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Distributions</td>
<td></td>
</tr>
<tr>
<td>Reports &amp; analytics</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="distributions">Distributions</h3>
<h4 id="&#x30FB;distributions&#x306E;&#x8A73;&#x7D30;">&#x30FB;Distributions&#x306E;&#x8A73;&#x7D30;</h4>
<p><a href="https://www.geekfeed.co.jp/geekblog/wordpress%E3%81%A7%E6%A7%8B%E7%AF%89%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B5%E3%82%A4%E3%83%88%E3%81%ABcloudfront%E3%82%92%E7%AB%8B%E3%81%A6%E3%81%A6%E9%AB%98/" target="_blank">&#x53C2;&#x8003;&#x306B;&#x306A;&#x3063;&#x305F;&#x30B5;&#x30A4;&#x30C8;</a></p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>General</td>
<td></td>
</tr>
<tr>
<td>Origin and Origin Groups</td>
<td>&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x3092;&#x63D0;&#x4F9B;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;</td>
</tr>
<tr>
<td>Behavior</td>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x884C;&#x308F;&#x308C;&#x305F;&#x6642;&#x306E;Cloud Front&#x306E;&#x6319;&#x52D5;&#x3092;&#x8A2D;&#x5B9A;</td>
</tr>
<tr>
<td>ErrorPage</td>
<td></td>
</tr>
<tr>
<td>Restriction</td>
<td></td>
</tr>
<tr>
<td>Invalidation</td>
<td>Cloud Front&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;Cache&#x3092;&#x524A;&#x9664;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;general&#x306E;&#x8A73;&#x7D30;">&#x30FB;General&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Price Class</td>
<td>&#x4F7F;&#x7528;&#x3059;&#x308B;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>Asia&#x304C;&#x542B;&#x307E;&#x308C;&#x3066;&#x3044;&#x308B;&#x3082;&#x306E;&#x3092;&#x9078;&#x629E;&#xFF0E;</td>
</tr>
<tr>
<td>AWS WAF</td>
<td>Cloud Front&#x306B;&#x7D10;&#x3065;&#x3051;&#x308B;WAF&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>CNAME</td>
<td>Cloud Front&#x306E;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#xFF08;<code>xxxxx.cloudfront.net.</code>&#xFF09;&#x306B;&#x7D10;&#x3065;&#x3051;&#x308B;Route53&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Route53&#x304B;&#x3089;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x5834;&#x5408;&#x306F;&#x5FC5;&#x9808;&#xFF0E;<br>&#x30FB;&#x8907;&#x6570;&#x306E;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>SSL Certificate</td>
<td>HTTPS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3067;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x5834;&#x5408;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x4E0A;&#x8FF0;&#x306E;CNAME&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;SSL&#x8A3C;&#x660E;&#x66F8;&#x304C;&#x5225;&#x9014;&#x5FC5;&#x8981;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x307E;&#x305F;&#xFF0C;Certificate Manager&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x3053;&#x306E;&#x8A3C;&#x660E;&#x66F8;&#x306F;&#x300E;&#x30D0;&#x30FC;&#x30B8;&#x30CB;&#x30A2;&#x5317;&#x90E8;&#x300F;&#x3067;&#x7533;&#x8ACB;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Security Policy</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x9001;&#x4FE1;&#x8005;&#x304C;&#x4F7F;&#x7528;&#x3059;&#x308B;SSL/TLS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3084;&#x6697;&#x53F7;&#x5316;&#x65B9;&#x5F0F;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#xFF0C;CloudFront&#x304C;&#x53D7;&#x4FE1;&#x3067;&#x304D;&#x308B;&#x3053;&#x308C;&#x3089;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x9001;&#x4FE1;&#x8005;&#x306B;&#x306F;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#xFF0C;API&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x5916;&#x90E8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#xFF0C;&#x8EE2;&#x9001;&#x5143;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF0C;&#x306A;&#x3069;&#x3092;&#x542B;&#x3080;&#xFF0E;<br>&#x30FB;&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/secure-connections-supported-viewer-protocols-ciphers.html" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/secure-connections-supported-viewer-protocols-ciphers.html</a></td>
</tr>
<tr>
<td>Default Root Object</td>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x30C9;&#x30AD;&#x30E5;&#x30E1;&#x30F3;&#x30C8;&#x30EB;&#x30FC;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x4F55;&#x3082;&#x8A2D;&#x5B9A;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30C9;&#x30AD;&#x30E5;&#x30E1;&#x30F3;&#x30C8;&#x30EB;&#x30FC;&#x30C8;&#x306F;&#x6307;&#x5B9A;&#x3055;&#x308C;&#x305A;&#xFF0C;Behavior&#x3067;&#x660E;&#x793A;&#x7684;&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;<br>&#x30FB;index.html&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x300C;<code>/</code>&#x300D;&#x3067;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3057;&#x305F;&#x6642;&#x306B;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306B;&#x3042;&#x308B;<code>index,html</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x30C9;&#x30AD;&#x30E5;&#x30E1;&#x30F3;&#x30C8;&#x30EB;&#x30FC;&#x30C8;&#x306B;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Standard Logging</td>
<td>Cloud Front&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;S3&#x306B;&#x751F;&#x6210;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;origin-and-origin-groups&#x306E;&#x8A73;&#x7D30;">&#x30FB;Origin and Origin Groups&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Origin Domain Name</td>
<td>Cloud Front&#x3092;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x3068;&#x3057;&#x3066;&#xFF0C;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3084;DNS&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x4F8B;&#x3048;&#x3070;&#xFF0C;S3&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#xFF0C;ALB&#x306E;DNS&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x5225;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;DNS&#x540D;&#x3067;&#x3042;&#x3063;&#x3066;&#x3082;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Origin Path</td>
<td>&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x4F55;&#x3082;&#x8A2D;&#x5B9A;&#x3057;&#x306A;&#x3044;&#x3068;&#xFF0C;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x306F;&#x300C;<code>/</code>&#x300D;&#x306E;&#x306A;&#x308B;&#xFF0E;Behavior&#x3067;&#x306F;&#xFF0C;&#x300C;<code>/</code>&#x300D;&#x306E;&#x5F8C;&#x306B;&#x30D1;&#x30B9;&#x304C;&#x8FFD;&#x52A0;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x300C;<code>/var/www/app</code>&#x300D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3068;&#xFF0C;Behavior&#x3067;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x30D1;&#x30B9;&#x304C;&#x300C;<code>/var/www/app/xxxxx</code>&#x300D;&#x306E;&#x3088;&#x3046;&#x306B;&#x8FFD;&#x52A0;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Origin Access Identity</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8EE2;&#x9001;&#x5148;&#x3068;&#x306A;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x306E;&#x4ED8;&#x4E0E;&#x304C;&#x5FC5;&#x8981;&#x306A;&#x5834;&#x5408;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x8EE2;&#x9001;&#x5148;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x306F;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#xFF0E;</td>
<td>Cloud Front&#x304C;S3&#x306B;&#x5BFE;&#x3057;&#x3066;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x3092;&#x884C;&#x3046;&#x305F;&#x3081;&#x306B;&#x5FC5;&#x8981;&#xFF0E;</td>
</tr>
<tr>
<td>Origin Protocol Policy</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x8EE2;&#x9001;&#x5148;&#x3068;&#x306A;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;HTTP&#x3068;HTTPS&#x306E;&#x3044;&#x305A;&#x308C;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3067;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;ALB&#x3067;&#x5FC5;&#x8981;&#xFF0E;ALB&#x306E;&#x30EA;&#x30B9;&#x30CA;&#x30FC;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;<code>HTTP Only</code>&#xFF1A;HTTP&#x3067;&#x8EE2;&#x9001;<br>&#x30FB;<code>HTTPS Only</code>&#xFF1A;HTTPS&#x3067;&#x8EE2;&#x9001;<br>&#x30FB;<code>Match Viewer</code>&#xFF1A;&#x4E21;&#x65B9;&#x3067;&#x8EE2;&#x9001;</td>
</tr>
<tr>
<td>HTTP&#x30DD;&#x30FC;&#x30C8;</td>
<td>&#x8EE2;&#x9001;&#x6642;&#x306B;&#x6307;&#x5B9A;&#x3059;&#x308B;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;HTTP&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;</td>
<td></td>
</tr>
<tr>
<td>HTTPS&#x30DD;&#x30FC;&#x30C8;</td>
<td>&#x8EE2;&#x9001;&#x6642;&#x306B;&#x6307;&#x5B9A;&#x3059;&#x308B;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306E;HTTPS&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;behavior&#x306E;&#x8A73;&#x7D30;">&#x30FB;Behavior&#x306E;&#x8A73;&#x7D30;</h4>
<p>&#x4F55;&#x306B;&#x57FA;&#x3065;&#x3044;&#x305F;Cache&#x3092;&#x884C;&#x3046;&#x304B;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#xFF0C;&#x2605;&#x30DE;&#x30FC;&#x30AF;&#x306E;&#x9805;&#x76EE;&#x3067;&#x5236;&#x5FA1;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x2605;&#x30DE;&#x30FC;&#x30AF;&#x3067;&#xFF0C;&#x5404;&#x9805;&#x76EE;&#x306E;&#x5168;&#x3066;&#x5024;&#x304C;&#xFF0C;&#x904E;&#x53BB;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x5408;&#x81F4;&#x3057;&#x305F;&#x6642;&#x306E;&#x307F;&#xFF0C;&#x305D;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3068;&#x904E;&#x53BB;&#x306E;&#x3082;&#x306E;&#x304C;&#x540C;&#x4E00;&#x3067;&#x3042;&#x308B;&#x3068;&#x898B;&#x306A;&#x3059;&#x4ED5;&#x7D44;&#x307F;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x5224;&#x5B9A;&#x6642;&#x306E;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x3092;&#x6E1B;&#x3089;&#x3057;&#xFF0C;HIT&#x7387;&#x3092;&#x6539;&#x5584;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x2605;&#x30DE;&#x30FC;&#x30AF;&#x3067;&#x53EF;&#x80FD;&#x306A;&#x9650;&#x308A;&#x300C;None&#x300D;&#x3092;&#x9078;&#x629E;&#x3057;&#x305F;&#x65B9;&#x304C;&#x826F;&#x3044;&#xFF0E;&#x305D;&#x306E;&#x4ED6;&#x306E;&#x6539;&#x5584;&#x65B9;&#x6CD5;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/cache-hit-ratio.html#cache-hit-ratio-query-string-parameters" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/cache-hit-ratio.html#cache-hit-ratio-query-string-parameters</a></p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precedence</td>
<td>&#x51E6;&#x7406;&#x306E;&#x512A;&#x5148;&#x9806;&#x4F4D;&#xFF0E;</td>
<td>&#x6700;&#x521D;&#x306B;&#x69CB;&#x7BC9;&#x3057;&#x305F;Behavior&#x304C;&#x300C;<code>Default (*)</code>&#x300D;&#x3068;&#x306A;&#x308A;&#xFF0C;&#x3053;&#x308C;&#x306F;&#x5F8C;&#x304B;&#x3089;&#x5909;&#x66F4;&#x3067;&#x304D;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x4E3B;&#x8981;&#x306A;Behavior&#x3092;&#x307E;&#x305A;&#x6700;&#x521D;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Path Pattern</td>
<td>Behavior&#x3092;&#x884C;&#x3046;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Origin or Origin Group</td>
<td>Behavior&#x3092;&#x884C;&#x3046;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Viewer Protocol Policy</td>
<td>HTTP&#xFF0F;HTTPS&#x306E;&#x3069;&#x3061;&#x3089;&#x3092;&#x53D7;&#x4FE1;&#x3059;&#x308B;&#x304B;&#xFF0C;&#x307E;&#x305F;&#x3069;&#x306E;&#x3088;&#x3046;&#x306B;&#x5909;&#x63DB;&#x3057;&#x3066;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;</td>
<td>&#x30FB;<code>HTTP and HTTPS</code>&#xFF1A;&#x4E21;&#x65B9;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;&#x305D;&#x306E;&#x307E;&#x307E;&#x8EE2;&#x9001;<br>&#x30FB;<code>Redirect HTTP to HTTPS</code>&#xFF1A;&#x4E21;&#x65B9;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;HTTPS&#x3067;&#x8EE2;&#x9001;<br>&#x30FB;<code>HTTPS Only</code>&#xFF1A;HTTPS&#x306E;&#x307F;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;HTTPS&#x3067;&#x8EE2;&#x9001;</td>
</tr>
<tr>
<td>Allowed HTTP Methods</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;HTTP&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3078;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;</td>
<td>&#x30FB;&#x30D1;&#x30B9;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x304C;&#x9759;&#x7684;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;GET&#x306E;&#x307F;&#x8A31;&#x53EF;&#xFF0E;<br>&#x30FB;&#x30D1;&#x30B9;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x304C;&#x52D5;&#x7684;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30E1;&#x30BD;&#x30C3;&#x30C9;&#x3092;&#x8A31;&#x53EF;&#xFF0E;</td>
</tr>
<tr>
<td>&#x2605;Cache Based on Selected Request Headers<br>&#xFF08;&#x2605;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#x8868;&#x4E0A;&#x90E8;&#x53C2;&#x8003;&#xFF09;</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3078;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3057;&#xFF0C;&#x307E;&#x305F;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x5404;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x8EE2;&#x9001;&#x306E;&#x5168;&#x62D2;&#x5426;&#xFF0C;&#x4E00;&#x90E8;&#x8A31;&#x53EF;&#xFF0C;&#x5168;&#x8A31;&#x53EF;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x30FB;&#x5168;&#x62D2;&#x5426;&#xFF1A;&#x5168;&#x3066;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x62D2;&#x5426;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3057;&#x306A;&#x3044;&#xFF0E;&#x52D5;&#x7684;&#x306B;&#x306A;&#x308A;&#x3084;&#x3059;&#x3044;&#x5024;&#x3092;&#x3082;&#x3064;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#xFF08;Accept-Datetime&#x306A;&#x3069;&#xFF09;&#x3092;&#x4E00;&#x5207;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#xFF0C;&#x305D;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x3084;Cookie&#x3067;Cache&#x3092;&#x5224;&#x5B9A;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x540C;&#x4E00;&#x3068;&#x898B;&#x306A;&#x3059;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x5897;&#x3048;&#xFF0C;HIT&#x7387;&#x6539;&#x5584;&#x306B;&#x3064;&#x306A;&#x304C;&#x308B;&#xFF0E;<br>&#x30FB;&#x4E00;&#x90E8;&#x8EE2;&#x9001;&#xFF1A;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;&#x307F;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x5168;&#x8A31;&#x53EF;&#xFF1A;&#x5168;&#x3066;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x304C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x306A;&#x308B;&#xFF0E;&#x3057;&#x304B;&#x3057;&#xFF0C;&#x65E5;&#x4ED8;&#x306B;&#x95A2;&#x3059;&#x308B;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306A;&#x3069;&#x306E;&#x52D5;&#x7684;&#x306A;&#x5024;&#x3092;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3057;&#x3066;&#x3057;&#x307E;&#x3046;&#x3068;&#xFF0E;&#x540C;&#x4E00;&#x3068;&#x898B;&#x306A;&#x3059;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x307B;&#x3068;&#x3093;&#x3069;&#x306A;&#x304F;&#x306A;&#x308A;&#xFF0C;HIT&#x3057;&#x306A;&#x304F;&#x306A;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x306E;&#x8A2D;&#x5B9A;&#x3067;Cache&#x306F;&#x5B9F;&#x8CEA;&#x7121;&#x52B9;&#x3068;&#x306A;&#x308A;&#xFF0C;&#x300C;&#x5BFE;&#x8C61;&#x3068;&#x3057;&#x306A;&#x3044;&#x300D;&#x306B;&#x7B49;&#x3057;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Whitelist Header</td>
<td>Cache Based on Selected Request Headers &#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</td>
<td>&#x30FB;<code>Accept-xxxxx</code>&#xFF1A;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3057;&#x3066;&#x6B32;&#x3057;&#x3044;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x7A2E;&#x985E;&#xFF08;&#x30C7;&#x30FC;&#x30BF;&#x578B;&#x306A;&#x3069;&#xFF09;&#x3092;&#x6307;&#x5B9A;&#xFF0E;<br>&#x30FB; <code>CloudFront-Is-xxxxx-Viewer</code>&#xFF1A;&#x30C7;&#x30D0;&#x30A4;&#x30B9;&#x30BF;&#x30A4;&#x30D7;&#x306E;Bool&#x5024;&#x304C;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;<br>&#x30FB;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x542B;&#x307E;&#x308C;&#x308B;&#x300C;<code>X-Cache:</code>&#x300D;&#x304C;&#x300C;<code>Hit from cloudfront</code>&#x300D;&#xFF0C;&#x300C;<code>Miss from cloudfront</code>&#x300D;&#x306E;&#x3069;&#x3061;&#x3089;&#x3067;&#xFF0C;Cache&#x306E;&#x4F7F;&#x7528;&#x306E;&#x6709;&#x7121;&#x3092;&#x5224;&#x65AD;&#x3067;&#x304D;&#x308B;&#xFF0E;<br></td>
</tr>
<tr>
<td>Object Caching</td>
<td>Cloud Front&#x306B;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x306E;Cache&#x3092;&#x4FDD;&#x5B58;&#x3057;&#x3066;&#x304A;&#x304F;&#x79D2;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Origin Cache &#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x3092;&#x9078;&#x629E;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304B;&#x3089;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;Cache-Control&#x306E;&#x5024;&#x304C;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30A4;&#x30BA;&#x3092;&#x9078;&#x629E;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x306E;TTL&#x3068;&#x306F;&#x5225;&#x306B;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>TTL</td>
<td>Cloud Front&#x306B;Cache&#x3092;&#x4FDD;&#x5B58;&#x3057;&#x3066;&#x304A;&#x304F;&#x79D2;&#x6570;&#x3092;&#x8A73;&#x7D30;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Min&#xFF0C;Max&#xFF0C;Default&#xFF0C;&#x306E;&#x5168;&#x3066;&#x3092;0&#x79D2;&#x3068;&#x3059;&#x308B;&#x3068;&#xFF0C;Cache&#x3092;&#x7121;&#x52B9;&#x5316;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x30FB;&#x300C;Cache Based on Selected Request Headers = All&#x300D;&#x3068;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;Cache&#x304C;&#x5B9F;&#x8CEA;&#x7121;&#x52B9;&#x3068;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x6700;&#x5C0F;TTL&#x306F;&#x30BC;&#x30ED;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x2605;Farward Cookies<br>&#xFF08;&#x2605;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#x8868;&#x4E0A;&#x90E8;&#x53C2;&#x8003;&#xFF09;</td>
<td>Cookie&#x60C5;&#x5831;&#x306E;&#x30AD;&#x30FC;&#x540D;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3078;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;Cookie&#x60C5;&#x5831;&#x30AD;&#x30FC;&#x540D;&#x8EE2;&#x9001;&#x306E;&#x5168;&#x62D2;&#x5426;&#xFF0C;&#x4E00;&#x90E8;&#x8A31;&#x53EF;&#xFF0C;&#x5168;&#x8A31;&#x53EF;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;<br>&#x30FB;&#x5168;&#x62D2;&#x5426;&#xFF1A;&#x5168;&#x3066;&#x306E;Cookie&#x306E;&#x8EE2;&#x9001;&#x3092;&#x62D2;&#x5426;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3057;&#x306A;&#x3044;&#xFF0E;Cookie&#x306F;&#x30E6;&#x30FC;&#x30B6;&#x3054;&#x3068;&#x306B;&#x4E00;&#x610F;&#x306B;&#x306A;&#x308B;&#x3053;&#x3068;&#x304C;&#x591A;&#x304F;&#xFF0C;&#x52D5;&#x7684;&#x3067;&#x3042;&#x308B;&#x304C;&#xFF0C;&#x305D;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x3084;&#x30AF;&#x30A8;&#x30EA;&#x6587;&#x5B57;&#x3067;Cache&#x3092;&#x5224;&#x5B9A;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x540C;&#x4E00;&#x3068;&#x898B;&#x306A;&#x3059;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x5897;&#x3048;&#xFF0C;HIT&#x7387;&#x6539;&#x5584;&#x306B;&#x3064;&#x306A;&#x304C;&#x308B;&#xFF0E;<br>&#x30FB;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x542B;&#x307E;&#x308C;&#x308B;Cookie&#x60C5;&#x5831;&#xFF08;&#x30AD;&#x30FC;&#x540D;&#xFF0F;&#x5024;&#xFF09;&#x304C;&#x5909;&#x52D5;&#x3057;&#x3066;&#x3044;&#x308B;&#x3068;&#xFF0C;Cloud Front&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x305F;Cache&#x304C;HIT&#x3057;&#x306A;&#x3044;&#xFF0E;Cloud Front&#x306F;&#x30AD;&#x30FC;&#x540D;&#xFF0F;&#x5024;&#x3092;&#x4FDD;&#x6301;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x5909;&#x5316;&#x3057;&#x3084;&#x3059;&#x3044;&#x30AD;&#x30FC;&#x540D;&#xFF0F;&#x5024;&#x306F;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x8EE2;&#x9001;&#x3057;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;GoogleAnalytics&#x306E;&#x30AD;&#x30FC;&#x540D;&#xFF08;<code>_ga</code>&#xFF09;&#x306E;&#x5024;&#x306F;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x306B;&#x3088;&#x3063;&#x3066;&#x7570;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#xFF11;&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x3092;&#x5909;&#x3048;&#x308B;&#x305F;&#x3073;&#x306B;&#xFF0C;&#x7570;&#x306A;&#x308B;Cache&#x304C;&#x751F;&#x6210;&#x3055;&#x308C;&#x308B;&#x3053;&#x3068;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x4E00;&#x610F;&#x306B;&#x5224;&#x5B9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x96E3;&#x3057;&#x304F;&#x306A;&#x3063;&#x3066;&#x3057;&#x307E;&#x3046;&#xFF0E;<br>&#x30FB;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;ID&#x306F;Cookie&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x30D5;&#x30A9;&#x30FC;&#x30E0;&#x9001;&#x4FE1;&#x306B;&#x95A2;&#x308F;&#x308B;&#x30D1;&#x30B9;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x3067;&#x306F;&#xFF0C;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;ID&#x306E;&#x30AD;&#x30FC;&#x540D;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x2605;Query String Forwarding and Caching<br>&#xFF08;&#x2605;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#x8868;&#x4E0A;&#x90E8;&#x53C2;&#x8003;&#xFF09;</td>
<td>&#x30AF;&#x30A8;&#x30EA;&#x30B9;&#x30C8;&#x30EA;&#x30F3;&#x30B0;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x3078;&#x306E;&#x8EE2;&#x9001;&#x3092;&#x8A31;&#x53EF;&#x3057;&#xFF0C;Cache&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#x3082;&#x306E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30AF;&#x30A8;&#x30EA;&#x30B9;&#x30C8;&#x30EA;&#x30F3;&#x30B0;&#x8EE2;&#x9001;&#x3068;Cache&#x306E;&#xFF0C;&#x5168;&#x62D2;&#x5426;&#xFF0C;&#x4E00;&#x90E8;&#x8A31;&#x53EF;&#xFF0C;&#x5168;&#x8A31;&#x53EF;&#x3092;&#x9078;&#x629E;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x5168;&#x62D2;&#x5426;&#x306B;&#x3059;&#x308B;&#x3068;&#xFF0C;Web&#x30B5;&#x30A4;&#x30C8;&#x306B;&#x30AF;&#x30A8;&#x30EA;&#x30B9;&#x30C8;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3067;&#x304D;&#x306A;&#x304F;&#x306A;&#x308B;&#x306E;&#x3067;&#x6CE8;&#x610F;&#xFF0E;<br>&#x30FB;&#x7570;&#x306A;&#x308B;&#x30AF;&#x30A8;&#x30EA;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x5225;&#x3005;&#x306E;Cache&#x3068;&#x3057;&#x3066;&#x4FDD;&#x5B58;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Restrict Viewer Access</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x9001;&#x4FE1;&#x5143;&#x3092;&#x5236;&#x9650;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3067;&#x5236;&#x5FA1;&#x3067;&#x304D;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x3053;&#x3053;&#x3067;&#x306F;&#x8A2D;&#x5B9A;&#x3057;&#x306A;&#x304F;&#x3066;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Compress Objects Automatically</td>
<td>&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x6642;&#x306B;gzip&#x3092;&#x5727;&#x7E2E;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;</td>
<td>&#x30FB;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x304B;&#x3089;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306E;Accept-Encoding&#x306B;gzip&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x6642;&#x306B;&#xFF0C;gzip&#x5F62;&#x5F0F;&#x3067;&#x5727;&#x7E2E;&#x3057;&#x3066;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x8A2D;&#x5B9A;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x5727;&#x7E2E;&#x305B;&#x305A;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x5074;&#x306E;&#x30C0;&#x30A6;&#x30F3;&#x30ED;&#x30FC;&#x30C9;&#x901F;&#x5EA6;&#x5411;&#x4E0A;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x306B;&#x306F;&#x6709;&#x52B9;&#x5316;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;invalidation">&#x30FB;Invalidation</h4>
<p>TTL&#x79D2;&#x306B;&#x3088;&#x308B;Cache&#x306E;&#x81EA;&#x52D5;&#x524A;&#x9664;&#x3092;&#x5F85;&#x305F;&#x305A;&#x306B;&#xFF0C;&#x624B;&#x52D5;&#x3067;Cache&#x3092;&#x524A;&#x9664;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;Cache&#x3092;&#x524A;&#x9664;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#x306F;&#x300C;<code>/*</code>&#x300D;&#xFF0C;&#x7279;&#x5B9A;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;Cache&#x3092;&#x524A;&#x9664;&#x3057;&#x305F;&#x3044;&#x5834;&#x5408;&#x306F;&#x300C;<code>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3078;&#x306E;&#x30D1;&#x30B9;</span><span class="token punctuation">&gt;</span></span></code>&#x300D;&#xFF0C;&#x3092;&#x6307;&#x5B9A;&#x3059;&#x308B;&#xFF0E;Cloud Front&#x306B;&#x95A2;&#x3059;&#x308B;&#x30A8;&#x30E9;&#x30FC;&#x30DA;&#x30FC;&#x30B8;&#x304C;&#x8868;&#x793A;&#x3055;&#x308C;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x4E0D;&#x5177;&#x5408;&#x3092;&#x4FEE;&#x6B63;&#x3057;&#x305F;&#x5F8C;&#x3067;&#x3082;Cache&#x304C;&#x6B8B;&#x3063;&#x3066;&#x3044;&#x308B;&#x3068;&#xFF0C;&#x30A8;&#x30E9;&#x30FC;&#x30DA;&#x30FC;&#x30B8;&#x304C;&#x8868;&#x793A;&#x3055;&#x308C;&#x3066;&#x3057;&#x307E;&#x3046;&#x305F;&#x3081;&#xFF0C;&#x4F5C;&#x696D;&#x5F8C;&#x306B;&#x306F;&#x5FC5;&#x305A;Cache&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x69CB;&#x9020;">&#x30FB;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x69CB;&#x9020;</h4>
<p>Cloud Front&#x304B;&#x3089;&#x30AA;&#x30EA;&#x30B8;&#x30F3;&#x306B;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x69CB;&#x9020;&#x4F8B;&#x3092;&#x4EE5;&#x4E0B;&#x306B;&#x793A;&#x3059;&#xFF0E;</p>
<pre class="language-"><code class="lang-http">GET /example/
# &#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3055;&#x308C;&#x305F;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;
<span class="token header-name keyword">Host:</span> stg.osohshiki.jp
<span class="token header-name keyword">User-Agent:</span> Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
<span class="token header-name keyword">Authorization:</span> Bearer &lt;Bearer&#x30C8;&#x30FC;&#x30AF;&#x30F3;&gt;
<span class="token header-name keyword">X-Amz-Cf-Id:</span> XXXXX
<span class="token header-name keyword">Via:</span> 2.0 77c20654dd474081d033f27ad1b56e1e.cloudfront.net (Cloud Front)
# &#x5404;Cookie&#x306E;&#x5024;&#xFF08;&#x4E8C;&#x56DE;&#x76EE;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6642;&#x306B;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x308B;&#xFF09;
<span class="token header-name keyword">Cookie:</span> PHPSESSID=&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;ID&gt;; __ulfpc=&lt;GoogleAnalytics&#x5024;&gt;; _ga=&lt;GoogleAnalytics&#x5024;&gt;; _gid=&lt;GoogleAnalytics&#x5024;&gt;
# &#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;
# &#x203B;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#xFF08;ALB&#x3084;Cloud Front&#x306A;&#x3069;&#x3082;&#x542B;&#x3080;&#xFF09;&#x3092;&#x7D4C;&#x7531;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x308C;&#x3089;&#x5168;&#x3066;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3082;&#x9806;&#x306B;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x308B;
<span class="token header-name keyword">X-Forwarded-For:</span> &lt;client&gt;, &lt;proxy1&gt;, &lt;proxy2&gt;
<span class="token header-name keyword">Accept-Language:</span> ja,en;q=0.9
<span class="token header-name keyword">Accept:</span> text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
<span class="token header-name keyword">Accept-Encoding:</span> gzip, deflate, br
<span class="token header-name keyword">pragma:</span> no-cache
<span class="token header-name keyword">cache-control:</span> no-cache
<span class="token header-name keyword">upgrade-insecure-requests:</span> 1
<span class="token header-name keyword">sec-fetch-site:</span> none
<span class="token header-name keyword">sec-fetch-mode:</span> navigate
<span class="token header-name keyword">sec-fetch-user:</span> ?1
<span class="token header-name keyword">sec-fetch-dest:</span> document
# &#x30C7;&#x30D0;&#x30A4;&#x30B9;&#x30BF;&#x30A4;&#x30D7;
<span class="token header-name keyword">CloudFront-Is-Mobile-Viewer:</span> true
<span class="token header-name keyword">CloudFront-Is-Tablet-Viewer:</span> false
<span class="token header-name keyword">CloudFront-Is-SmartTV-Viewer:</span> false
<span class="token header-name keyword">CloudFront-Is-Desktop-Viewer:</span> false
# &#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x9001;&#x4FE1;&#x5143;&#x306E;&#x56FD;&#x540D;
<span class="token header-name keyword">CloudFront-Viewer-Country:</span> JP
# &#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;
<span class="token header-name keyword">CloudFront-Forwarded-Proto:</span> https
</code></pre>
<h4 id="&#x30FB;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x6642;&#x9593;&#x306E;&#x6C7A;&#x307E;&#x308A;&#x65B9;">&#x30FB;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x6642;&#x9593;&#x306E;&#x6C7A;&#x307E;&#x308A;&#x65B9;</h4>
<p>&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x306E;&#x6642;&#x9593;&#x306F;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#xFF08;<code>Cache-Control</code>&#xFF0C;<code>Expires</code>&#xFF09;&#x306E;&#x5024;&#x3068;Cloud Front&#x306E;&#x8A2D;&#x5B9A;&#xFF08;&#x6700;&#x5927;&#x6700;&#x5C0F;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;TTL&#xFF09;&#x306E;&#x7D44;&#x307F;&#x5408;&#x308F;&#x305B;&#x306B;&#x3088;&#x3063;&#x3066;&#x6C7A;&#x307E;&#x308B;&#xFF0E;&#x3061;&#x306A;&#x307F;&#x306B;&#xFF0C;Cloud Front&#x306E;&#x6700;&#x5927;&#x6700;&#x5C0F;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;TTL&#x3092;&#x5168;&#x3066;&#xFF10;&#x79D2;&#x306B;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3092;&#x5B8C;&#x5168;&#x306B;&#x7121;&#x52B9;&#x5316;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/Expiration.html#ExpirationDownloadDist" target="_blank">https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/Expiration.html#ExpirationDownloadDist</a></p>
<p><br></p>
<h3 id="reports--analytics">Reports &amp; analytics</h3>
<h4 id="&#x30FB;cache-statistics">&#x30FB;Cache statistics</h4>
<p>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x95A2;&#x9023;&#x3059;&#x308B;&#x69D8;&#x3005;&#x306A;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x65E5;&#x4ED8;&#x5225;&#x306B;&#x96C6;&#x8A08;&#x3057;&#x305F;&#x3082;&#x306E;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;popular-objects">&#x30FB;Popular objects</h4>
<p>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306B;&#x95A2;&#x9023;&#x3059;&#x308B;&#x69D8;&#x3005;&#x306A;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#xFF0C;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x5225;&#x306B;&#x96C6;&#x8A08;&#x3057;&#x305F;&#x3082;&#x306E;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;">&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;</h3>
<h4 id="&#x30FB;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x5168;&#x3066;&#x306E;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;">&#x30FB;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x5168;&#x3066;&#x306E;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</h4>
<p>Cloud Front&#x306B;&#x306F;&#xFF0C;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x6570;&#x3060;&#x3051;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x5404;&#x30B5;&#x30FC;&#x30D0;&#x306B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x4EE5;&#x4E0B;&#x306E;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30A8;&#x30C3;&#x30B8;&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell">$ <span class="token function">curl</span> https://ip-ranges.amazonaws.com/ip-ranges.json <span class="token operator">|</span>
jq  <span class="token string">&apos;.prefixes[] | select(.service==&apos;</span>CLOUDFRONT<span class="token string">&apos;) | .ip_prefix&apos;</span>
</code></pre>
<p>&#x3082;&#x3057;&#x304F;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x76F4;&#x63A5;&#x53C2;&#x8003;&#x3057;&#xFF0C;&#x300C;<code>&apos;service&apos;: &apos;CLOUDFRONT&apos;</code>&#x300D;&#x3068;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#x90E8;&#x5206;&#x3092;&#x63A2;&#x3059;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://ip-ranges.amazonaws.com/ip-ranges.json" target="_blank">https://ip-ranges.amazonaws.com/ip-ranges.json</a></p>
<h4 id="&#x30FB;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x4F7F;&#x7528;&#x4E2D;&#x30B5;&#x30FC;&#x30D0;&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;">&#x30FB;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x4F7F;&#x7528;&#x4E2D;&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</h4>
<p>Cloud Front&#x306B;&#x306F;&#xFF0C;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x5404;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x30B5;&#x30FC;&#x30D0;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x4EE5;&#x4E0B;&#x306E;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#xFF0C;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x3042;&#x308B;&#x4F7F;&#x7528;&#x4E2D;&#x30B5;&#x30FC;&#x30D0;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell">$ <span class="token function">nslookup</span> <span class="token operator">&lt;</span>&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x305F;&#x6587;&#x5B57;&#x5217;<span class="token operator">&gt;</span>.cloudfront.net
</code></pre>
<p><br></p>
<h2 id="05-04-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;alb&#xFF1A;application-load-balancing">05-04. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;ALB&#xFF1A;Application Load Balancing</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<h4 id="&#x30FB;&#x4E3B;&#x8981;&#x9805;&#x76EE;">&#x30FB;&#x4E3B;&#x8981;&#x9805;&#x76EE;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ALB&#x306E;&#x6A5F;&#x80FD;.png" alt="ALB&#x306E;&#x6A5F;&#x80FD;"></p>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x30B5;&#x30FC;&#x30D0;&#xFF0C;&#x304B;&#x3064;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#x30FC;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x4EE3;&#x7406;&#x3067;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x30D0;&#x30E9;&#x30F3;&#x30B9;&#x3088;&#x304F;&#x5206;&#x914D;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30B5;&#x30FC;&#x30D0;&#x3078;&#x306E;&#x8CA0;&#x8377;&#x3092;&#x7DE9;&#x548C;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30EA;&#x30B9;&#x30CA;&#x30FC;</td>
<td>ALB&#x306B;&#x5272;&#x308A;&#x632F;&#x308B;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x304A;&#xFF0C;&#x53D7;&#x4FE1;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x30EA;&#x30D0;&#x30FC;&#x30B9;&#x30D7;&#x30ED;&#x30AD;&#x30B7;&#x304B;&#x3064;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#xFF0D;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x3053;&#x308C;&#x3089;&#x306E;&#x901A;&#x4FE1;&#x3092;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x9001;&#x4FE1;&#x8005;&#x304C;&#x4F7F;&#x7528;&#x3059;&#x308B;SSL/TLS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3084;&#x6697;&#x53F7;&#x5316;&#x65B9;&#x5F0F;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#xFF0C;ALB&#x304C;&#x53D7;&#x4FE1;&#x3067;&#x304D;&#x308B;&#x3053;&#x308C;&#x3089;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x9001;&#x4FE1;&#x8005;&#x306B;&#x306F;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#xFF0C;API&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x5916;&#x90E8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#xFF0C;&#x8EE2;&#x9001;&#x5143;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF08;CloudFront&#x306A;&#x3069;&#xFF09;&#xFF0C;&#x306A;&#x3069;&#x3092;&#x542B;&#x3080;&#xFF0E;<br>&#x30FB;&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/elasticloadbalancing/latest/application/create-https-listener.html#describe-ssl-policies" target="_blank">https://docs.aws.amazon.com/ja_jp/elasticloadbalancing/latest/application/create-https-listener.html#describe-ssl-policies</a></td>
</tr>
<tr>
<td>&#x30EB;&#x30FC;&#x30EB;</td>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306E;&#x30ED;&#x30B8;&#x30C3;&#x30AF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x6642;&#x306B;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3068;&#xFF0C;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x305F;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x3092;&#x6307;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5185;&#x306E;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306E;&#x3046;&#x3061;&#xFF0C;&#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x306F;&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x304C;OK&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5C5E;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3068;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x3092;&#x6307;&#x5B9A;&#x3057;&#x3066;&#xFF0C;&#x5B9A;&#x671F;&#x7684;&#x306B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306E;&#x6307;&#x5B9A;&#x65B9;&#x6CD5;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x304C;&#xFF0C;EC2&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x306E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#xFF0C;&#x9759;&#x7684;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Lambda</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x304C;&#xFF0C;Lambda&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30EB;&#x30FC;&#x30EB;">&#x30EB;&#x30FC;&#x30EB;</h3>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x8A2D;&#x5B9A;&#x4F8B;">&#x30FB;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x8A2D;&#x5B9A;&#x4F8B;</h4>
<table>
<thead>
<tr>
<th>&#x30E6;&#x30FC;&#x30B9;&#x30B1;&#x30FC;&#x30B9;</th>
<th>&#x30DD;&#x30FC;&#x30C8;</th>
<th>IF</th>
<th>THEN</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x30DD;&#x30FC;&#x30C8;<code>80</code>&#x3092;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6642;&#x306B;&#xFF0C;<code>443</code>&#x306B;&#x30EA;&#x30C0;&#x30A4;&#x30EC;&#x30AF;&#x30C8;&#x3057;&#x305F;&#x3044;&#xFF0E;</td>
<td><code>80</code></td>
<td>&#x305D;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x5834;&#x5408;&#x306F;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x306A;&#x3044;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>&#x30EA;&#x30C0;&#x30A4;&#x30EC;&#x30AF;&#x30C8;&#x5148;&#xFF1A;<code>https://#{host}:443/#{path}?#{query}</code><br>&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#xFF1A;<code>HTTP_301</code></td>
</tr>
<tr>
<td>&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x30DD;&#x30FC;&#x30C8;<code>443</code>&#x3092;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6642;&#x306B;&#xFF0C;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x8EE2;&#x9001;&#x3057;&#x305F;&#x3044;&#xFF0E;</td>
<td><code>443</code></td>
<td>&#x305D;&#x308C;&#x4EE5;&#x5916;&#x306E;&#x5834;&#x5408;&#x306F;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x306A;&#x3044;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="web&#x30B5;&#x30FC;&#x30D0;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x5FDC;">Web&#x30B5;&#x30FC;&#x30D0;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x5FDC;</h3>
<h4 id="&#x30FB;&#x554F;&#x984C;">&#x30FB;&#x554F;&#x984C;</h4>
<p>ALB&#x304B;&#x3089;EC2&#x3078;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3092;HTTP&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3068;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x5074;&#x3067;&#xFF0C;HTTPS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x7528;&#x3044;&#x305F;&#x51E6;&#x7406;&#x304C;&#x3067;&#x304D;&#x306A;&#x304F;&#x306A;&#x308B;&#xFF0E;&#x305D;&#x3053;&#x3067;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x304B;&#x3089;ALB&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x304C;HTTPS&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;Web&#x30B5;&#x30FC;&#x30D0;&#x307E;&#x305F;&#x306F;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;HTTPS&#x3068;&#x898B;&#x306A;&#x3059;&#x3088;&#x3046;&#x306B;&#x5BFE;&#x51E6;&#x3059;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/ALB&#x304B;&#x3089;EC2&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;HTTPS&#x3068;&#x898B;&#x306A;&#x3059;.png" alt="ALB&#x304B;&#x3089;EC2&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;HTTPS&#x3068;&#x898B;&#x306A;&#x3059;"></p>
<h4 id="&#x30FB;web&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x51E6;&#x65B9;&#x6CD5;">&#x30FB;Web&#x30B5;&#x30FC;&#x30D0;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x51E6;&#x65B9;&#x6CD5;</h4>
<p>ALB&#x3092;&#x7D4C;&#x7531;&#x3057;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;<code>X-Forwarded-Proto</code>&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x306F;&#xFF0C;ALB&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x306E;&#x7A2E;&#x985E;&#x304C;&#xFF0C;&#x6587;&#x5B57;&#x5217;&#x3067;&#x4EE3;&#x5165;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x304C;&#x300C;HTTPS&#x300D;&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;Web&#x30B5;&#x30FC;&#x30D0;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;HTTPS&#x3067;&#x3042;&#x308B;&#x3068;&#x307F;&#x306A;&#x3059;&#x3088;&#x3046;&#x306B;&#x5BFE;&#x51E6;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x304C;HTTPS&#x3068;&#x306A;&#x308B;&#xFF08;&#x3053;&#x3061;&#x3089;&#x3092;&#x884C;&#x3063;&#x305F;&#x5834;&#x5408;&#x306F;&#xFF0C;&#x4EE5;&#x964D;&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x5074;&#x306E;&#x5BFE;&#x5FDC;&#x4E0D;&#x8981;&#xFF09;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-apacheconf"><span class="token directive-inline property">SetEnvIf</span> X-Forwarded-Proto https HTTPS=on
</code></pre>
<h4 id="&#x30FB;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x51E6;&#x65B9;&#x6CD5;">&#x30FB;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3051;&#x308B;&#x5BFE;&#x51E6;&#x65B9;&#x6CD5;</h4>
<p>ALB&#x3092;&#x7D4C;&#x7531;&#x3057;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;<code>HTTP_X_FORWARDED_PROTO</code>&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x304C;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x306F;&#xFF0C;ALB&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x306E;&#x7A2E;&#x985E;&#x304C;&#xFF0E;&#x6587;&#x5B57;&#x5217;&#x3067;&#x4EE3;&#x5165;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x304C;&#x300C;HTTPS&#x300D;&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;HTTPS&#x3067;&#x3042;&#x308B;&#x3068;&#x307F;&#x306A;&#x3059;&#x3088;&#x3046;&#x306B;&#xFF0C;<code>index.php</code>&#x306B;&#x8FFD;&#x52A0;&#x5B9F;&#x88C5;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-php"><span class="token delimiter important">&lt;?php</span>

<span class="token comment">// index.php</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&apos;HTTP_X_FORWARDED_PROTO&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">&amp;&amp;</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&apos;HTTP_X_FORWARDED_PROTO&apos;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string single-quoted-string">&apos;https&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&apos;HTTPS&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&apos;on&apos;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h3 id="&#x305D;&#x306E;&#x4ED6;&#x306E;&#x7559;&#x610F;&#x4E8B;&#x9805;">&#x305D;&#x306E;&#x4ED6;&#x306E;&#x7559;&#x610F;&#x4E8B;&#x9805;</h3>
<h4 id="&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;privateip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;">&#x30FB;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;</h4>
<p>ALB&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x306B;&#x306F;&#xFF0C;VPC&#x306E;&#x3082;&#x306E;&#x304C;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;EC2&#x306E;Security Group&#x3067;&#x306F;&#xFF0C;VPC&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;alb&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;">&#x30FB;ALB&#x306E;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</h4>
<p>Route53&#x304B;&#x3089;&#x8EE2;&#x9001;&#x3055;&#x308C;&#x308B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x53D7;&#x4FE1;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306B;&#x516C;&#x958B;&#x3059;&#x308B;Web&#x30B5;&#x30A4;&#x30C8;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306F;&#x5168;&#x3066;&#x306E;&#x7BC4;&#x56F2;&#xFF08;<code>0.0.0.0/0</code>&#x3068;<code>::/0</code>&#xFF09;&#x306B;&#x3059;&#x308B;&#xFF0E;&#x793E;&#x5185;&#x5411;&#x3051;&#x306E;Web&#x30B5;&#x30A4;&#x30C8;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x793E;&#x5185;&#x306E;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x307F;&#xFF08;<code>n.n.n.n/32</code>&#xFF09;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="05-05-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;global-accelerator">05-05. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;Global Accelerator</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<h4 id="&#x30FB;&#x57FA;&#x672C;&#x7684;&#x8A2D;&#x5B9A;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x57FA;&#x672C;&#x7684;&#x8A2D;&#x5B9A;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accelerator &#x30BF;&#x30A4;&#x30D7;</td>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3078;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x6642;&#x306E;&#x30A2;&#x30EB;&#x30B4;&#x30EA;&#x30BA;&#x30E0;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>Standard&#xFF1A;&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x6700;&#x3082;&#x8FD1;&#x3044;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x3042;&#x308B;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x304C;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x30D7;&#x30FC;&#x30EB;</td>
<td>Global Accelerator&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x9759;&#x7684;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EA;&#x30B9;&#x30CA;&#x30FC;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30EA;&#x30B9;&#x30CA;&#x30FC;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30DD;&#x30FC;&#x30C8;</td>
<td>&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</td>
<td>&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306E;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Client affinity</td>
<td>&#x30E6;&#x30FC;&#x30B6;&#x3054;&#x3068;&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x3092;&#x56FA;&#x5B9A;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;None&#xFF1A;&#x8907;&#x6570;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x304C;&#x3042;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x5404;&#x30E6;&#x30FC;&#x30B6;&#x306E;&#x6BCE;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6642;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306F;&#x56FA;&#x5B9A;&#x3055;&#x308C;&#x306A;&#x304F;&#x306A;&#x308B;&#xFF0E;<br>&#x30FB;Source IP&#xFF1A;&#x8907;&#x6570;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x304C;&#x3042;&#x3063;&#x305F;&#x3068;&#x3057;&#x3066;&#x3082;&#xFF0C;&#x5404;&#x30E6;&#x30FC;&#x30B6;&#x306E;&#x6BCE;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x6642;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x3092;&#x56FA;&#x5B9A;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x95A2;&#x9023;&#x4ED8;&#x304F;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x30C0;&#x30A4;&#x30E4;&#x30EB;&#x306B;&#x3066;&#xFF0C;&#x5404;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306E;&#x91CD;&#x307F;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x30C0;&#x30A4;&#x30E4;&#x30EB;</td>
<td>&#x8907;&#x6570;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x3042;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x308C;&#x305E;&#x308C;&#x306E;&#x91CD;&#x307F;&#xFF08;%&#xFF09;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x30AB;&#x30CA;&#x30EA;&#x30A2;&#x30EA;&#x30EA;&#x30FC;&#x30B9;&#x306E;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x65B0;&#x30A2;&#x30D7;&#x30EA;&#x3068;&#x65E7;&#x30A2;&#x30D7;&#x30EA;&#x3078;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x306B;&#x91CD;&#x307F;&#x3092;&#x4ED8;&#x3051;&#x308B;&#x5834;&#x5408;&#x306B;&#x5F79;&#x7ACB;&#x3064;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;</td>
<td>&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x30D8;&#x30EB;&#x30B9;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30BF;&#x30A4;&#x30D7;</td>
<td>&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>ALB&#xFF0C;NLB&#xFF0C;EC2&#xFF0C;Elastic IP&#x3092;&#x9078;&#x629E;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x91CD;&#x307F;</td>
<td>&#x8907;&#x6570;&#x306E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x3042;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x308C;&#x305E;&#x308C;&#x306E;&#x91CD;&#x307F;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x5404;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x91CD;&#x307F;&#x306E;&#x5408;&#x8A08;&#x5024;&#x3092;256&#x3068;&#x3057;&#xFF0C;1&#xFF5E;255&#x3067;&#x76F8;&#x5BFE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x4FDD;&#x6301;</td>
<td><code>X-Forwarded-For</code>&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x542B;&#x3081;&#x3066;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x7D20;&#x65E9;&#x3044;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;&#x7406;&#x7531;">&#x7D20;&#x65E9;&#x3044;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;&#x7406;&#x7531;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/GlobalAccelerator.png" alt="GlobalAccelerator"></p>
<p>&#x6700;&#x521D;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x304B;&#x3089;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306F;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3067;&#x53D7;&#x4FE1;&#x3055;&#x308C;&#x308B;&#xFF0E;Private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5185;&#x306E;&#x30A8;&#x30C3;&#x30B8;&#x30ED;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x7D4C;&#x7531;&#x3057;&#x3066;&#xFF0C;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x5148;&#x306E;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x307E;&#x3067;&#x5C4A;&#x304F;&#xFF0E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x5C0F;&#x3055;&#x306A;&#x30EC;&#x30A4;&#x30C6;&#x30B7;&#x30FC;&#x3067;&#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;&#x3092;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/GlobalAccelerator&#x5C0E;&#x5165;&#x5F8C;.png" alt="GlobalAccelerator&#x5C0E;&#x5165;&#x5F8C;"></p>
<p>Global Accelerator&#x3092;&#x4F7F;&#x7528;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;PC&#x306E;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x304B;&#x3089;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x81F3;&#x308B;&#x307E;&#x3067;&#xFF0C;&#x3044;&#x304F;&#x3064;&#x3082;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3092;&#x7D4C;&#x7531;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x6642;&#x9593;&#x304C;&#x304B;&#x304B;&#x3063;&#x3066;&#x3057;&#x307E;&#x3046;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/GlobalAccelerator&#x5C0E;&#x5165;&#x524D;.png" alt="GlobalAccelerator&#x5C0E;&#x5165;&#x524D;"></p>
<p>&#x4EE5;&#x4E0B;&#x306E;&#x30B5;&#x30A4;&#x30C8;&#x3067;&#xFF0C;Global Accelerator&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x5834;&#x5408;&#x3068;&#x3057;&#x306A;&#x304B;&#x3063;&#x305F;&#x5834;&#x5408;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x901F;&#x5EA6;&#x3092;&#x6BD4;&#x8F03;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://speedtest.globalaccelerator.aws/#/" target="_blank">https://speedtest.globalaccelerator.aws/#/</a></p>
<p><br></p>
<h2 id="05-06-&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;vpc&#xFF1A;virtual-private-cloud">05-06. &#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AD;&#x30F3;&#x30B0;&#xFF0C;&#x30B3;&#x30F3;&#x30C6;&#x30F3;&#x30C4;&#x914D;&#x4FE1;&#xFF5C;VPC&#xFF1A;Virtual Private Cloud</h2>
<h3 id="private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;&#x3057;&#x3066;">Private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;&#x3057;&#x3066;</h3>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;Private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x305F;&#xFF0C;VPC&#x3068;&#x547C;&#x3070;&#x308C;&#x308B;Private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3092;&#x4EEE;&#x60F3;&#x7684;&#x306B;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x7570;&#x306A;&#x308B;Availability Zone&#x306B;&#x6E21;&#x3063;&#x3066;EC2&#x3092;&#x7ACB;&#x3061;&#x4E0A;&#x3052;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30B5;&#x30FC;&#x30D0;&#x3092;&#x30C7;&#x30E5;&#x30A2;&#x30EB;&#x5316;&#x3059;&#x308B;&#x3053;&#x3068;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x304C;&#x63D0;&#x4F9B;&#x3067;&#x304D;&#x308B;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306E;&#x7BC4;&#x56F2;.png" alt="VPC&#x304C;&#x63D0;&#x4F9B;&#x3067;&#x304D;&#x308B;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306E;&#x7BC4;&#x56F2;"></p>
<p><br></p>
<h3 id="ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5272;&#x308A;&#x5F53;&#x3066;">IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5272;&#x308A;&#x5F53;&#x3066;</h3>
<h4 id="&#x30FB;&#x81EA;&#x52D5;&#x5272;&#x308A;&#x5F53;&#x3066;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF08;&#x52D5;&#x7684;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;">&#x30FB;&#x81EA;&#x52D5;&#x5272;&#x308A;&#x5F53;&#x3066;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF08;&#x52D5;&#x7684;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;</h4>
<p>&#x52D5;&#x7684;&#x306A;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3067;&#xFF0C;EC2&#x306E;&#x518D;&#x69CB;&#x7BC9;&#x5F8C;&#x306B;&#x5909;&#x5316;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;elastic-ip&#xFF08;&#x9759;&#x7684;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;">&#x30FB;Elastic IP&#xFF08;&#x9759;&#x7684;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;</h4>
<p>&#x9759;&#x7684;&#x306A;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3067;&#xFF0C;&#x518D;&#x69CB;&#x7BC9;&#x5F8C;&#x3082;&#x4FDD;&#x6301;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="internet-gateway&#xFF0C;nat-gateway">Internet Gateway&#xFF0C;NAT Gateway</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/InternetGateway&#x3068;NATGateway.png" alt="InternetGateway&#x3068;NATGateway"></p>
<h4 id="&#x30FB;internet-gateway&#x3068;&#x306F;">&#x30FB;Internet Gateway&#x3068;&#x306F;</h4>
<p>VPC&#x306E;&#x51FA;&#x5165;&#x308A;&#x53E3;&#x306B;&#x8A2D;&#x7F6E;&#x3055;&#x308C;&#xFF0C;&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;Private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x9593;&#xFF08;&#x3053;&#x3053;&#x3067;&#x306F;VPC&#xFF09;&#x306B;&#x304A;&#x3051;&#x308B;NAT&#xFF08;&#x9759;&#x7684;NAT&#xFF09;&#x306E;&#x6A5F;&#x80FD;&#x3092;&#x6301;&#x3064;&#xFF0E;&#x4E00;&#x3064;&#x306E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x4E00;&#x3064;&#x306E;EC2&#x306E;PrivateIP&#x3092;&#x7D10;&#x3065;&#x3051;&#x3089;&#x308C;&#x308B;&#xFF0E;&#x8A73;&#x3057;&#x304F;&#x306F;&#xFF0C;&#x5225;&#x30CE;&#x30FC;&#x30C8;&#x306E;NAT&#xFF08;&#x9759;&#x7684;NAT&#xFF09;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<h4 id="&#x30FB;nat-gateway&#x3068;&#x306F;">&#x30FB;NAT Gateway&#x3068;&#x306F;</h4>
<p>NAPT&#xFF08;&#x52D5;&#x7684;NAT&#xFF09;&#x306E;&#x6A5F;&#x80FD;&#x3092;&#x6301;&#x3064;&#xFF0E;&#x4E00;&#x3064;&#x306E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;IP&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x8907;&#x6570;&#x306E;EC2&#x306E;PrivateIP&#x3092;&#x7D10;&#x3065;&#x3051;&#x3089;&#x308C;&#x308B;&#xFF0E;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306B;&#x7F6E;&#x304D;&#xFF0C;Private&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;EC2&#x304B;&#x3089;&#x306E;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x53D7;&#x3051;&#x4ED8;&#x3051;&#x308B;&#xFF0E;&#x8A73;&#x3057;&#x304F;&#x306F;&#xFF0C;&#x5225;&#x30CE;&#x30FC;&#x30C8;&#x306E;NAPT&#xFF08;&#x52D5;&#x7684;NAT&#xFF09;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;NAT Gateway</p>
<h4 id="&#x30FB;&#x6BD4;&#x8F03;&#x8868;">&#x30FB;&#x6BD4;&#x8F03;&#x8868;</h4>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">Internet Gateway</th>
<th style="text-align:left">NAT Gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>&#x6A5F;&#x80FD;</strong></td>
<td style="text-align:left">&#x30B0;&#x30ED;&#x30FC;&#x30D0;&#x30EB;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x3068;Private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x9593;&#xFF08;&#x3053;&#x3053;&#x3067;&#x306F;VPC&#xFF09;&#x306B;&#x304A;&#x3051;&#x308B;NAT&#xFF08;&#x9759;&#x7684;NAT&#xFF09;</td>
<td style="text-align:left">NAPT&#xFF08;&#x52D5;&#x7684;NAT&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left"><strong>&#x8A2D;&#x7F6E;&#x5834;&#x6240;</strong></td>
<td style="text-align:left">VPC&#x4E0A;</td>
<td style="text-align:left">&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x5185;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="route-table&#xFF08;-&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#xFF09;">Route Table&#xFF08;= &#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#xFF09;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/route-table.png" alt="route-table"></p>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3068;&#x306F;">&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3068;&#x306F;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30EB;&#x30FC;&#x30BF;&#x306E;&#x30DE;&#x30C3;&#x30D4;&#x30F3;&#x30B0;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30EB;&#x30FC;&#x30BF;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#xFF0C;&#x5225;&#x30CE;&#x30FC;&#x30C8;&#x306E;NAT&#x3068;NAPT&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<table>
<thead>
<tr>
<th style="text-align:center">Destination&#xFF08;PrivateIP&#x306E;&#x7BC4;&#x56F2;&#xFF09;</th>
<th style="text-align:center">Target</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>xx.x.x.x/xx</code></td>
<td style="text-align:center">Destination&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#x306E;&#x9001;&#x4FE1;&#x5148;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x306E;&#x7A2E;&#x985E;">&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th>&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30E1;&#x30A4;&#x30F3;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;</td>
<td>VPC&#x306E;&#x69CB;&#x7BC9;&#x6642;&#x306B;&#x81EA;&#x52D5;&#x3067;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x3069;&#x306E;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x306B;&#x3082;&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x3089;&#x308C;&#x3066;&#x3044;&#x306A;&#x3044;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AB;&#x30B9;&#x30BF;&#x30E0;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x5177;&#x4F53;&#x4F8B;1">&#x30FB;&#x5177;&#x4F53;&#x4F8B;1</h4>
<p>&#x4E0A;&#x306E;&#x56F3;&#x4E2D;&#x3067;&#xFF0C;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;2&#x306B;&#x306F;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;1&#x304C;&#x95A2;&#x9023;&#x3065;&#x3051;&#x3089;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;2&#x5185;&#x306E;EC2&#x306E;&#x9001;&#x4FE1;&#x5148;&#x306E;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#xFF0C;<code>10.0.0.0/16</code>&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x306B;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3068;&#x898B;&#x306A;&#x3057;&#xFF0C;local&#xFF08;VPC&#x5185;&#x306E;&#x4ED6;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#xFF09;&#x3092;&#x9001;&#x4FE1;&#x5148;&#x306B;&#x9078;&#x3073;&#xFF0C;&#x7BC4;&#x56F2;&#x5916;&#x306B;&#x3042;&#x308C;&#x3070;&#x901A;&#x4FE1;&#x3092;&#x7834;&#x68C4;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th style="text-align:center">Destination&#xFF08;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#xFF09;</th>
<th style="text-align:center">Target</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>10.0.0.0/16</code></td>
<td style="text-align:center">local</td>
</tr>
<tr>
<td style="text-align:center">&#x6307;&#x5B9A;&#x7BC4;&#x56F2;&#x4EE5;&#x5916;&#x306E;&#x5834;&#x5408;</td>
<td style="text-align:center">&#x901A;&#x4FE1;&#x7834;&#x68C4;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x5177;&#x4F53;&#x4F8B;2">&#x30FB;&#x5177;&#x4F53;&#x4F8B;2</h4>
<p>&#x4E0A;&#x306E;&#x56F3;&#x4E2D;&#x3067;&#xFF0C;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;3&#x306B;&#x306F;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;2&#x304C;&#x95A2;&#x9023;&#x3065;&#x3051;&#x3089;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;3&#x5185;&#x306E;EC2&#x306E;&#x9001;&#x4FE1;&#x5148;&#x306E;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#xFF0C;<code>10.0.0.0/16</code>&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x306B;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3068;&#x898B;&#x306A;&#x3057;&#xFF0C;local&#xFF08;VPC&#x5185;&#x306E;&#x4ED6;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#xFF09;&#x3092;&#x9001;&#x4FE1;&#x5148;&#x306B;&#x9078;&#x3073;&#xFF0C;<code>0.0.0.0/0</code>&#xFF08;local&#x4EE5;&#x5916;&#x306E;&#x5168;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF09;&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x306B;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3068;&#x898B;&#x306A;&#x3057;&#xFF0C;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x3092;&#x9001;&#x4FE1;&#x5148;&#x306B;&#x9078;&#x3076;&#xFF0E;</p>
<table>
<thead>
<tr>
<th style="text-align:center">Destination&#xFF08;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#xFF09;</th>
<th style="text-align:center">Target</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>10.0.0.0/16</code></td>
<td style="text-align:center">local</td>
</tr>
<tr>
<td style="text-align:center"><code>0.0.0.0/0</code></td>
<td style="text-align:center">Internet Gateway</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="network-acl&#xFF1A;network-access--control-list">Network ACL&#xFF1A;Network Access  Control List</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/network-acl.png" alt="network-acl"></p>
<p><img src="C:\Users\h.hasegawa\Documents\Drive 1st\&#x30D5;&#x309A;&#x30ED;&#x30AF;&#x3099;&#x30E9;&#x30DF;&#x30F3;&#x30AF;&#x3099;\tech-notebook\Drive_source\images\network-acl.png" alt="network-acl"></p>
<h4 id="&#x30FB;network-acl&#x3068;&#x306F;">&#x30FB;Network ACL&#x3068;&#x306F;</h4>
<p>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30D1;&#x30B1;&#x30C3;&#x30C8;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x578B;&#x30D5;&#x30A1;&#x30A4;&#x30A2;&#x30A6;&#x30A9;&#x30FC;&#x30EB;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x3068;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x9593;&#x306B;&#x8A2D;&#x7F6E;&#x3055;&#x308C;&#xFF0C;&#x53CC;&#x65B9;&#x5411;&#x306E;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;&#x3068;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;&#x3092;&#x6C7A;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;acl&#x30EB;&#x30FC;&#x30EB;">&#x30FB;ACL&#x30EB;&#x30FC;&#x30EB;</h4>
<p>&#x30EB;&#x30FC;&#x30EB;&#x306F;&#x4E0A;&#x304B;&#x3089;&#x9806;&#x306B;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x30EB;&#x30FC;&#x30EB;&#x304C;&#x4EE5;&#x4E0B;&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30EB;&#x30FC;&#x30EB;100&#x304C;&#x6700;&#x521D;&#x306B;&#x9069;&#x7528;&#x3055;&#x308C;&#xFF0C;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306B;&#x5BFE;&#x3059;&#x308B;&#xFF0C;&#x5168;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#xFF08;<code>0.0.0.0/0</code>&#xFF09;&#x304B;&#x3089;&#x306E;&#x30A4;&#x30F3;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x3066;&#x3044;&#x308B;&#x3053;&#x3068;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30EB;&#x30FC;&#x30EB; #</th>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;</th>
<th>&#x30DD;&#x30FC;&#x30C8;&#x7BC4;&#x56F2; / ICMP &#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x30BD;&#x30FC;&#x30B9;</th>
<th>&#x8A31;&#x53EF; / &#x62D2;&#x5426;</th>
</tr>
</thead>
<tbody>
<tr>
<td>100</td>
<td>&#x3059;&#x3079;&#x3066;&#x306E; &#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>0.0.0.0/0</td>
<td>ALLOW</td>
</tr>
<tr>
<td>*</td>
<td>&#x3059;&#x3079;&#x3066;&#x306E; &#x30C8;&#x30E9;&#x30D5;&#x30A3;&#x30C3;&#x30AF;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>&#x3059;&#x3079;&#x3066;</td>
<td>0.0.0.0/0</td>
<td>DENY</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="vpc&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;">VPC&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;</h3>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;Private&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306B;&#x304A;&#x3051;&#x308B;&#x30BB;&#x30B0;&#x30E1;&#x30F3;&#x30C8;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;&#x306F;">&#x30FB;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30AF;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;&#x306F;</h4>
<p>&#x975E;&#x6B66;&#x88C5;&#x5730;&#x5E2F;&#x306B;&#x76F8;&#x5F53;&#x3059;&#x308B;&#xFF0E;&#x653B;&#x6483;&#x306E;&#x5F71;&#x97FF;&#x304C;&#x5185;&#x90E8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306B;&#x5E83;&#x304C;&#x308B;&#x53EF;&#x80FD;&#x6027;&#x3092;&#x9632;&#x3050;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x5916;&#x90E8;&#x304B;&#x3089;&#x76F4;&#x63A5;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x53D7;&#x3051;&#x308B;&#xFF0C;</p>
<h4 id="&#x30FB;private&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;&#x306F;">&#x30FB;Private&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x3068;&#x306F;</h4>
<p>&#x5185;&#x90E8;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306B;&#x76F8;&#x5F53;&#x3059;&#x308B;&#xFF0E;&#x5916;&#x90E8;&#x304B;&#x3089;&#x76F4;&#x63A5;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x53D7;&#x3051;&#x305A;&#x306B;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3092;&#x8FD4;&#x305B;&#x308B;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x5185;&#x306E;NAT&#x3092;&#x7D4C;&#x7531;&#x3055;&#x305B;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/public-subnet_private-subnet.png" alt="public-subnet_private-subnet"></p>
<h4 id="&#x30FB;&#x540C;&#x4E00;vpc&#x5185;&#x306E;&#x5404;aws&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x6700;&#x4F4E;&#x9650;&#x306E;ip&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x6570;">&#x30FB;&#x540C;&#x4E00;VPC&#x5185;&#x306E;&#x5404;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x6700;&#x4F4E;&#x9650;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x6570;</h4>
<p>&#x4E00;&#x3064;&#x306E;VPC&#x5185;&#x306B;&#x306F;&#x8907;&#x6570;&#x306E;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x304C;&#x5165;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x306F;&#xFF0C;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x500B;&#x6570;&#x3060;&#x3051;&#x72ED;&#x3081;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;&#x307E;&#x305F;&#xFF0C;VPC&#x304C;&#x3082;&#x3064;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x304B;&#x3089;&#xFF0C;VPC&#x5185;&#x306E;&#x5404;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3066;&#x3044;&#x304B;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;VPC&#x5185;&#x3067;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x304C;&#x67AF;&#x6E07;&#x3057;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#xFF0C;&#x3000;&#x4EE5;&#x4E0B;&#x306E;&#x624B;&#x9806;&#x3067;&#xFF0C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3092;&#x8003;&#x3048;&#x308B;&#xFF0E;</p>
<ol>
<li>rfc1918 &#x306B;&#x6E96;&#x62E0;&#x3057;&#xFF0C;VPC&#x306B;&#x4EE5;&#x4E0B;&#x306E;&#x7BC4;&#x56F2;&#x5185;&#x3067;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#xFF0E;</li>
</ol>
<table>
<thead>
<tr>
<th>IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</th>
<th>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x30DE;&#x30B9;&#x30AF;&#xFF08;CIDR&#x5F62;&#x5F0F;&#xFF09;</th>
<th>&#x7BC4;&#x56F2;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>10.0.0.0</code>  ~ <code>10.255.255.255</code></td>
<td><code>/8</code></td>
<td><code>10.0.0.0/8</code></td>
</tr>
<tr>
<td><code>172.16.0.0</code> ~ <code>172.31.255.255</code></td>
<td><code>/12</code></td>
<td><code>172.16.0.0/12</code></td>
</tr>
<tr>
<td><code>192.168.0.0</code> ~ <code>192.168.255.255</code></td>
<td><code>/16</code></td>
<td><code>192.168.0.0/16</code></td>
</tr>
</tbody>
</table>
<ol>
<li>VPC&#x5185;&#x306E;&#x5404;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x7BC4;&#x56F2;&#x3092;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#xFF0E;</li>
</ol>
<table>
<thead>
<tr>
<th>AWS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x6700;&#x4F4E;&#x9650;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x6570;</th>
</tr>
</thead>
<tbody>
<tr>
<td>ALB</td>
<td>ALB1&#x3064;&#x5F53;&#x305F;&#x308A;&#xFF0C;8&#x500B;</td>
</tr>
<tr>
<td>&#x30AA;&#x30FC;&#x30C8;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</td>
<td>&#x6C34;&#x5E73;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x6642;&#x306E;EC2&#x6700;&#x5927;&#x6570;&#x3068;&#x540C;&#x3058;&#x500B;&#x6570;</td>
</tr>
<tr>
<td>VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</td>
<td>VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;1&#x3064;&#x5F53;&#x305F;&#x308A;&#xFF0C;1&#x500B;</td>
</tr>
<tr>
<td>ECS</td>
<td>Elastic Network Interface &#x6570;&#x3068;&#x540C;&#x3058;&#x500B;&#x6570;</td>
</tr>
<tr>
<td>Lambda</td>
<td>Elastic Network Interface &#x6570;&#x3068;&#x540C;&#x3058;&#x500B;&#x6570;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x7A2E;&#x985E;">&#x30FB;&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306E;&#x7A2E;&#x985E;</h4>
<p>&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x306B;&#x306F;&#xFF0C;&#x5F79;&#x5272;&#x3054;&#x3068;&#x306B;&#x3044;&#x304F;&#x3064;&#x304B;&#x7A2E;&#x985E;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x540D;&#x524D;</th>
<th>&#x5F79;&#x5272;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Public subnet (Frontend Subnet)</td>
<td>NATGateway&#x3092;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Private app subnet</td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#xFF0C;Nginx&#x306A;&#x3069;&#x3092;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Private datastore subnet</td>
<td>RDS&#xFF0C;Redis&#x306A;&#x3069;&#x3092;&#x914D;&#x7F6E;&#x3059;&#x308B;</td>
</tr>
</tbody>
</table>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/subnet-types.png" alt="subnet-types"></p>
<p><br></p>
<h3 id="vpc&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;">VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;.png" alt="VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;"></p>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h4>
<p>VPC&#x306E;Private&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x5185;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x304C;&#xFF0C;VPC&#x5916;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;Gateway&#x578B;&#x3068;Interface&#x578B;&#x304C;&#x3042;&#x308B;&#xFF0E;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;Private&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x5185;&#x304B;&#x3089;&#x306E;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x306B;&#x306F;&#xFF0C;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x3068;NAT Gateway&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30E1;&#x30EA;&#x30C3;&#x30C8;">&#x30FB;&#x30E1;&#x30EA;&#x30C3;&#x30C8;</h4>
<p>&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x3068;NAT Gateway&#x306E;&#x4EE3;&#x308F;&#x308A;&#x306B;&#xFF0C;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x6599;&#x91D1;&#x304C;&#x5C11;&#x3057;&#x3060;&#x3051;&#x5B89;&#x304F;&#x306A;&#x308A;&#xFF0C;&#x307E;&#x305F;&#xFF0C;VPC&#x5916;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3068;&#x306E;&#x901A;&#x4FE1;&#x304C;&#x3088;&#x308A;&#x5B89;&#x5168;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30BF;&#x30A4;&#x30D7;">&#x30FB;&#x30BF;&#x30A4;&#x30D7;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30A4;&#x30D7;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x4F8B;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Gateway&#x578B;</td>
<td>&#x30EB;&#x30FC;&#x30C8;&#x30C6;&#x30FC;&#x30D6;&#x30EB;&#x306B;&#x304A;&#x3051;&#x308B;&#x5B9A;&#x7FA9;&#x306B;&#x5247;&#x3063;&#x3066;&#xFF0C;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td>S3&#xFF0C;DynamoDB&#x306E;&#x307F;</td>
</tr>
<tr>
<td>Interface&#x578B;</td>
<td>Private&#x30EA;&#x30F3;&#x30AF;&#x3068;&#x3082;&#x3044;&#x3046;&#xFF0E;PrivateIP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x6301;&#x3064;ENI&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30A2;&#x30A6;&#x30C8;&#x30D0;&#x30A6;&#x30F3;&#x30C9;&#x901A;&#x4FE1;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td>S3&#xFF0C;DynamoDB&#x4EE5;&#x5916;&#x306E;&#x5168;&#x3066;&#x306E;&#x30EA;&#x30BD;&#x30FC;&#x30B9;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;vpc&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;">&#x30FB;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;</h4>
<p>VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3068;&#x306F;&#x7570;&#x306A;&#x308B;&#x6A5F;&#x80FD;&#x306A;&#x306E;&#x3067;&#x6CE8;&#x610F;&#xFF0E;Interface&#x578B;&#x306E;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3068;NLB&#x3092;&#x7D44;&#x307F;&#x5408;&#x308F;&#x305B;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x7570;&#x306A;&#x308B;VPC&#x9593;&#x3067;&#x901A;&#x4FE1;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x306E;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x540D;&#x306F;&#xFF0C;&#x300C;<code>com.amazonaws.vpce.ap-northeast-1.vpce-svc-xxxxx</code>&#x300D;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;.png" alt="VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;"></p>
<p><br></p>
<h3 id="vpc&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;">VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;.png" alt="VPC&#x30D2;&#x309A;&#x30A2;&#x30EA;&#x30F3;&#x30AF;&#x3099;&#x63A5;&#x7D9A;"></p>
<h4 id="&#x30FB;vpc&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x3068;&#x306F;">&#x30FB;VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x3068;&#x306F;</h4>
<p>&#x7570;&#x306A;&#x308B;VPC&#x306B;&#x3042;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x9593;&#x3067;&#xFF0C;&#x76F8;&#x4E92;&#x306B;&#x30C7;&#x30FC;&#x30BF;&#x901A;&#x4FE1;&#x3092;&#x884C;&#x3046;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;vpc&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x304C;&#x3067;&#x304D;&#x306A;&#x3044;&#x5834;&#x5408;">&#x30FB;VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x304C;&#x3067;&#x304D;&#x306A;&#x3044;&#x5834;&#x5408;</h4>
<table>
<thead>
<tr>
<th>&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;</th>
<th>VPC&#x306E;&#x3042;&#x308B;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</th>
<th>VPC&#x5185;&#x306E;CIDR&#x30D6;&#x30ED;&#x30C3;&#x30AF;</th>
<th>&#x63A5;&#x7D9A;&#x306E;&#x53EF;&#x5426;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x540C;&#x3058;&#xFF0F;&#x7570;&#x306A;&#x308B;</td>
<td>&#x540C;&#x3058;&#xFF0F;&#x7570;&#x306A;&#x308B;</td>
<td>&#x5168;&#x3066;&#x7570;&#x306A;&#x308B;</td>
<td><strong>&#x3007;</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td>&#x540C;&#x3058;&#x3082;&#x306E;&#x304C;&#x4E00;&#x3064;&#x3067;&#x3082;&#x3042;&#x308B;</td>
<td>&#x2715;</td>
</tr>
</tbody>
</table>
<p>VPC &#x306B;&#x8907;&#x6570;&#x306E; IPv4 CIDR &#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x304C;&#x3042;&#x308A;&#xFF0C;&#x4E00;&#x3064;&#x3067;&#x3082; &#x540C;&#x3058;CIDR &#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x304C;&#x3042;&#x308B;&#x5834;&#x5408;&#x306F;&#x3001;VPC &#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x306F;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x4E0D;&#x53EF;&#x306E;&#x5834;&#x5408;-1.png" alt="VPC&#x30D2;&#x309A;&#x30A2;&#x30EA;&#x30F3;&#x30AF;&#x3099;&#x63A5;&#x7D9A;&#x4E0D;&#x53EF;&#x306E;&#x5834;&#x5408;-1"></p>
<p>&#x305F;&#x3068;&#x3048;&#xFF0C;IPv6&#x304C;&#x7570;&#x306A;&#x3063;&#x3066;&#x3044;&#x3066;&#x3082;&#xFF0C;&#x540C;&#x69D8;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#x4E0D;&#x53EF;&#x306E;&#x5834;&#x5408;-2.png" alt="VPC&#x30D2;&#x309A;&#x30A2;&#x30EA;&#x30F3;&#x30AF;&#x3099;&#x63A5;&#x7D9A;&#x4E0D;&#x53EF;&#x306E;&#x5834;&#x5408;-2"></p>
<h4 id="&#x30FB;vpc&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3068;&#x306E;&#x6BD4;&#x8F03;">&#x30FB;VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3068;&#x306E;&#x6BD4;&#x8F03;</h4>
<table>
<thead>
<tr>
<th>&#x6A5F;&#x80FD;</th>
<th>VPC&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;</th>
<th>VPC&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x63A5;&#x7D9A;&#x53EF;&#x80FD;&#x306A;VPC&#x6570;</td>
<td>&#x4E00;&#x5BFE;&#x4E00;&#x306E;&#x307F;</td>
<td>&#x4E00;&#x5BFE;&#x591A;</td>
</tr>
<tr>
<td>&#x63A5;&#x7D9A;&#x53EF;&#x80FD;&#x306A;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x7A2E;&#x985E;</td>
<td>IPv4&#xFF0C;IPv6</td>
<td>IPv4</td>
</tr>
<tr>
<td>&#x63A5;&#x7D9A;&#x53EF;&#x80FD;&#x306A;CIDR&#x30D6;&#x30ED;&#x30C3;&#x30AF;</td>
<td>&#x4E21;VPC&#x306E;CIDR&#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x304C;&#x91CD;&#x8907;&#x3057;&#x3066;&#x3044;&#x308B;&#x3068;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</td>
<td>&#x91CD;&#x8907;&#x3057;&#x3066;&#x3044;&#x3066;&#x3082;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x63A5;&#x7D9A;&#x53EF;&#x80FD;&#x306A;&#x30EA;&#x30BD;&#x30FC;&#x30B9;</td>
<td>&#x5236;&#x9650;&#x306A;&#x3057;</td>
<td>NLB&#x3067;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3067;&#x304D;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x307F;</td>
</tr>
<tr>
<td>&#x30AF;&#x30ED;&#x30B9;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;</td>
<td>&#x53EF;&#x80FD;</td>
<td>&#x53EF;&#x80FD;</td>
</tr>
<tr>
<td>&#x30AF;&#x30ED;&#x30B9;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;</td>
<td>&#x53EF;&#x80FD;</td>
<td>&#x4E0D;&#x53EF;&#x80FD;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="06-&#x30D5;&#x30ED;&#x30F3;&#x30C8;&#x30A8;&#x30F3;&#x30C9;&#x30A6;&#x30A7;&#x30D6;&#xFF0C;&#x30E2;&#x30D0;&#x30A4;&#x30EB;">06. &#x30D5;&#x30ED;&#x30F3;&#x30C8;&#x30A8;&#x30F3;&#x30C9;&#x30A6;&#x30A7;&#x30D6;&#xFF0C;&#x30E2;&#x30D0;&#x30A4;&#x30EB;</h2>
<h3 id="amplify">Amplify</h3>
<h4 id="&#x30FB;&#x542B;&#x307E;&#x308C;&#x308B;aws&#x30EA;&#x30BD;&#x30FC;&#x30B9;">&#x30FB;&#x542B;&#x307E;&#x308C;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;</h4>
<p>&#x30D5;&#x30ED;&#x30F3;&#x30C8;&#x30A8;&#x30F3;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x305F;&#x3081;&#x306E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30A4;&#x30F3;&#x30D5;&#x30E9;&#x30B9;&#x30C8;&#x30E9;&#x30AF;&#x30C1;&#x30E3;&#x306E;&#x30D5;&#x30EC;&#x30FC;&#x30E0;&#x30EF;&#x30FC;&#x30AF;&#xFF0E;SSG&#x306E;&#x5834;&#x5408;&#xFF0C;&#x9759;&#x7684;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3057;&#x3055;&#x3048;&#x3059;&#x308C;&#x3070;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x3057;&#x3066;&#x306E;&#x8981;&#x4EF6;&#x304C;&#x5168;&#x3066;&#x6574;&#x3046;&#xFF0E;SPA&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30B5;&#x30FC;&#x30D0;&#x30EC;&#x30B9;&#x306E;&#x30D0;&#x30C3;&#x30AF;&#x30A8;&#x30F3;&#x30C9;&#x3092;&#x81EA;&#x52D5;&#x69CB;&#x7BC9;&#x3057;&#x3066;&#x304F;&#x308C;&#xFF0C;&#x30D5;&#x30ED;&#x30F3;&#x30C8;&#x30A8;&#x30F3;&#x30C9;&#x3092;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3057;&#x3055;&#x3048;&#x3059;&#x308C;&#x3070;&#xFF0C;&#x8981;&#x4EF6;&#x304C;&#x5168;&#x3066;&#x6574;&#x3046;&#xFF0E;&#x3053;&#x308C;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306F;CloudFormation&#x306B;&#x3088;&#x3063;&#x3066;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#x304C;&#xFF0C;Amplify&#x7D4C;&#x7531;&#x3067;&#x3057;&#x304B;&#x8A2D;&#x5B9A;&#x3092;&#x5909;&#x66F4;&#x3067;&#x304D;&#x305A;&#xFF0C;&#x5404;AWS&#x30EA;&#x30EA;&#x30FC;&#x30B9;&#x306E;&#x30B3;&#x30F3;&#x30BD;&#x30FC;&#x30EB;&#x753B;&#x9762;&#x3092;&#x898B;&#x3066;&#x3082;&#xFF0C;&#x975E;&#x8868;&#x793A;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x305F;&#x3060;&#x3057;&#xFF0C;Route53&#x306E;&#x8A2D;&#x5B9A;&#x306F;&#x8868;&#x793A;&#x3055;&#x308C;&#x3066;&#x304A;&#x308A;&#xFF0C;Amplify&#x304C;&#x8FFD;&#x52A0;&#x3057;&#x305F;&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x3092;&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x7DE8;&#x96C6;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://d1.awsstatic.com/webinars/jp/pdf/services/20200520_AWSBlackBelt_Amplify_A.pdf" target="_blank">https://d1.awsstatic.com/webinars/jp/pdf/services/20200520_AWSBlackBelt_Amplify_A.pdf</a></p>
<table>
<thead>
<tr>
<th>&#x5F79;&#x5272;</th>
<th>&#x4F7F;&#x7528;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x8A8D;&#x8A3C;</td>
<td>Gognito</td>
</tr>
<tr>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;</td>
<td>DynamoDB</td>
</tr>
<tr>
<td>API</td>
<td>API Gateway&#xFF0C;AppSync</td>
</tr>
<tr>
<td>&#x30B9;&#x30C8;&#x30EC;&#x30FC;&#x30B8;</td>
<td>S3</td>
</tr>
<tr>
<td>&#x9759;&#x7684;&#x30B5;&#x30A4;&#x30C8;&#x30DB;&#x30B9;&#x30C6;&#x30A3;&#x30F3;&#x30B0;</td>
<td>Cloud Front&#xFF0C;S3</td>
</tr>
<tr>
<td>&#x30EA;&#x30A2;&#x30EB;&#x30BF;&#x30A4;&#x30E0;&#x901A;&#x77E5;</td>
<td>AppSync&#xFF0C;IoT Core</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;amplifyyml&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;<code>amplify.yml</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>Amplify&#x306E;&#x30D3;&#x30EB;&#x30C9;&#x3068;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x306E;&#x8A2D;&#x5B9A;&#x3092;&#x884C;&#x3046;&#xFF0E;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x76F4;&#x4E0B;&#x306B;&#x914D;&#x7F6E;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/amplify/latest/userguide/build-settings.html" target="_blank">https://docs.aws.amazon.com/ja_jp/amplify/latest/userguide/build-settings.html</a></p>
<pre class="language-"><code class="lang-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">1</span>

<span class="token comment">#=====================</span>
<span class="token comment"># &#x74B0;&#x5883;&#x5909;&#x6570;</span>
<span class="token comment">#===================== </span>
<span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token key atrule">variables</span><span class="token punctuation">:</span>
    <span class="token key atrule">key</span><span class="token punctuation">:</span> value

<span class="token comment">#=====================      </span>
<span class="token comment"># &#x30D0;&#x30C3;&#x30AF;&#x30A8;&#x30F3;&#x30C9;&#x306E;CI/CD</span>
<span class="token comment">#===================== </span>
<span class="token key atrule">backend</span><span class="token punctuation">:</span>
  <span class="token key atrule">phases</span><span class="token punctuation">:</span>
    <span class="token key atrule">preBuild</span><span class="token punctuation">:</span>
      <span class="token key atrule">commands</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token important">*enter</span> command*
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">commands</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token important">*enter</span> command*
    <span class="token key atrule">postBuild</span><span class="token punctuation">:</span>
      <span class="token key atrule">commands</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token important">*enter</span> command*

<span class="token comment">#=====================         </span>
<span class="token comment"># &#x30D5;&#x30ED;&#x30F3;&#x30C8;&#x30A8;&#x30F3;&#x30C9;&#x306E;CI/CD</span>
<span class="token comment">#=====================  </span>
<span class="token key atrule">frontend</span><span class="token punctuation">:</span>
  <span class="token key atrule">phases</span><span class="token punctuation">:</span>
    <span class="token key atrule">preBuild</span><span class="token punctuation">:</span>
      <span class="token key atrule">commands</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> npm install 
        <span class="token punctuation">-</span> echo &apos;API_BASE_URL=$API_BASE_URL&apos;                  <span class="token punctuation">&gt;</span> .env
        <span class="token punctuation">-</span> echo &apos;API_BROWSER_BASE_URL=$API_BROWSER_BASE_URL&apos; <span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span> .env
        <span class="token punctuation">-</span> echo &apos;CLIENT_SECRET=$CLIENT_SECRET&apos;               <span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span> .env
        <span class="token punctuation">-</span> echo &apos;GOOGLE_MAPS_API_KEY=$GOOGLE_MAPS_API_KEY&apos;   <span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span> .env
        <span class="token punctuation">-</span> echo &apos;GOOGLE_ANALYTICS_ID=$GOOGLE_ANALYTICS_ID&apos;   <span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span> .env
        <span class="token punctuation">-</span> echo &apos;HTTPS_PORTAL_DOMAIN=$HTTPS_PORTAL_DOMAIN&apos;   <span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span> .env
        <span class="token punctuation">-</span> cat .env
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">commands</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> nuxt generate <span class="token punctuation">-</span><span class="token punctuation">-</span>fail<span class="token punctuation">-</span>on<span class="token punctuation">-</span>error
        <span class="token punctuation">-</span> ls <span class="token punctuation">-</span>la ./dist
  <span class="token key atrule">artifacts</span><span class="token punctuation">:</span>
    <span class="token comment"># &#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x5BFE;&#x8C61;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;  </span>
    <span class="token key atrule">files</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x5168;&#x3066;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;**/*&apos;</span>
    <span class="token key atrule">discard-paths</span><span class="token punctuation">:</span> yes
    <span class="token comment"># &#x30D3;&#x30EB;&#x30C9;&#x306E;&#x30A2;&#x30FC;&#x30C6;&#x30A3;&#x30D5;&#x30A1;&#x30AF;&#x30C8;&#x3092;&#x914D;&#x7F6E;&#x3059;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA; </span>
    <span class="token key atrule">baseDirectory</span><span class="token punctuation">:</span> dist
  <span class="token comment"># &#x30AD;&#x30E3;&#x30C3;&#x30B7;&#x30E5;&#x3068;&#x3057;&#x3066;&#x4FDD;&#x5B58;&#x3059;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;</span>
  <span class="token key atrule">cache</span><span class="token punctuation">:</span>
    <span class="token key atrule">paths</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> node_modules/<span class="token important">**/*</span>

<span class="token comment">#=====================         </span>
<span class="token comment"># &#x30C6;&#x30B9;&#x30C8;        </span>
<span class="token comment">#===================== </span>
<span class="token key atrule">test</span><span class="token punctuation">:</span>
  <span class="token key atrule">phases</span><span class="token punctuation">:</span>
    <span class="token key atrule">preTest</span><span class="token punctuation">:</span>
      <span class="token key atrule">commands</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token important">*enter</span> command*
    <span class="token key atrule">test</span><span class="token punctuation">:</span>
      <span class="token key atrule">commands</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token important">*enter</span> command*
    <span class="token key atrule">postTest</span><span class="token punctuation">:</span>
      <span class="token key atrule">commands</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token important">*enter</span> command* 
  <span class="token key atrule">artifacts</span><span class="token punctuation">:</span>
    <span class="token comment"># &#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x5BFE;&#x8C61;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;</span>
    <span class="token key atrule">files</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x5168;&#x3066;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;**/*&apos;</span>
    <span class="token key atrule">configFilePath</span><span class="token punctuation">:</span> <span class="token important">*location*</span>
    <span class="token comment"># &#x30D3;&#x30EB;&#x30C9;&#x306E;&#x30A2;&#x30FC;&#x30C6;&#x30A3;&#x30D5;&#x30A1;&#x30AF;&#x30C8;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;      </span>
    <span class="token key atrule">baseDirectory</span><span class="token punctuation">:</span> <span class="token important">*location*</span>
</code></pre>
<p><br></p>
<h2 id="07-&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x7D71;&#x5408;">07. &#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x7D71;&#x5408;</h2>
<h3 id="sqs&#xFF1A;simple-queue-service">SQS&#xFF1A;Simple Queue Service</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/SQS.jpeg" alt="AmazonSQS&#x3068;&#x306F;"></p>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x30AD;&#x30E5;&#x30FC;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x7570;&#x306A;&#x308B;VPC&#x9593;&#x3067;&#x3082;&#xFF0C;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x30AD;&#x30E5;&#x30FC;&#x3092;&#x540C;&#x671F;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30B5;&#x30FC;&#x30D0;&#x3067;&#x751F;&#x6210;&#x3055;&#x308C;&#x305F;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306F;&#xFF0C;&#x4E00;&#x65E6;SQS&#x306B;&#x8FFD;&#x52A0;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x306B;&#x3088;&#x3063;&#x3066;&#x30D0;&#x30C3;&#x30C1;&#x304C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#xFF0C;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x304C;&#x53D6;&#x308A;&#x51FA;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x5F8C;&#xFF0C;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x30D0;&#x30C3;&#x30C1;&#x51E6;&#x7406;&#x306B;&#x3088;&#x3063;&#x3066;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x304B;&#x3089;&#x30C7;&#x30FC;&#x30BF;&#x304C;&#x53D6;&#x308A;&#x51FA;&#x3055;&#x308C;&#x3066;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x751F;&#x6210;&#x3055;&#x308C;&#xFF0C;S3&#x306B;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x308B;&#x3088;&#x3046;&#x306A;&#x51E6;&#x7406;&#x304C;&#x7D9A;&#x304F;&#xFF0E;</p>
<h4 id="&#x30FB;sqs&#x306E;&#x7A2E;&#x985E;">&#x30FB;SQS&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B9;&#x30BF;&#x30F3;&#x30C0;&#x30FC;&#x30C9;&#x65B9;&#x5F0F;</td>
<td></td>
</tr>
<tr>
<td>FIFO&#x65B9;&#x5F0F;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="sns&#xFF1A;simple-notification-service">SNS&#xFF1A;Simple Notification Service</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/SNS&#x3068;&#x306F;.png" alt="SNS&#x3068;&#x306F;"></p>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h4>
<p>&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30B7;&#x30E3;&#x30FC;&#x304B;&#x3089;&#x767A;&#x4FE1;&#x3055;&#x308C;&#x305F;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x3092;&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3067;&#x53D7;&#x4FE1;&#x3057;&#xFF0C;&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30E9;&#x30A4;&#x30D0;&#x30FC;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30C8;&#x30D4;&#x30C3;&#x30AF;</td>
<td>&#x8907;&#x6570;&#x306E;&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5316;&#x3057;&#x305F;&#x3082;&#x306E;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;</td>
<td>&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x3067;&#x53D7;&#x4FE1;&#x3059;&#x308B;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30C8;&#x30D4;&#x30C3;&#x30AF;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30C8;&#x30D4;&#x30C3;&#x30AF;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;</td>
<td>&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x767B;&#x9332;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x30C8;&#x30D4;&#x30C3;&#x30AF;&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6A29;&#x9650;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x914D;&#x4FE1;&#x518D;&#x8A66;&#x884C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x306E;HTTP/S&#x30A8;&#x30F3;&#x30C9;&#x30DD;&#x30A4;&#x30F3;&#x30C8;&#x304C;&#x5931;&#x6557;&#x3057;&#x305F;&#x6642;&#x306E;&#x30EA;&#x30C8;&#x30E9;&#x30A4;&#x65B9;&#x6CD5;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/sns/latest/dg/sns-message-delivery-retries.html" target="_blank">https://docs.aws.amazon.com/ja_jp/sns/latest/dg/sns-message-delivery-retries.html</a></td>
</tr>
<tr>
<td>&#x914D;&#x4FE1;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x306E;&#x30ED;&#x30B0;&#x8A18;&#x9332;</td>
<td>&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x3078;&#x306E;&#x767A;&#x4FE1;&#x306E;&#x30ED;&#x30B0;&#x3092;CloudWatchLogs&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x6697;&#x53F7;&#x5316;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8EE2;&#x9001;&#x5148;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kinesis Data Firehose</td>
<td>Kinesis Data Firehose</td>
<td></td>
</tr>
<tr>
<td>SQS</td>
<td>SQS</td>
<td></td>
</tr>
<tr>
<td>Lambda</td>
<td>Lambda</td>
<td></td>
</tr>
<tr>
<td>E&#x30E1;&#x30FC;&#x30EB;</td>
<td>&#x4EFB;&#x610F;&#x306E;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td></td>
</tr>
<tr>
<td>HTTP/S</td>
<td>&#x4EFB;&#x610F;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td>Chatbot&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306F;&#x300C;<code>https://global.sns-api.chatbot.amazonaws.com</code>&#x300D;</td>
</tr>
<tr>
<td>JSON&#x5F62;&#x5F0F;&#x306E;&#x30E1;&#x30FC;&#x30EB;</td>
<td>&#x4EFB;&#x610F;&#x306E;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td></td>
</tr>
<tr>
<td>SMS</td>
<td>SMS</td>
<td>&#x53D7;&#x4FE1;&#x8005;&#x306E;&#x96FB;&#x8A71;&#x756A;&#x53F7;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="eventbridge&#xFF08;cloudwatchevents&#xFF09;">EventBridge&#xFF08;CloudWatchEvents&#xFF09;</h3>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h4>
<p>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x8D77;&#x3053;&#x3063;&#x305F;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#xFF0C;&#x4ED6;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#xFF0E;&#x30B5;&#x30DD;&#x30FC;&#x30C8;&#x5BFE;&#x8C61;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/eventbridge/latest/userguide/what-is-amazon-eventbridge.html" target="_blank">https://docs.aws.amazon.com/eventbridge/latest/userguide/what-is-amazon-eventbridge.html</a></p>
<h4 id="&#x30FB;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x78BA;&#x8A8D;">&#x30FB;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x78BA;&#x8A8D;</h4>
<p>&#x3042;&#x3089;&#x304B;&#x3058;&#x3081;&#xFF0C;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x306E;&#x5185;&#x5BB9;&#x3092;&#x51FA;&#x529B;&#x3059;&#x308B;&#x95A2;&#x6570;&#x3092;Lambda&#x306B;&#x4F5C;&#x6210;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;</p>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// Lambda&#x306B;&#x30C7;&#x30D0;&#x30C3;&#x30B0;&#x7528;&#x306E;&#x95A2;&#x6570;&#x3092;&#x7528;&#x610F;&#x3059;&#x308B;</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>event<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>&#x5BFE;&#x8C61;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x4EFB;&#x610F;&#x306E;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x304C;&#x8D77;&#x3053;&#x3063;&#x305F;&#x6642;&#x306B;&#xFF0C;EventBridge&#x304B;&#x3089;Lambda&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;source&apos;<span class="token operator">:</span> &apos;aws.amplify&apos;
<span class="token punctuation">}</span>
</code></pre>
<p>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x610F;&#x56F3;&#x7684;&#x306B;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x8D77;&#x3053;&#x3057;&#xFF0C;Lambda&#x306E;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304B;&#x3089;&#x5185;&#x5BB9;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#xFF0E;<code>detail</code>&#x30AD;&#x30FC;&#x306B;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x304C;&#x5272;&#x308A;&#x5F53;&#x3066;&#x3089;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
    &apos;event&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;version&apos;<span class="token operator">:</span> &apos;<span class="token number">0</span>&apos;<span class="token punctuation">,</span>
        &apos;id&apos;<span class="token operator">:</span> &apos;b4a07570-eda1-9fe1-da5e-b672a1705c39&apos;<span class="token punctuation">,</span>
        &apos;detail-type&apos;<span class="token operator">:</span> &apos;Amplify Deployment Status Change&apos;<span class="token punctuation">,</span>
        &apos;source&apos;<span class="token operator">:</span> &apos;aws.amplify&apos;<span class="token punctuation">,</span>
        &apos;account&apos;<span class="token operator">:</span> &apos;&lt;AWS&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;&apos;<span class="token punctuation">,</span>
        &apos;time&apos;<span class="token operator">:</span> &apos;&lt;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x306E;&#x767A;&#x751F;&#x6642;&#x9593;&gt;&apos;<span class="token punctuation">,</span>
        &apos;region&apos;<span class="token operator">:</span> &apos;&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;&apos;<span class="token punctuation">,</span>
        &apos;resources&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
            &apos;&lt;Amplify&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;ARN&gt;&apos;
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        &apos;detail&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
            &apos;appId&apos;<span class="token operator">:</span> &apos;&lt;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;ID&gt;&apos;<span class="token punctuation">,</span>
            &apos;branchName&apos;<span class="token operator">:</span> &apos;&lt;&#x30D6;&#x30E9;&#x30F3;&#x30C1;&#x540D;&gt;&apos;<span class="token punctuation">,</span>
            &apos;jobId&apos;<span class="token operator">:</span> &apos;&lt;&#x30B8;&#x30E7;&#x30D6;ID&gt;&apos;<span class="token punctuation">,</span>
            &apos;jobStatus&apos;<span class="token operator">:</span> &apos;&lt;CI/CD&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&gt;&apos;
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x30D1;&#x30BF;&#x30FC;&#x30F3;">&#x30FB;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x30D1;&#x30BF;&#x30FC;&#x30F3;</h4>
<p>&#x6307;&#x5B9A;&#x3057;&#x305F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x304C;&#x8D77;&#x3053;&#x3063;&#x305F;&#x6642;&#x306B;&#xFF0C;&#x305D;&#x308C;&#x304C;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x306B;&#x4E00;&#x81F4;&#x3059;&#x308B;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3067;&#x3042;&#x3063;&#x305F;&#x5834;&#x5408;&#x306B;&#x306E;&#x307F;&#x8EE2;&#x9001;&#x3059;&#x308B;&#xFF0E;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x306F;JSON&#x3067;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;&#x306A;&#x304A;&#xFF0C;JSON&#x30AD;&#x30FC;&#x3092;&#x6307;&#x5B9A;&#x3057;&#x306A;&#x3044;&#x90E8;&#x5206;&#x306F;&#xFF0C;&#x5168;&#x3066;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x3082;&#x306E;&#x3068;&#x898B;&#x306A;&#x3055;&#x308C;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>Amplify&#x306E;&#x6307;&#x5B9A;&#x3057;&#x305F;ID&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#xFF0C;<code>Amplify Deployment Status Change</code>&#x306E;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x9001;&#x4FE1;&#x3057;&#xFF0C;&#x3053;&#x308C;&#x306E;<code>jobStatus</code>&#x304C;<code>SUCCEED</code>&#x307E;&#x305F;&#x306F;<code>FAILED</code>&#x3060;&#x3063;&#x305F;&#x5834;&#x5408;&#x306B;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x8EE2;&#x9001;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;detail&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
    &apos;appId&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
      &apos;xxxxx&apos;<span class="token punctuation">,</span>
      &apos;yyyyy&apos;
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    &apos;jobStatus&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
      &apos;SUCCEED&apos;<span class="token punctuation">,</span>
      &apos;FAILED&apos;
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;detail-type&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    &apos;Amplify Deployment Status Change&apos;
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  &apos;source&apos;<span class="token operator">:</span> &apos;aws.amplify&apos;
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x5165;&#x529B;&#x30C8;&#x30E9;&#x30F3;&#x30B9;&#x30D5;&#x30A9;&#x30FC;&#x30DE;&#x30FC;">&#x30FB;&#x5165;&#x529B;&#x30C8;&#x30E9;&#x30F3;&#x30B9;&#x30D5;&#x30A9;&#x30FC;&#x30DE;&#x30FC;</h4>
<p>&#x8EE2;&#x9001;&#x5148;&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;JSON&#x3092;&#x5B9A;&#x7FA9;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x306E;JSON&#x306E;&#x5024;&#x3092;&#x5909;&#x6570;&#x3068;&#x3057;&#x3066;&#x51FA;&#x529B;&#x3067;&#x304D;&#x308B;&#xFF0E;<code>event</code>&#x30AD;&#x30FC;&#x3092;&#x30C9;&#x30EB;&#x30DE;&#x30FC;&#x30AF;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x30C9;&#x30C3;&#x30C8;&#x3067;&#x7E4B;&#x3044;&#x3067;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>Amplify&#x3067;&#x8D77;&#x3053;&#x3063;&#x305F;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x306E;JSON&#x3092;&#x5909;&#x6570;&#x3068;&#x3057;&#x3066;&#x53D6;&#x308A;&#x51FA;&#x3059;&#xFF0E;JSON&#x306E;&#x30AD;&#x30FC;&#x540D;&#x304C;&#x5909;&#x6570;&#x540D;&#x3068;&#x3057;&#x3066;&#x6A5F;&#x80FD;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;appId&apos;<span class="token operator">:</span> &apos;$.detail.appId&apos;<span class="token punctuation">,</span>
  &apos;branchName&apos;<span class="token operator">:</span> &apos;$.detail.branchName&apos;<span class="token punctuation">,</span>
  &apos;jobId&apos;<span class="token operator">:</span> &apos;$.detail.jobId&apos;<span class="token punctuation">,</span>
  &apos;jobStatus&apos;<span class="token operator">:</span> &apos;$.detail.jobStatus&apos;<span class="token punctuation">,</span>
  &apos;region&apos;<span class="token operator">:</span> &apos;$.region&apos;
<span class="token punctuation">}</span>
</code></pre>
<p>&#x3053;&#x308C;&#x3092;Slack&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;JSON&#x306B;&#x51FA;&#x529B;&#x3059;&#x308B;&#xFF0E;&#x51FA;&#x529B;&#x3059;&#x308B;&#x3068;&#x304D;&#x306F;&#xFF0C;&#x5909;&#x6570;&#x540D;&#x3092;&#x300E;<code>&lt;&gt;</code>&#x300F;&#x3067;&#x56F2;&#x3046;&#xFF0E;Slack&#x306B;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x306E;&#x4F5C;&#x6210;&#x30C4;&#x30FC;&#x30EB;&#x306F;&#xFF0C;&#x4EE5;&#x4E0B;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://app.slack.com/block-kit-builder" target="_blank">https://app.slack.com/block-kit-builder</a></p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;channel&apos;<span class="token operator">:</span> &apos;XXXXXX&apos;<span class="token punctuation">,</span>
  &apos;text&apos;<span class="token operator">:</span> &apos;Amplify&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x5B8C;&#x4E86;&#x901A;&#x77E5;&apos;<span class="token punctuation">,</span>
  &apos;blocks&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;type&apos;<span class="token operator">:</span> &apos;section&apos;<span class="token punctuation">,</span>
      &apos;text&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;type&apos;<span class="token operator">:</span> &apos;mrkdwn&apos;<span class="token punctuation">,</span>
        &apos;text&apos;<span class="token operator">:</span> &apos;<span class="token operator">:</span>github<span class="token operator">:</span> &#x30D7;&#x30EB;&#x30EA;&#x30AF;&#x691C;&#x8A3C;&#x7528;&#x74B0;&#x5883;&apos;
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;type&apos;<span class="token operator">:</span> &apos;context&apos;<span class="token punctuation">,</span>
      &apos;elements&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          &apos;type&apos;<span class="token operator">:</span> &apos;mrkdwn&apos;<span class="token punctuation">,</span>
          &apos;text&apos;<span class="token operator">:</span> &apos;*&#x7D50;&#x679C;*<span class="token operator">:</span> &lt;jobStatus&gt;&apos;
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;type&apos;<span class="token operator">:</span> &apos;context&apos;<span class="token punctuation">,</span>
      &apos;elements&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          &apos;type&apos;<span class="token operator">:</span> &apos;mrkdwn&apos;<span class="token punctuation">,</span>
          &apos;text&apos;<span class="token operator">:</span> &apos;*&#x30D6;&#x30E9;&#x30F3;&#x30C1;&#x540D;*<span class="token operator">:</span> &lt;branchName&gt;&apos;
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;type&apos;<span class="token operator">:</span> &apos;context&apos;<span class="token punctuation">,</span>
      &apos;elements&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          &apos;type&apos;<span class="token operator">:</span> &apos;mrkdwn&apos;<span class="token punctuation">,</span>
          &apos;text&apos;<span class="token operator">:</span> &apos;*&#x691C;&#x8A3C;URL*<span class="token operator">:</span> https<span class="token operator">:</span><span class="token comment">//&lt;branchName&gt;.&lt;appId&gt;.amplifyapp.com&apos;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;type&apos;<span class="token operator">:</span> &apos;context&apos;<span class="token punctuation">,</span>
      &apos;elements&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          &apos;type&apos;<span class="token operator">:</span> &apos;mrkdwn&apos;<span class="token punctuation">,</span>
          &apos;text&apos;<span class="token operator">:</span> &apos;<span class="token operator">:</span>amplify<span class="token operator">:</span> &lt;https<span class="token operator">:</span><span class="token comment">//&lt;region&gt;.console.aws.amazon.com/amplify/home?region=&lt;region&gt;#/&lt;appId&gt;/&lt;branchName&gt;/&lt;jobId&gt;|*Amplify&#x30B3;&#x30F3;&#x30BD;&#x30FC;&#x30EB;&#x753B;&#x9762;&#x306F;&#x3053;&#x3061;&#x3089;*&gt;&apos;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;type&apos;<span class="token operator">:</span> &apos;divider&apos;
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h2 id="08-&#x7BA1;&#x7406;&#xFF0C;&#x30AC;&#x30D0;&#x30CA;&#x30F3;&#x30B9;&#xFF5C;cloudwatch">08. &#x7BA1;&#x7406;&#xFF0C;&#x30AC;&#x30D0;&#x30CA;&#x30F3;&#x30B9;&#xFF5C;CloudWatch</h2>
<h3 id="cloudwatch&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;">CloudWatch&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;</h3>
<h4 id="&#x30FB;cloudwatch&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3068;&#x306F;">&#x30FB;CloudWatch&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3068;&#x306F;</h4>
<p>&#x4F7F;&#x7528;&#x3057;&#x3066;&#x3044;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x72B6;&#x614B;&#x3092;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x5316;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;sli&#xFF0C;slo">&#x30FB;SLI&#xFF0C;SLO</h4>
<table>
<thead>
<tr>
<th>&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>SLI&#xFF1A;Service Level Indicator&#xFF08;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EC;&#x30D9;&#x30EB;&#x6307;&#x6A19;&#xFF09;</td>
<td>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EC;&#x30D9;&#x30EB;&#x306E;&#x6307;&#x6A19;&#x3068;&#x3059;&#x308B;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x30B5;&#x30FC;&#x30D0;&#x7A3C;&#x50CD;&#x7387;&#xFF0C;&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x7A3C;&#x50CD;&#x7387;&#xFF0C;&#x30EC;&#x30A4;&#x30C6;&#x30F3;&#x30B7;&#x30FC;&#xFF0C;&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x7387;&#xFF0C;&#x30B9;&#x30EB;&#x30FC;&#x30D7;&#x30C3;&#x30C8;&#xFF0C;&#x306A;&#x3069;&#x304C;&#x63A1;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>SLO&#xFF1A;Service Level Objective&#xFF08;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EC;&#x30D9;&#x30EB;&#x76EE;&#x6A19;&#xFF09;</td>
<td>SLI&#x3068;&#x3057;&#x3066;&#x63A1;&#x7528;&#x3057;&#x305F;&#x6307;&#x6A19;&#x306E;&#x76EE;&#x6A19;&#x5024;&#x306E;&#x3053;&#x3068;&#xFF0E;99.9%&#x306E;&#x6210;&#x529F;&#x7387;&#x3092;&#x76EE;&#x6A19;&#x3068;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x591A;&#x3044;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;sli&#x306B;&#x95A2;&#x9023;&#x3059;&#x308B;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;">&#x30FB;SLI&#x306B;&#x95A2;&#x9023;&#x3059;&#x308B;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;</h4>
<table>
<thead>
<tr>
<th>&#x6307;&#x6A19;</th>
<th>&#x95A2;&#x9023;&#x3059;&#x308B;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B5;&#x30FC;&#x30D0;&#x7A3C;&#x50CD;&#x7387;</td>
<td>ECS<br>&#x30FB;<code>RunningTaskCount</code></td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;ECS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3082;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x7A3C;&#x50CD;&#x7387;</td>
<td>RDS&#xFF1A;<br>&#x30FB;<code>CPUUtilization</code><br>&#x30FB;<code>FreeableMemory</code></td>
<td></td>
</tr>
<tr>
<td>&#x30EC;&#x30A4;&#x30C6;&#x30F3;&#x30B7;&#x30FC;</td>
<td>API Gateway&#xFF1A;<br>&#x30FB;<code>Latency</code><br>&#x30FB;<code>IntegrationLatency</code></td>
<td></td>
</tr>
<tr>
<td>&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x7387;</td>
<td>ALB&#xFF1A;<br>&#x30FB;<code>HTTPCode_ELB_4XX_Count</code><br>&#x30FB;<code>HTTPCode_ELB_5XX_Count</code><br>&#x30FB;<code>HTTPCode_TARGET_4XX_Count</code><br>&#x30FB;<code>HTTPCode_TARGET_5XX_Count</code><br>&#x30FB;<code>RejectedConnectionCount</code><br>&#x30FB;<code>HealthyHostCount</code><br>&#x30FB;<code>TargetConnectionErrorCount</code><br>&#x30FB;<code>TargetTLSNegotiationErrorCount</code><br><br>API Gateway&#xFF1A;<br>&#x30FB;<code>4XXError</code><br>&#x30FB;<code>5XXError</code></td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="cloudwatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;">CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;</h3>
<h4 id="&#x30FB;cloudwatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3068;&#x306F;">&#x30FB;CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3068;&#x306F;</h4>
<p>EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x5185;&#x3067;&#x767A;&#x751F;&#x3057;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x53CE;&#x96C6;&#x3057;&#xFF0C;CloudWatch&#x306B;&#x5BFE;&#x3057;&#x3066;&#x30D7;&#x30C3;&#x30B7;&#x30E5;&#x3059;&#x308B;&#x5E38;&#x99D0;&#x30B7;&#x30B9;&#x30C6;&#x30E0;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;cloudwatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x8A2D;&#x5B9A;">&#x30FB;CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x8A2D;&#x5B9A;</h4>
<p>CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306F;&#xFF0C;<code>/opt/aws/amazon-cloudwatch-agent/bin/config.json</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x5B9A;&#x7FA9;&#x3092;&#x5143;&#x306B;&#xFF0C;&#x5B9F;&#x884C;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306F;&#xFF0C;&#x5206;&#x5272;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>agent</code>&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;</td>
<td>CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x5168;&#x4F53;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x30A6;&#x30A3;&#x30B6;&#x30FC;&#x30C9;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x3053;&#x306E;&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x8A2D;&#x5B9A;&#x306F;&#x30B9;&#x30AD;&#x30C3;&#x30D7;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x5B9F;&#x88C5;&#x3057;&#x306A;&#x304B;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x5024;&#x304C;&#x9069;&#x7528;&#x3055;&#x308C;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td><code>metrics</code>&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
<td>&#x30FB;&#x30A6;&#x30A3;&#x30B6;&#x30FC;&#x30C9;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x3053;&#x306E;&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x8A2D;&#x5B9A;&#x306F;&#x30B9;&#x30AD;&#x30C3;&#x30D7;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x5B9F;&#x88C5;&#x3057;&#x306A;&#x304B;&#x3063;&#x305F;&#x5834;&#x5408;&#xFF0C;&#x4F55;&#x3082;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td><code>logs</code>&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;</td>
<td></td>
</tr>
</tbody>
</table>
<p>&#x8A2D;&#x5B9A;&#x5F8C;&#xFF0C;<code>amazon-cloudwatch-agent-ctl</code>&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x305B;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-shell"><span class="token comment"># EC2&#x5185;&#x306B;&#x3042;&#x308B;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#xFF0C;CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306B;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x305B;&#x308B;&#xFF08;&#x518D;&#x8D77;&#x52D5;&#x3092;&#x542B;&#x3080;&#xFF09;</span>
$ /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -a fetch-config -m ec2 -s -c file:/opt/aws/amazon-cloudwatch-agent/bin/config.json

<span class="token comment"># &#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x306E;&#x30B9;&#x30C6;&#x30FC;&#x30BF;&#x30B9;&#x3092;&#x78BA;&#x8A8D;</span>
$ /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -m ec2 -a status
</code></pre>
<pre class="language-"><code class="lang-shell"><span class="token comment"># &#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x308C;&#x305F;&#x304B;&#x3092;&#x78BA;&#x8A8D;</span>

<span class="token comment">### CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x306E;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;</span>
$ <span class="token function">tail</span> -f /opt/aws/amazon-cloudwatch-agent/logs/amazon-cloudwatch-agent.log

<span class="token comment">### &#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x69CB;&#x6587;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x306E;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;</span>
$ <span class="token function">tail</span> -f /opt/aws/amazon-cloudwatch-agent/logs/configuration-validation.log

<span class="token comment">### OS&#x8D77;&#x52D5;&#x6642;&#x306B;&#x30C7;&#x30FC;&#x30E2;&#x30F3;&#x304C;&#x7A3C;&#x50CD;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x304B;&#x3092;&#x78BA;&#x8A8D;</span>
$ systemctl list-unit-files --type<span class="token operator">=</span>service
</code></pre>
<h4 id="&#x30FB;log&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x307F;&#x306E;&#x5834;&#x5408;">&#x30FB;log&#x30BB;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x307F;&#x306E;&#x5834;&#x5408;</h4>
<p>CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;CloudWatch&#x306B;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x30D7;&#x30C3;&#x30B7;&#x30E5;&#x3059;&#x308B;&#x3060;&#x3051;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#xFF08;<code>/opt/aws/amazon-cloudwatch-agent/bin/config.json</code>&#xFF09;&#x306B;&#x306F;<code>log</code>&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x307F;&#x306E;&#x5B9F;&#x88C5;&#x3067;&#x826F;&#x3044;&#xFF0E;<code>run_as_user</code>&#x306B;&#x306F;&#xFF0C;&#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x306E;&#x30E6;&#x30FC;&#x30B6;&#x540D;&#xFF08;&#x4F8B;&#xFF1A;<code>cwagent</code>&#xFF09;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;agent&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
    &apos;run_as_user&apos;<span class="token operator">:</span> &apos;cwagent&apos;
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;logs&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
    &apos;logs_collected&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
      &apos;files&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;collect_list&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            &apos;file_path&apos;<span class="token operator">:</span> &apos;/var/log/nginx/error.log&apos;<span class="token punctuation">,</span>
            &apos;log_group_name&apos;<span class="token operator">:</span> &apos;/example-www/var/log/nginx/error_log&apos;<span class="token punctuation">,</span>
            &apos;log_stream_name&apos;<span class="token operator">:</span> &apos;<span class="token punctuation">{</span>instance_id<span class="token punctuation">}</span>&apos;
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            &apos;file_path&apos;<span class="token operator">:</span> &apos;/var/log/php-fpm/error.log&apos;<span class="token punctuation">,</span>
            &apos;log_group_name&apos;<span class="token operator">:</span> &apos;/example-www/var/log/php-fpm/error_log&apos;<span class="token punctuation">,</span>
            &apos;log_stream_name&apos;<span class="token operator">:</span> &apos;<span class="token punctuation">{</span>instance_id<span class="token punctuation">}</span>&apos;
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h3 id="cloudwatch-logs">CloudWatch Logs</h3>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30ED;&#x30B0;&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x69D8;&#x3005;&#x306A;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#x751F;&#x6210;&#x3055;&#x308C;&#x305F;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x53CE;&#x96C6;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
<td>&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x3092;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5316;&#x3057;&#x3066;&#x53CE;&#x96C6;&#x3059;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x57FA;&#x672C;&#x7684;&#x306B;&#xFF0C;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306F;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5316;&#x305B;&#x305A;&#x306B;&#xFF0C;&#x4E00;&#x3064;&#x306E;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x306F;&#x4E00;&#x3064;&#x306E;&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x3057;&#x304B;&#x542B;&#x307E;&#x308C;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;&#x305F;&#x3060;&#x3057;&#xFF0C;EC2&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x5197;&#x9577;&#x5316;&#x3057;&#x3042;&#x3070;&#x3042;</td>
</tr>
<tr>
<td>&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;</td>
<td>&#x7D10;&#x3065;&#x304F;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3067;&#xFF0C;&#x51FA;&#x73FE;&#x3092;&#x76E3;&#x8996;&#x3059;&#x308B;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30B5;&#x30D6;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Logs Insights</td>
<td>&#x30AF;&#x30A8;&#x30EA;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#x30ED;&#x30B0;&#x3092;&#x62BD;&#x51FA;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x306E;&#x8A73;&#x7D30;">&#x30FB;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x30D1;&#x30BF;&#x30FC;&#x30F3;</td>
<td>&#x7D10;&#x3065;&#x304F;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3067;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x5024;&#x5897;&#x52A0;&#x306E;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3059;&#x308B;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x5927;&#x6587;&#x5B57;&#x3068;&#x5C0F;&#x6587;&#x5B57;&#x3092;&#x533A;&#x5225;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x7DB2;&#x7F85;&#x7684;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x540D;&#x524D;&#x7A7A;&#x9593;</td>
<td>&#x7D10;&#x3065;&#x304F;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x5C5E;&#x3059;&#x308B;&#x540D;&#x524D;&#x7A7A;&#x9593;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;CloudWatch Logs&#x304C;&#xFF0C;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x540D;&#x524D;&#x7A7A;&#x9593;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x5024;&#x3092;&#x767A;&#x884C;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;</td>
<td>&#x7D10;&#x3065;&#x304F;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x304C;&#x5C5E;&#x3059;&#x308B;&#x540D;&#x524D;&#x7A7A;&#x9593;&#x5185;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;CloudWatch Logs&#x304C;&#xFF0C;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x5024;&#x3092;&#x767A;&#x884C;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x5024;</td>
<td>&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x3067;&#x6587;&#x5B57;&#x5217;&#x304C;&#x691C;&#x51FA;&#x3055;&#x308C;&#x305F;&#x6642;&#x306B;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x767A;&#x884C;&#x3059;&#x308B;&#x5024;&#x306E;&#x3053;&#x3068;&#xFF0E;</td>
<td>&#x4F8B;&#x3048;&#x3070;&#x300C;&#x691C;&#x51FA;&#x6570;&#x300D;&#x3092;&#x767A;&#x884C;&#x3059;&#x308B;&#x5834;&#x5408;&#x306F;&#xFF0C;&#x300C;&#xFF11;&#x300D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x306E;&#x30C6;&#x30F3;&#x30D7;&#x30EC;&#x30FC;&#x30C8;">&#x30FB;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x30D1;&#x30BF;&#x30FC;&#x30F3;&#x306E;&#x30C6;&#x30F3;&#x30D7;&#x30EC;&#x30FC;&#x30C8;</h4>
<pre class="language-"><code class="lang-shell"><span class="token comment"># OR&#x6761;&#x4EF6;&#x3067;&#x5927;&#x6587;&#x5B57;&#x5C0F;&#x6587;&#x5B57;&#x3092;&#x8003;&#x616E;&#x3057;&#xFF0C;&#x300C;XXXXX:&#x300D;&#x3092;&#x691C;&#x51FA;</span>
?<span class="token string">&apos;WARNING:&apos;</span> ?<span class="token string">&apos;Warning:&apos;</span> ?<span class="token string">&apos;ERROR:&apos;</span> ?<span class="token string">&apos;Error:&apos;</span> ?<span class="token string">&apos;CRITICAL:&apos;</span> ?<span class="token string">&apos;Critical:&apos;</span> ?<span class="token string">&apos;EMERGENCY:&apos;</span> ?<span class="token string">&apos;Emergency:&apos;</span> ?<span class="token string">&apos;ALERT:&apos;</span> ?<span class="token string">&apos;Alert:&apos;</span>
</code></pre>
<pre class="language-"><code class="lang-shell"><span class="token comment"># OR&#x6761;&#x4EF6;&#x3067;&#x5927;&#x6587;&#x5B57;&#x5C0F;&#x6587;&#x5B57;&#x3092;&#x8003;&#x616E;&#x3057;&#xFF0C;&#x300C;XXXXX message&#x300D;&#x3092;&#x691C;&#x51FA;</span>
?<span class="token string">&apos;WARNING message&apos;</span> ?<span class="token string">&apos;Warning message&apos;</span> ?<span class="token string">&apos;ERROR message&apos;</span> ?<span class="token string">&apos;Error message&apos;</span> ?<span class="token string">&apos;CRITICAL message&apos;</span> ?<span class="token string">&apos;Critical message&apos;</span> ?<span class="token string">&apos;EMERGENCY message&apos;</span> ?<span class="token string">&apos;Emergency message&apos;</span> ?<span class="token string">&apos;ALERT message&apos;</span> ?<span class="token string">&apos;Alert message&apos;</span>
</code></pre>
<h4 id="&#x30FB;&#x540D;&#x524D;&#x7A7A;&#x9593;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF0C;&#x30C7;&#x30A3;&#x30E1;&#x30F3;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x306F;">&#x30FB;&#x540D;&#x524D;&#x7A7A;&#x9593;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF0C;&#x30C7;&#x30A3;&#x30E1;&#x30F3;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x306F;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x540D;&#x524D;&#x7A7A;&#x9593;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF0C;&#x30C7;&#x30A3;&#x30E1;&#x30F3;&#x30B7;&#x30E7;&#x30F3;.png" alt="&#x540D;&#x524D;&#x7A7A;&#x9593;&#xFF0C;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF0C;&#x30C7;&#x30A3;&#x30E1;&#x30F3;&#x30B7;&#x30E7;&#x30F3;"></p>
<h4 id="&#x30FB;cloudwatch-logs&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x8A2D;&#x5B9A;&#xFF08;&#x975E;&#x63A8;&#x5968;&#xFF09;">&#x30FB;CloudWatch Logs&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x8A2D;&#x5B9A;&#xFF08;&#x975E;&#x63A8;&#x5968;&#xFF09;</h4>
<p>2020/10/05&#x73FE;&#x5728;&#x306F;&#x975E;&#x63A8;&#x5968;&#x3067;&#xFF0C;CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3078;&#x306E;&#x8A2D;&#x5B9A;&#x306E;&#x79FB;&#x884C;&#x304C;&#x63A8;&#x5968;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>conf&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#xFF0C;EC2&#x5185;&#x306E;<code>etc</code>&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x4E0B;&#x306B;&#x8A2D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell"><span class="token comment">#############################</span>
<span class="token comment"># /var/awslogs/awscli.conf</span>
<span class="token comment">#############################</span>

<span class="token punctuation">[</span>plugins<span class="token punctuation">]</span>
cwlogs <span class="token operator">=</span> cwlogs
<span class="token punctuation">[</span>default<span class="token punctuation">]</span>
region <span class="token operator">=</span> ap-northeast-1
</code></pre>
<p>OS&#xFF0C;&#x30DF;&#x30C9;&#x30EB;&#x30A6;&#x30A7;&#x30A2;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#xFF0C;&#x306E;&#x5404;&#x5C64;&#x3067;&#x30ED;&#x30B0;&#x3092;&#x53CE;&#x96C6;&#x3059;&#x308B;&#x306E;&#x304C;&#x3088;&#x3044;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-shell"><span class="token comment">#############################</span>
<span class="token comment"># /var/awslogs/awslogs.conf</span>
<span class="token comment">#############################</span>

<span class="token comment"># ------------------------------------------</span>
<span class="token comment"># CentOS CloudWatch Logs</span>
<span class="token comment"># ------------------------------------------</span>
<span class="token punctuation">[</span>/var/log/messages<span class="token punctuation">]</span>

<span class="token comment"># &#x30BF;&#x30A4;&#x30E0;&#x30B9;&#x30BF;&#x30F3;&#x30D7;</span>
<span class="token comment">#&#xFF08;&#x4F8B;&#xFF09;Jan 1 00:00:00</span>
datetime_format <span class="token operator">=</span> %b %d %H:%M:%S
<span class="token comment">#&#xFF08;&#x4F8B;&#xFF09;2020-01-01 00:00:00</span>
<span class="token comment"># datetime_format = %Y-%m-%d %H:%M:%S</span>

<span class="token comment"># &#x53CE;&#x96C6;&#x3057;&#x305F;&#x3044;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#xFF0E;&#x3053;&#x3053;&#x3067;&#x306F;&#xFF0C;CentOS&#x306E;&#x30ED;&#x30B0;&#x3092;&#x6307;&#x5B9A;&#xFF0E;</span>
<span class="token function">file</span> <span class="token operator">=</span> /var/log/messages

<span class="token comment"># &#x8981;&#x52C9;&#x5F37;</span>
buffer_duration <span class="token operator">=</span> <span class="token number">5000</span>
initial_position <span class="token operator">=</span> start_of_file

<span class="token comment"># &#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;ID</span>
log_stream_name <span class="token operator">=</span> <span class="token punctuation">{</span>instance_id<span class="token punctuation">}</span>

<span class="token comment"># AWS&#x4E0A;&#x3067;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x540D;</span>
log_group_name <span class="token operator">=</span> /var/log/messages

<span class="token comment"># ------------------------------------------</span>
<span class="token comment"># Nginx CloudWatch Logs</span>
<span class="token comment"># ------------------------------------------</span>
<span class="token punctuation">[</span>/var/log/nginx/error.log<span class="token punctuation">]</span>
<span class="token function">file</span>             <span class="token operator">=</span> /var/log/nginx/error.log
buffer_duration  <span class="token operator">=</span> <span class="token number">5000</span>
log_stream_name  <span class="token operator">=</span> <span class="token punctuation">{</span>instance_id<span class="token punctuation">}</span>
initial_position <span class="token operator">=</span> start_of_file
log_group_name   <span class="token operator">=</span> /var/log/nginx/error_log.production

<span class="token comment"># ------------------------------------------</span>
<span class="token comment"># Application CloudWatch Logs</span>
<span class="token comment"># ------------------------------------------</span>
<span class="token punctuation">[</span>/var/www/project/app/storage/logs/laravel.log<span class="token punctuation">]</span>
<span class="token function">file</span>             <span class="token operator">=</span> /var/www/project/app/storage/logs/laravel.log
buffer_duration  <span class="token operator">=</span> <span class="token number">5000</span>
log_stream_name  <span class="token operator">=</span> <span class="token punctuation">{</span>instance_id<span class="token punctuation">}</span>
initial_position <span class="token operator">=</span> start_of_file
log_group_name   <span class="token operator">=</span> /var/www/project/app/storage/logs/laravel_log.production
</code></pre>
<p>&#x8A2D;&#x5B9A;&#x5F8C;&#xFF0C;<code>awslogs</code>&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#x30D7;&#x30ED;&#x30BB;&#x30B9;&#x3092;&#x8D77;&#x52D5;&#x3059;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-shell"><span class="token comment"># CloudWatch&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x518D;&#x8D77;&#x52D5;</span>
<span class="token comment"># &#x6CE8;&#x610F;: restart&#x3060;&#x3068;CloudWatch&#x306B;&#x53CD;&#x6620;&#x3055;&#x308C;&#x306A;&#x3044;&#x6642;&#x304C;&#x3042;&#x308B;&#xFF0E;</span>
$ <span class="token function">service</span> awslogs restart

<span class="token comment"># &#x3082;&#x3057;&#x304F;&#x306F;</span>
$ <span class="token function">service</span> awslogs stop
$ <span class="token function">service</span> awslogs start

<span class="token comment"># &#x30ED;&#x30B0;&#x304C;&#x65B0;&#x3057;&#x304F;&#x751F;&#x6210;&#x3055;&#x308C;&#x306A;&#x3044;&#x3068;&#x5909;&#x66F4;&#x304C;&#x9069;&#x7528;&#x3055;&#x308C;&#x306A;&#x3044;&#x3053;&#x3068;&#x304C;&#x3042;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306B;&#x9069;&#x5F53;&#x306A;&#x6587;&#x5B57;&#x5217;&#x884C;&#x3092;&#x5897;&#x3084;&#x3057;&#x3066;&#x307F;&#x308B;&#xFF0E;</span>
</code></pre>
<p><br></p>
<h3 id="cli">CLI</h3>
<h4 id="&#x30FB;cloudwatch&#x30A2;&#x30E9;&#x30FC;&#x30E0;&#x306E;&#x72B6;&#x614B;&#x5909;&#x66F4;">&#x30FB;CloudWatch&#x30A2;&#x30E9;&#x30FC;&#x30E0;&#x306E;&#x72B6;&#x614B;&#x5909;&#x66F4;</h4>
<p><strong>&#xFF0A;&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-shell"><span class="token comment"># CloudWatch&#x30A2;&#x30E9;&#x30FC;&#x30E0;&#x306E;&#x72B6;&#x614B;&#x3092;&#x5909;&#x66F4;&#x3059;&#x308B;&#xFF0E;</span>
aws cloudwatch set-alarm-state --alarm-name <span class="token string">&apos;Alarm&#x540D;&apos;</span> --state-value ALARM --state-reason <span class="token string">&apos;&#x30A2;&#x30E9;&#x30FC;&#x30E0;&#x6587;&#x8A00;&apos;</span>
</code></pre>
<p><br></p>
<h2 id="08-02-&#x7BA1;&#x7406;&#xFF0C;&#x30AC;&#x30D0;&#x30CA;&#x30F3;&#x30B9;&#xFF5C;&#x305D;&#x306E;&#x4ED6;">08-02. &#x7BA1;&#x7406;&#xFF0C;&#x30AC;&#x30D0;&#x30CA;&#x30F3;&#x30B9;&#xFF5C;&#x305D;&#x306E;&#x4ED6;</h2>
<h3 id="auto-scaling">Auto Scaling</h3>
<h4 id="&#x30FB;&#x8D77;&#x52D5;&#x8A2D;&#x5B9A;">&#x30FB;&#x8D77;&#x52D5;&#x8A2D;&#x5B9A;</h4>
<p>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x306E;&#x5BFE;&#x8C61;&#x3068;&#x306A;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;">&#x30FB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</h4>
<p>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x306E;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x69CB;&#x6210;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;&#x5404;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3067;&#x6700;&#x5927;&#x6700;&#x5C0F;&#x5FC5;&#x8981;&#x6570;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Auto-scaling.png" alt="Auto-scaling"></p>
<p>&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x306E;&#x65B9;&#x6CD5;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#xFF0E;&#x81EA;&#x52D5;&#x6C34;&#x5E73;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B7;&#x30F3;&#x30D7;&#x30EB;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306B;&#x5358;&#x4E00;&#x306E;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#xFF0C;&#x305D;&#x308C;&#x306B;&#x5FDC;&#x3058;&#x3066;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x884C;&#x3046;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>&#x30B9;&#x30C6;&#x30C3;&#x30D7;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x306B;&#x6BB5;&#x968E;&#x7684;&#x306A;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#xFF0C;&#x305D;&#x308C;&#x306B;&#x5FDC;&#x3058;&#x3066;&#x6BB5;&#x968E;&#x7684;&#x306B;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#xFF08;&#x4F8B;&#xFF09;CPU&#x5E73;&#x5747;&#x4F7F;&#x7528;&#x7387;&#x306B;&#x6BB5;&#x968E;&#x7684;&#x306A;&#x95BE;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;<br>&#x30FB;40%&#x306E;&#x6642;&#x306B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x304C;&#xFF11;&#x3064;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;<br>&#x30FB;70%&#x306E;&#x6642;&#x306B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#xFF12;&#x3064;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;<br>&#x30FB;90%&#x306E;&#x6642;&#x306B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#xFF13;&#x3064;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;</td>
</tr>
<tr>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x8FFD;&#x8DE1;&#x30B9;&#x30B1;&#x30FC;&#x30EA;&#x30F3;&#x30B0;</td>
<td>&#x7279;&#x5B9A;&#x306E;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#xFF08;CPU&#x5E73;&#x5747;&#x4F7F;&#x7528;&#x7387;&#x3084;Memory&#x5E73;&#x5747;&#x4F7F;&#x7528;&#x7387;&#xFF09;&#x306B;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3057;&#xFF0C;&#x305D;&#x308C;&#x306B;&#x53CE;&#x675F;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A4;&#x30F3;&#x3068;&#x30B9;&#x30B1;&#x30FC;&#x30EB;&#x30A2;&#x30A6;&#x30C8;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x5024;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x4F8B;<br>&#x30FB;ECS&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x6570;<br>&#x30FB;RDS&#x30AF;&#x30E9;&#x30B9;&#x30BF;&#x30FC;&#x306E;Aurora&#x306E;&#x30EA;&#x30FC;&#x30C9;&#x30EC;&#x30D7;&#x30EA;&#x30AB;&#x6570;<br>&#x30FB;Lambda&#x306E;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30C8;&#x540C;&#x6642;&#x5B9F;&#x884C;&#x6570;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="chatbot">Chatbot</h3>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/Chatbot&#x3068;SNS&#x306E;&#x9023;&#x643A;.png" alt="Chatbot&#x3068;SNS&#x306E;&#x9023;&#x643A;"></p>
<p>SNS&#x3092;&#x7D4C;&#x7531;&#x3057;&#x3066;&#xFF0C;CloudWatch&#x304B;&#x3089;&#x306E;&#x901A;&#x77E5;&#x3092;&#x30C1;&#x30E3;&#x30C3;&#x30C8;&#x30A2;&#x30D7;&#x30EA;&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#xFF0E;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x3092;Slack&#x3068;&#x3057;&#x305F;&#x5834;&#x5408;&#x306E;&#x8A2D;&#x5B9A;&#x3092;&#x4EE5;&#x4E0B;&#x306B;&#x793A;&#x3059;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Slack&#x30C1;&#x30E3;&#x30F3;&#x30CD;&#x30EB;</td>
<td>&#x901A;&#x77E5;&#x306E;&#x8EE2;&#x9001;&#x5148;&#x306E;Slack&#x30C1;&#x30E3;&#x30F3;&#x30CD;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x8A31;&#x53EF;</td>
<td>SNS&#x3092;&#x4ECB;&#x3057;&#x3066;&#xFF0C;CloudWatch&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>SNS&#x30C8;&#x30D4;&#x30C3;&#x30AF;</td>
<td>CloudWatch&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x6642;&#x7D4C;&#x7531;&#x3059;&#x308B;&#xFF0C;SNS&#x30C8;&#x30D4;&#x30C3;&#x30AF;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30B5;&#x30DD;&#x30FC;&#x30C8;&#x5BFE;&#x8C61;&#x306E;&#x30A4;&#x30D9;&#x30F3;&#x30C8;">&#x30FB;&#x30B5;&#x30DD;&#x30FC;&#x30C8;&#x5BFE;&#x8C61;&#x306E;&#x30A4;&#x30D9;&#x30F3;&#x30C8;</h4>
<p>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#xFF0C;EventBridge&#xFF08;CloudWatchEvents&#xFF09;&#x3092;&#x7528;&#x3044;&#x3066;&#xFF0C;Chatbot&#x306B;&#x8EE2;&#x9001;&#x3067;&#x304D;&#x308B;&#x304C;&#xFF0C;&#x5168;&#x3066;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x30B5;&#x30DD;&#x30FC;&#x30C8;&#x3057;&#x3066;&#x3044;&#x308B;&#x308F;&#x3051;&#x3067;&#x306F;&#x306A;&#x3044;&#xFF0E;&#x30B5;&#x30DD;&#x30FC;&#x30C8;&#x5BFE;&#x8C61;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/chatbot/latest/adminguide/related-services.html#cloudwatchevents" target="_blank">https://docs.aws.amazon.com/ja_jp/chatbot/latest/adminguide/related-services.html#cloudwatchevents</a></p>
<p><br></p>
<h3 id="cloudtrail">CloudTrail</h3>
<h4 id="&#x30FB;cloudtrail&#x3068;&#x306F;">&#x30FB;CloudTrail&#x3068;&#x306F;</h4>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x3088;&#x308B;&#x64CD;&#x4F5C;&#x3084;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x306E;&#x5C65;&#x6B74;&#x3092;&#x8A18;&#x9332;&#x3057;&#xFF0C;&#x30ED;&#x30B0;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3068;&#x3057;&#x3066;S3&#x306B;&#x8EE2;&#x9001;&#x3059;&#x308B;&#xFF0E;CloudWatch&#x3068;&#x9023;&#x643A;&#x3059;&#x308B;&#x3053;&#x3068;&#x3082;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/CloudTrail&#x3068;&#x306F;.jpeg" alt="CloudTrail&#x3068;&#x306F;"></p>
<p><br></p>
<h2 id="09-&#x958B;&#x767A;&#x8005;&#x7528;&#x30C4;&#x30FC;&#x30EB;&#xFF5C;code&#x7CFB;&#x30B5;&#x30FC;&#x30D3;&#x30B9;">09. &#x958B;&#x767A;&#x8005;&#x7528;&#x30C4;&#x30FC;&#x30EB;&#xFF5C;Code&#x7CFB;&#x30B5;&#x30FC;&#x30D3;&#x30B9;</h2>
<h3 id="codepipeline">CodePipeline</h3>
<h4 id="&#x30FB;codepipeline&#x3068;&#x306F;">&#x30FB;CodePipeline&#x3068;&#x306F;</h4>
<p>CodeCommit&#xFF0C;CodeBuild&#xFF0C;CodeDeploy&#x3092;&#x9023;&#x643A;&#x3055;&#x305B;&#x3066;&#xFF0C;AWS&#x306B;&#x5BFE;&#x3059;&#x308B;CI/CD&#x74B0;&#x5883;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#xFF0E;CodeCommit&#x306F;&#xFF0C;&#x4ED6;&#x306E;&#x30BD;&#x30FC;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x7BA1;&#x7406;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3067;&#x4EE3;&#x7528;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/code-pipeline.png" alt="code-pipeline"></p>
<h4 id="&#x30FB;codecommit&#x3068;&#x306F;">&#x30FB;CodeCommit&#x3068;&#x306F;</h4>
<p>&#x30BD;&#x30FC;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x3092;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x7BA1;&#x7406;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;codebuild&#x3068;&#x306F;">&#x30FB;CodeBuild&#x3068;&#x306F;</h4>
<p>&#x30D3;&#x30EB;&#x30C9;&#x30D5;&#x30A7;&#x30FC;&#x30BA;&#x3068;&#x30C6;&#x30B9;&#x30C8;&#x30D5;&#x30A7;&#x30FC;&#x30BA;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;codedeploy&#x3068;&#x306F;">&#x30FB;CodeDeploy&#x3068;&#x306F;</h4>
<p>&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30D5;&#x30A7;&#x30FC;&#x30BA;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="codebuild">CodeBuild</h3>
<h4 id="&#x30FB;buildspecyml&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;<code>buildspec.yml</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>CodeBuild&#x306E;&#x8A2D;&#x5B9A;&#x3092;&#x884C;&#x3046;&#xFF0E;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x76F4;&#x4E0B;&#x306B;&#x914D;&#x7F6E;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/codebuild/latest/userguide/build-spec-ref.html" target="_blank">https://docs.aws.amazon.com/ja_jp/codebuild/latest/userguide/build-spec-ref.html</a></p>
<pre class="language-"><code class="lang-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">0.2</span>

<span class="token key atrule">phases</span><span class="token punctuation">:</span>
  <span class="token key atrule">install</span><span class="token punctuation">:</span>
    <span class="token key atrule">runtime-versions</span><span class="token punctuation">:</span>
      <span class="token key atrule">docker</span><span class="token punctuation">:</span> <span class="token number">18</span>
  <span class="token key atrule">preBuild</span><span class="token punctuation">:</span>
    <span class="token key atrule">commands</span><span class="token punctuation">:</span>
      <span class="token comment"># ECR&#x306B;&#x30ED;&#x30B0;&#x30A4;&#x30F3;</span>
      <span class="token punctuation">-</span> $(aws ecr get<span class="token punctuation">-</span>login <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>include<span class="token punctuation">-</span>email <span class="token punctuation">-</span><span class="token punctuation">-</span>region $<span class="token punctuation">{</span>AWS_DEFAULT_REGION<span class="token punctuation">}</span>)
      <span class="token comment"># &#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x30BF;&#x30B0;&#x306F;GitHub&#x30B3;&#x30DF;&#x30C3;&#x30C8;&#x306E;&#x30CF;&#x30C3;&#x30B7;&#x30E5;&#x5024;&#x3092;&#x4F7F;&#x7528;</span>
      <span class="token punctuation">-</span> IMAGE_TAG=$CODEBUILD_RESOLVED_SOURCE_VERSION
      <span class="token comment"># ECR&#x306E;URL&#x3092;CodeBuild&#x306E;&#x74B0;&#x5883;&#x5909;&#x6570;&#x304B;&#x3089;&#x4F5C;&#x6210;</span>
      <span class="token punctuation">-</span> REPOSITORY_URI=$<span class="token punctuation">{</span>AWS_ACCOUNT_ID<span class="token punctuation">}</span>.dkr.ecr.$<span class="token punctuation">{</span>AWS_DEFAULT_REGION<span class="token punctuation">}</span>.amazonaws.com/$<span class="token punctuation">{</span>IMAGE_REPO_NAME<span class="token punctuation">}</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">commands</span><span class="token punctuation">:</span>
      <span class="token comment"># &#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x3057;&#x3066;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x30D3;&#x30EB;&#x30C9;</span>
      <span class="token punctuation">-</span> docker build <span class="token punctuation">-</span>t REPOSITORY_URI<span class="token punctuation">:</span>$IMAGE_TAG <span class="token punctuation">-</span>f Dockerfile .
  <span class="token key atrule">postBuild</span><span class="token punctuation">:</span>
    <span class="token key atrule">commands</span><span class="token punctuation">:</span>
      <span class="token comment"># ECR&#x306B;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x30D7;&#x30C3;&#x30B7;&#x30E5;</span>
      <span class="token punctuation">-</span> docker push $REPOSITORY_URI<span class="token punctuation">:</span>$IMAGE_TAG
      <span class="token comment"># ECR&#x306B;&#x3042;&#x308B;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x5BFE;&#x8C61;&#x306E;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x60C5;&#x5831;&#xFF08;imageDetail.json&#xFF09;</span>
      <span class="token punctuation">-</span> printf &apos;<span class="token punctuation">{</span>&apos;Version&apos;<span class="token punctuation">:</span><span class="token string">&apos;1.0&apos;</span><span class="token punctuation">,</span>&apos;ImageURI&apos;<span class="token punctuation">:</span><span class="token string">&apos;%s&apos;</span><span class="token punctuation">}</span>&apos; $REPOSITORY_URI<span class="token punctuation">:</span>$IMAGE_TAG <span class="token punctuation">&gt;</span> imageDetail.json

<span class="token comment"># &#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x5BFE;&#x8C61;&#x3068;&#x3059;&#x308B;&#x30D3;&#x30EB;&#x30C9;&#x306E;&#x30A2;&#x30FC;&#x30C6;&#x30A3;&#x30D5;&#x30A1;&#x30AF;&#x30C8;    </span>
<span class="token key atrule">artifacts</span><span class="token punctuation">:</span>
  <span class="token key atrule">files</span><span class="token punctuation">:</span> imageDetail.json
</code></pre>
<h4 id="&#x30FB;&#x30D3;&#x30EB;&#x30C9;&#x6642;&#x306B;&#x4F5C;&#x6210;&#x3059;&#x3079;&#x304D;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;&#x30D3;&#x30EB;&#x30C9;&#x6642;&#x306B;&#x4F5C;&#x6210;&#x3059;&#x3079;&#x304D;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x8A2D;&#x5B9A;&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x5BFE;&#x8C61;&#x3068;&#x306A;&#x308B;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x6A19;&#x6E96;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x5834;&#x5408;&#x306B;&#x306F;<code>imagedefinitions.json</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#xFF0C;&#x307E;&#x305F;&#x306F;Blue/Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;&#x306E;&#x5834;&#x5408;&#x306B;&#x306F;<code>imageDetail.json</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x7528;&#x610F;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306F;&#x30EA;&#x30DD;&#x30B8;&#x30C8;&#x30EA;&#x306B;&#x4E8B;&#x524D;&#x306B;&#x914D;&#x7F6E;&#x3059;&#x308B;&#x306E;&#x3067;&#x306F;&#x306A;&#x304F;&#xFF0C;&#x30D3;&#x30EB;&#x30C9;&#x6642;&#x306B;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x4F5C;&#x6210;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x305F;&#x65B9;&#x304C;&#x3088;&#x3044;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/ja_jp/codepipeline/latest/userguide/file-reference.html" target="_blank">https://docs.aws.amazon.com/ja_jp/codepipeline/latest/userguide/file-reference.html</a></p>
<p><br></p>
<h3 id="codedeploy&#x306B;&#x3088;&#x308B;bluegreen&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;">CodeDeploy&#x306B;&#x3088;&#x308B;Blue/Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;</h3>
<h4 id="&#x30FB;bluegreen&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;&#x3068;&#x306F;">&#x30FB;Blue/Green&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;&#x3068;&#x306F;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/blue-green-deployment.jpeg" alt="blue-green-deployment"></p>
<p>&#x4EE5;&#x4E0B;&#x306E;&#x624B;&#x9806;&#x3067;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3092;&#x884C;&#x3046;&#xFF0E;</p>
<ol>
<li>ECR&#x306E;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x66F4;&#x65B0;</li>
<li>&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x306E;&#x65B0;&#x3057;&#x3044;&#x30EA;&#x30D3;&#x30B8;&#x30E7;&#x30F3;&#x3092;&#x69CB;&#x7BC9;&#xFF0E;</li>
<li>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x3092;&#x66F4;&#x65B0;&#xFF0E;</li>
<li>CodeDeploy&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x57FA;&#x306B;&#xFF0C;&#x73FE;&#x884C;&#x306E;&#x672C;&#x756A;&#x74B0;&#x5883;&#xFF08;Prod&#x30D6;&#x30EB;&#x30FC;&#xFF09;&#x306E;&#x30BF;&#x30B9;&#x30AF;&#x3068;&#x306F;&#x5225;&#x306B;&#xFF0C;&#x30C6;&#x30B9;&#x30C8;&#x74B0;&#x5883;&#xFF08;Test&#x30B0;&#x30EA;&#x30FC;&#x30F3;&#xFF09;&#x304C;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#x30FC;&#x306E;&#x63A5;&#x7D9A;&#x5148;&#x3092;&#xFF0C;&#x672C;&#x756A;&#x74B0;&#x5883;&#xFF08;Prod&#x30D6;&#x30EB;&#x30FC;&#xFF09;&#x306E;&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF08;Primary&#x30BF;&#x30FC;&#x30B2;&#x30C3;&#x30C8;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF09;&#x306B;&#x52A0;&#x3048;&#x3066;&#xFF0C;&#x30C6;&#x30B9;&#x30C8;&#x74B0;&#x5883;&#xFF08;Test&#x30B0;&#x30EA;&#x30FC;&#x30F3;&#xFF09;&#x306B;&#x3082;&#x5411;&#x3051;&#x308B;&#xFF0E;</li>
<li>&#x793E;&#x5185;&#x304B;&#x3089;&#x30C6;&#x30B9;&#x30C8;&#x74B0;&#x5883;&#xFF08;Test&#x30B0;&#x30EA;&#x30FC;&#x30F3;&#xFF09;&#x306E;ALB&#x306B;&#xFF0C;&#x7279;&#x5B9A;&#x306E;&#x30DD;&#x30FC;&#x30C8;&#x756A;&#x53F7;&#x3067;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3057;&#xFF0C;&#x52D5;&#x4F5C;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x52D5;&#x4F5C;&#x78BA;&#x8A8D;&#x3067;&#x554F;&#x984C;&#x306A;&#x3051;&#x308C;&#x3070;&#xFF0C;Console&#x753B;&#x9762;&#x304B;&#x3089;&#x306E;&#x5165;&#x529B;&#x3067;&#xFF0C;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#x30FC;&#x306E;&#x63A5;&#x7D9A;&#x5148;&#x3092;&#x30C6;&#x30B9;&#x30C8;&#x74B0;&#x5883;&#xFF08;Test&#x30B0;&#x30EA;&#x30FC;&#x30F3;&#xFF09;&#x306E;&#x307F;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</li>
<li>&#x30C6;&#x30B9;&#x30C8;&#x74B0;&#x5883;&#xFF08;Test&#x30B0;&#x30EA;&#x30FC;&#x30F3;&#xFF09;&#x304C;&#x65B0;&#x3057;&#x3044;&#x672C;&#x756A;&#x74B0;&#x5883;&#x3068;&#x3057;&#x3066;&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x516C;&#x958B;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
<li>&#x5143;&#x3005;&#x306E;&#x672C;&#x756A;&#x74B0;&#x5883;&#xFF08;Prod&#x30D6;&#x30EB;&#x30FC;&#xFF09;&#x306F;&#x524A;&#x9664;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
</ol>
<h4 id="&#x30FB;appspecyml&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;<code>appspec.yml</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>CodeDeploy&#x306E;&#x8A2D;&#x5B9A;&#x3092;&#x884C;&#x3046;&#xFF0E;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x76F4;&#x4E0B;&#x306B;&#x914D;&#x7F6E;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;&#x4ED5;&#x69D8;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x8907;&#x6570;&#x306E;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x3092;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x540D;&#x3092;<code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TASK_DEFINITION</span><span class="token punctuation">&gt;</span></span></code>&#x3068;&#x3059;&#x308B;&#x3068;&#xFF0C;&#x81EA;&#x52D5;&#x88DC;&#x5B8C;&#x3057;&#x3066;&#x304F;&#x308C;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.aws.amazon.com/codedeploy/latest/userguide/reference-appspec-file-structure-resources.html" target="_blank">https://docs.aws.amazon.com/codedeploy/latest/userguide/reference-appspec-file-structure-resources.html</a></p>
<pre class="language-"><code class="lang-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">0.0</span>

<span class="token key atrule">Resources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">TargetService</span><span class="token punctuation">:</span>
      <span class="token comment"># &#x4F7F;&#x7528;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;</span>
      <span class="token key atrule">Type</span><span class="token punctuation">:</span> AWS<span class="token punctuation">:</span><span class="token punctuation">:</span>ECS<span class="token punctuation">:</span><span class="token punctuation">:</span>Service
      <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x4F7F;&#x7528;&#x3059;&#x308B;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;</span>
        <span class="token key atrule">TaskDefinition</span><span class="token punctuation">:</span> <span class="token string">&apos;&lt;TASK_DEFINITION&gt;&apos;</span>
        <span class="token comment"># &#x4F7F;&#x7528;&#x3059;&#x308B;&#x30ED;&#x30FC;&#x30C9;&#x30D0;&#x30E9;&#x30F3;&#x30B5;&#x30FC;</span>
        <span class="token key atrule">LoadBalancerInfo</span><span class="token punctuation">:</span>
          <span class="token key atrule">ContainerName</span><span class="token punctuation">:</span> <span class="token string">&apos;&lt;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x540D;&gt;&apos;</span>
          <span class="token key atrule">ContainerPort</span><span class="token punctuation">:</span> <span class="token string">&apos;80&apos;</span>
        <span class="token key atrule">PlatformVersion</span><span class="token punctuation">:</span> <span class="token string">&apos;1.4.0&apos;</span>
</code></pre>
<h4 id="&#x30FB;taskdefjson&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;<code>taskdef.json</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x3055;&#x308C;&#x308B;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x3092;&#x5B9F;&#x88C5;&#x3057;&#xFF0C;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x76F4;&#x4E0B;&#x306B;&#x914D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;CodeDeploy&#x306F;&#xFF0C;CodeBuild&#x304B;&#x3089;&#x6E21;&#x3055;&#x308C;&#x305F;<code>imageDetail.json</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x691C;&#x77E5;&#x3057;&#xFF0C;ECR&#x304B;&#x3089;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x53D6;&#x5F97;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x6642;&#xFF0C;<code>taskdef.json</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x540D;&#x3092;<code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IMAGE1_NAME</span><span class="token punctuation">&gt;</span></span></code>&#x3068;&#x3057;&#x3066;&#x304A;&#x304F;&#x3068;&#xFF0C;ECR&#x304B;&#x3089;&#x53D6;&#x5F97;&#x3057;&#x305F;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x540D;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;&#x81EA;&#x52D5;&#x88DC;&#x5B8C;&#x3057;&#x3066;&#x304F;&#x308C;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;family&apos;<span class="token operator">:</span> &apos;&lt;&#x30BF;&#x30B9;&#x30AF;&#x5B9A;&#x7FA9;&#x540D;&gt;&apos;<span class="token punctuation">,</span>
  &apos;requiresCompatibilities&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    &apos;FARGATE&apos;
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  &apos;networkMode&apos;<span class="token operator">:</span> &apos;awsvpc&apos;<span class="token punctuation">,</span>
  &apos;taskRoleArn&apos;<span class="token operator">:</span> &apos;&lt;&#x30BF;&#x30B9;&#x30AF;&#x30ED;&#x30FC;&#x30EB;&#x306E;ARN&gt;&apos;<span class="token punctuation">,</span>
  &apos;executionRoleArn&apos;<span class="token operator">:</span> &apos;&lt;&#x30BF;&#x30B9;&#x30AF;&#x5B9F;&#x884C;&#x30ED;&#x30FC;&#x30EB;&#x306E;ARN&gt;&apos;<span class="token punctuation">,</span>
  &apos;cpu&apos;<span class="token operator">:</span> &apos;<span class="token number">512</span>&apos;<span class="token punctuation">,</span>
  &apos;memory&apos;<span class="token operator">:</span> &apos;<span class="token number">1024</span>&apos;<span class="token punctuation">,</span>
  &apos;containerDefinitions&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;name&apos;<span class="token operator">:</span> &apos;&lt;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x540D;&gt;&apos;<span class="token punctuation">,</span>
      &apos;image&apos;<span class="token operator">:</span> &apos;&lt;IMAGE1_NAME&gt;&apos;<span class="token punctuation">,</span>
      &apos;essential&apos;<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      &apos;portMappings&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          &apos;containerPort&apos;<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
          &apos;hostPort&apos;<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
          &apos;protocol&apos;<span class="token operator">:</span> &apos;tcp&apos;
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;secrets&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          &apos;name&apos;<span class="token operator">:</span> &apos;&lt;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x74B0;&#x5883;&#x5909;&#x6570;&#x540D;&gt;&apos;<span class="token punctuation">,</span>
          &apos;valueFrom&apos;<span class="token operator">:</span> &apos;&lt;SSM&#x306E;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x540D;&gt;&apos;
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          &apos;name&apos;<span class="token operator">:</span> &apos;DB_HOST&apos;<span class="token punctuation">,</span>
          &apos;valueFrom&apos;<span class="token operator">:</span> &apos;/ecs/DB_HOST&apos;
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          &apos;name&apos;<span class="token operator">:</span> &apos;DB_DATABASE&apos;<span class="token punctuation">,</span>
          &apos;valueFrom&apos;<span class="token operator">:</span> &apos;/ecs/DB_DATABASE&apos;
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          &apos;name&apos;<span class="token operator">:</span> &apos;DB_PASSWORD&apos;<span class="token punctuation">,</span>
          &apos;valueFrom&apos;<span class="token operator">:</span> &apos;/ecs/DB_PASSWORD&apos;
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          &apos;name&apos;<span class="token operator">:</span> &apos;DB_USERNAME&apos;<span class="token punctuation">,</span>
          &apos;valueFrom&apos;<span class="token operator">:</span> &apos;/ecs/DB_USERNAME&apos;
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          &apos;name&apos;<span class="token operator">:</span> &apos;REDIS_HOST&apos;<span class="token punctuation">,</span>
          &apos;valueFrom&apos;<span class="token operator">:</span> &apos;/ecs/REDIS_HOST&apos;
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          &apos;name&apos;<span class="token operator">:</span> &apos;REDIS_PASSWORD&apos;<span class="token punctuation">,</span>
          &apos;valueFrom&apos;<span class="token operator">:</span> &apos;/ecs/REDIS_PASSWORD&apos;
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          &apos;name&apos;<span class="token operator">:</span> &apos;REDIS_PORT&apos;<span class="token punctuation">,</span>
          &apos;valueFrom&apos;<span class="token operator">:</span> &apos;/ecs/REDIS_PORT&apos;
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      &apos;logConfiguration&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;logDriver&apos;<span class="token operator">:</span> &apos;awslogs&apos;<span class="token punctuation">,</span>
        &apos;options&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
          &apos;awslogs-group&apos;<span class="token operator">:</span> &apos;&lt;&#x30ED;&#x30B0;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x540D;&gt;&apos;<span class="token punctuation">,</span>
          &apos;awslogs-datetime-format&apos;<span class="token operator">:</span> &apos;\\<span class="token punctuation">[</span>%Y-%m-%d %H<span class="token operator">:</span>%M<span class="token operator">:</span>%S\\<span class="token punctuation">]</span>&apos;<span class="token punctuation">,</span>
          &apos;awslogs-region&apos;<span class="token operator">:</span> &apos;&lt;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&gt;&apos;<span class="token punctuation">,</span>
          &apos;awslogs-stream-prefix&apos;<span class="token operator">:</span> &apos;&lt;&#x30ED;&#x30B0;&#x30B9;&#x30C8;&#x30EA;&#x30FC;&#x30E0;&#x540D;&#x306E;&#x30D7;&#x30EC;&#x30D5;&#x30A3;&#x30AF;&#x30B9;&gt;&apos;
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h3 id="codedeploy&#x306B;&#x3088;&#x308B;&#x30A4;&#x30F3;&#x30D7;&#x30EC;&#x30FC;&#x30B9;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;">CodeDeploy&#x306B;&#x3088;&#x308B;&#x30A4;&#x30F3;&#x30D7;&#x30EC;&#x30FC;&#x30B9;&#x30C7;&#x30D7;&#x30ED;&#x30A4;&#x30E1;&#x30F3;&#x30C8;</h3>
<p><br></p>
<h2 id="10-&#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30FC;&#x30A8;&#x30F3;&#x30B2;&#x30FC;&#x30B8;&#x30E1;&#x30F3;&#x30C8;&#xFF5C;ses&#xFF1A;simple-email-service">10. &#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30FC;&#x30A8;&#x30F3;&#x30B2;&#x30FC;&#x30B8;&#x30E1;&#x30F3;&#x30C8;&#xFF5C;SES&#xFF1A;Simple Email Service</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/SES&#x3068;&#x306F;.png" alt="SES&#x3068;&#x306F;"></p>
<h4 id="&#x30FB;&#x4E3B;&#x8981;&#x9805;&#x76EE;">&#x30FB;&#x4E3B;&#x8981;&#x9805;&#x76EE;</h4>
<p>&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30E1;&#x30FC;&#x30EB;&#x30B5;&#x30FC;&#x30D0;&#x3068;&#x3057;&#x3066;&#x50CD;&#x304F;&#xFF0E;&#x30E1;&#x30FC;&#x30EB;&#x53D7;&#x4FE1;&#x3092;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Domain</td>
<td>SES&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x306F;&#xFF0C;&#x300C;<code>10 inbound-smtp.us-east-1.amazonaws.com</code>&#x300D;&#x3068;&#x3044;&#x3046;MX&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30BF;&#x30A4;&#x30D7;&#x306E;&#x5024;&#x304C;&#x7D10;&#x3065;&#x304F;&#xFF0E;</td>
</tr>
<tr>
<td>Email Addresses</td>
<td>&#x9001;&#x4FE1;&#x5148;&#x3068;&#x3057;&#x3066;&#x8A8D;&#x8A3C;&#x3059;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3068;AWS&#x304B;&#x3089;&#x30E1;&#x30FC;&#x30EB;&#x304C;&#x5C4A;&#x304F;&#x306E;&#x3067;&#xFF0C;&#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x30EA;&#x30F3;&#x30AF;&#x3092;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x3059;&#x308B;&#xFF0E;</td>
<td>Sandbox&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x6642;&#x3060;&#x3051;&#x6A5F;&#x80FD;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Sending Statistics</td>
<td>SES&#x3067;&#x53CE;&#x96C6;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x30E1;&#x30C8;&#x30EA;&#x30AF;&#x30B9;&#x3067;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td><code>Request Increased Sending Limits</code>&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x306B;&#x3066;&#xFF0C;Sandbox&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x89E3;&#x9664;&#x3092;&#x7533;&#x8ACB;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>SMTP Settings</td>
<td>SMTP-AUTH&#x306E;&#x63A5;&#x7D9A;&#x60C5;&#x5831;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306E;25&#x756A;&#x30DD;&#x30FC;&#x30C8;&#x306F;&#x9001;&#x4FE1;&#x5236;&#x9650;&#x304C;&#x3042;&#x308B;&#x305F;&#x3081;&#xFF0C;465&#x756A;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#xFF0C;SES&#x3082;&#x53D7;&#x4FE1;&#x3067;465&#x756A;&#x30DD;&#x30FC;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Rule Sets</td>
<td>&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>IP Address Filters</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;rule-sets&#x306E;&#x8A73;&#x7D30;">&#x30FB;Rule Sets&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Recipiet</td>
<td>&#x53D7;&#x4FE1;&#x3057;&#x305F;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3067;&#xFF0C;&#x4F55;&#x306E;&#x5B9B;&#x5148;&#x306E;&#x6642;&#x306B;&#x3053;&#x308C;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Actions</td>
<td>&#x53D7;&#x4FE1;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x305F;&#x5F8C;&#x306B;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x4ED5;&#x69D8;&#x4E0A;&#x306E;&#x5236;&#x7D04;">&#x4ED5;&#x69D8;&#x4E0A;&#x306E;&#x5236;&#x7D04;</h3>
<h4 id="&#x30FB;&#x69CB;&#x7BC9;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x5236;&#x7D04;">&#x30FB;&#x69CB;&#x7BC9;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;&#x5236;&#x7D04;</h4>
<p>SES&#x306F;&#x9023;&#x643A;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3068;&#x540C;&#x3058;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306B;&#x69CB;&#x7BC9;&#x3057;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x3044;&#xFF0E;</p>
<h4 id="&#x30FB;sandbox&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x89E3;&#x9664;">&#x30FB;Sandbox&#x30E2;&#x30FC;&#x30C9;&#x306E;&#x89E3;&#x9664;</h4>
<p>SES&#x306F;&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x3067;&#x306F;Sandbox&#x30E2;&#x30FC;&#x30C9;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#xFF0E;Sandbox&#x30E2;&#x30FC;&#x30C9;&#x3067;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x5236;&#x9650;&#x304C;&#x304B;&#x304B;&#x3063;&#x3066;&#x304A;&#x308A;&#xFF0E;&#x30B5;&#x30DD;&#x30FC;&#x30C8;&#x30BB;&#x30F3;&#x30BF;&#x30FC;&#x306B;&#x89E3;&#x9664;&#x7533;&#x8ACB;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x5236;&#x9650;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x9001;&#x4FE1;&#x5236;&#x9650;</td>
<td>SES&#x3067;&#x8A8D;&#x8A3C;&#x3057;&#x305F;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x307F;&#x306B;&#x9001;&#x4FE1;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x53D7;&#x4FE1;&#x5236;&#x9650;</td>
<td>1&#x65E5;&#x306B;200&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x307F;&#x53D7;&#x4FE1;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="smtp-auth">SMTP-AUTH</h3>
<h4 id="&#x30FB;aws&#x306B;&#x304A;&#x3051;&#x308B;smtp-auth&#x306E;&#x4ED5;&#x7D44;&#x307F;">&#x30FB;AWS&#x306B;&#x304A;&#x3051;&#x308B;SMTP-AUTH&#x306E;&#x4ED5;&#x7D44;&#x307F;</h4>
<p>&#x4E00;&#x822C;&#x7684;&#x306A;SMTP-AUTH&#x3067;&#x306F;&#xFF0C;&#x30AF;&#x30E9;&#x30A4;&#x30A2;&#x30F3;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#x306E;&#x8A8D;&#x8A3C;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;&#x540C;&#x69D8;&#x306B;&#x3057;&#x3066;&#xFF0C;AWS&#x306B;&#x304A;&#x3044;&#x3066;&#x3082;&#x3053;&#x308C;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308A;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x7528;&#x3044;&#x3066;&#x3053;&#x308C;&#x3092;&#x5B9F;&#x73FE;&#x3059;&#x308B;&#xFF0E;&#x9001;&#x4FE1;&#x5143;&#x3068;&#x306A;&#x308B;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x7D10;&#x4ED8;&#x3051;&#xFF0C;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;SES&#x3092;&#x4ECB;&#x3057;&#x3066;&#x30E1;&#x30FC;&#x30EB;&#x3092;&#x9001;&#x4FE1;&#x3059;&#x308B;&#x6642;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x3082;&#x3064;&#x30E6;&#x30FC;&#x30B6;&#x540D;&#x3068;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x3092;&#x8A8D;&#x8A3C;&#x306B;&#x7528;&#x3044;&#x308B;&#xFF0E;&#x30E6;&#x30FC;&#x30B6;&#x540D;&#x3068;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x306F;&#x5F8C;&#x304B;&#x3089;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x306A;&#x3044;&#x305F;&#x3081;&#xFF0C;&#x30E1;&#x30E2;&#x3057;&#x3066;&#x304A;&#x304F;&#x3053;&#x3068;&#xFF0E;SMTP-AUTH&#x306E;&#x4ED5;&#x7D44;&#x307F;&#x306B;&#x3064;&#x3044;&#x3066;&#x306F;&#xFF0C;&#x5225;&#x30CE;&#x30FC;&#x30C8;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p><br></p>
<h2 id="11-&#x30D3;&#x30B8;&#x30CD;&#x30B9;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;">11. &#x30D3;&#x30B8;&#x30CD;&#x30B9;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;</h2>
<h3 id="workmail">WorkMail</h3>
<h4 id="&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x30FB;&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h4>
<p>AWS&#x304B;&#x3089;&#x63D0;&#x4F9B;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;Gmail&#xFF0C;&#x30B5;&#x30F3;&#x30C0;&#x30FC;&#x30D0;&#x30FC;&#x30C9;&#xFF0C;Yahoo&#x30E1;&#x30FC;&#x30EB;&#x306A;&#x3069;&#x3068;&#x540C;&#x985E;&#x306E;&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Users</td>
<td>WorkMail&#x3067;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Domains</td>
<td>&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td><code>@{&#x7D44;&#x7E54;&#x540D;}.awsapps.com</code>&#x3092;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3068;&#x3057;&#x3066;&#x3082;&#x3089;&#x3048;&#x308B;&#xFF0E;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306E;&#x691C;&#x8A3C;&#x304C;&#x5B8C;&#x4E86;&#x3057;&#x305F;&#x72EC;&#x81EA;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x3082;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Access Controle rules</td>
<td>&#x53D7;&#x4FE1;&#x3059;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#xFF0C;&#x53D7;&#x4FE1;&#x3092;&#x906E;&#x65AD;&#x3059;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#xFF0C;&#x306E;&#x6761;&#x4EF6;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="12-&#x6697;&#x53F7;&#x5316;&#x3068;pki&#xFF5C;certificate-manager">12. &#x6697;&#x53F7;&#x5316;&#x3068;PKI&#xFF5C;Certificate Manager</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;</td>
<td>&#x8A8D;&#x8A3C;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3059;&#x308B;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x691C;&#x8A3C;&#x306E;&#x65B9;&#x6CD5;</td>
<td>DNS&#x691C;&#x8A3C;&#x304B;Email&#x691C;&#x8A3C;&#x304B;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E; </td>
</tr>
</tbody>
</table>
<h3 id="&#x8A8D;&#x8A3C;&#x5C40;">&#x8A8D;&#x8A3C;&#x5C40;</h3>
<p>&#x8A8D;&#x8A3C;&#x5C40;&#x3067;&#x3042;&#x308B;ATS&#x306B;&#x3088;&#x3063;&#x3066;&#x8A8D;&#x8A3C;&#x3055;&#x308C;&#x305F;SSL&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x7BA1;&#x7406;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x81EA;&#x793E;&#x306E;&#x4E2D;&#x9593;&#x8A8D;&#x8A3C;&#x5C40;&#x540D;</th>
<th>&#x30EB;&#x30FC;&#x30C8;&#x8A8D;&#x8A3C;&#x5C40;&#x540D;</th>
</tr>
</thead>
<tbody>
<tr>
<td>ATS&#xFF1A;Amazon Trust Services</td>
<td>Starfield&#x793E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x306E;&#x627F;&#x8A8D;&#x65B9;&#x6CD5;">&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x306E;&#x627F;&#x8A8D;&#x65B9;&#x6CD5;</h3>
<h4 id="&#x30FB;dns&#x691C;&#x8A3C;">&#x30FB;DNS&#x691C;&#x8A3C;</h4>
<p>CNAME&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x3092;&#x7528;&#x3044;&#x3066;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306E;&#x6240;&#x6709;&#x8005;&#x3067;&#x3042;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A3C;&#x660E;&#x3059;&#x308B;&#x65B9;&#x6CD5;&#xFF0E;ACM&#x306B;&#x3088;&#x3063;&#x3066;&#x751F;&#x6210;&#x3055;&#x308C;&#x305F;CNAME&#x30EC;&#x30B3;&#x30FC;&#x30C9;&#x30E9;&#x30F3;&#x30C0;&#x30E0;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x304C;&#x63D0;&#x4F9B;&#x3055;&#x308C;&#x308B;&#x306E;&#x3067;&#xFF0C;&#x3053;&#x308C;&#x3092;Route53&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x3066;&#x304A;&#x3051;&#x3070;&#xFF0C;ACM&#x304C;&#x3053;&#x308C;&#x3092;&#x691C;&#x8A3C;&#x3057;&#xFF0C;&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x767A;&#x884C;&#x3057;&#x3066;&#x304F;&#x308C;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="&#x8A3C;&#x660E;&#x66F8;">&#x8A3C;&#x660E;&#x66F8;</h3>
<h4 id="&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x8A31;&#x53EF;&#x3059;&#x308B;&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x5B9A;&#x7FA9;&#x3057;&#x305F;&#x30EB;&#x30FC;&#x30EB;&#x3053;&#x3068;&#xFF0E;SSL/TLS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x8A31;&#x53EF;&#x3057;&#x3066;&#x304A;&#x308A;&#xFF0C;&#x5BFE;&#x5FDC;&#x3067;&#x304D;&#x308B;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x304C;&#x7570;&#x306A;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x304C;&#x305D;&#x306E;&#x30D0;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x306E;SSL/TLS&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x308B;&#x304B;&#x3092;&#x8A8D;&#x8B58;&#x3057;&#x3066;&#x304A;&#x304F;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center">Policy-2016-08</th>
<th style="text-align:center">Policy-TLS-1-1</th>
<th style="text-align:center">Policy-TLS-1-2</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Protocol-TLSv1</strong></td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x2715;</td>
<td style="text-align:center">&#x2715;</td>
</tr>
<tr>
<td><strong>Protocol-TLSv1.1</strong></td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x2715;</td>
</tr>
<tr>
<td><strong>Protocol-TLSv1.2</strong></td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x3007;</td>
<td style="text-align:center">&#x3007;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;ssl&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x7A2E;&#x985E;">&#x30FB;SSL&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x7A2E;&#x985E;</h4>
<p>DNS&#x691C;&#x8A3C;&#x307E;&#x305F;&#x306F;E&#x30E1;&#x30FC;&#x30EB;&#x691C;&#x8A3C;&#x306B;&#x3088;&#x3063;&#x3066;&#xFF0C;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306E;&#x6240;&#x6709;&#x8005;&#x3067;&#x3042;&#x308B;&#x3053;&#x3068;&#x304C;&#x8A3C;&#x660E;&#x3055;&#x308C;&#x308B;&#x3068;&#xFF0C;&#x767A;&#x884C;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x8A3C;&#x660E;&#x66F8;&#x306F;&#xFF0C;PKI&#x306B;&#x3088;&#x308B;&#x516C;&#x958B;&#x9375;&#x691C;&#x8A3C;&#x306B;&#x7528;&#x3044;&#x3089;&#x308C;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30EF;&#x30A4;&#x30EB;&#x30C9;&#x30AB;&#x30FC;&#x30C9;&#x8A3C;&#x660E;&#x66F8;</td>
<td>&#x8A3C;&#x660E;&#x3059;&#x308B;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x540D;&#x306B;&#x30EF;&#x30A4;&#x30EB;&#x30C9;&#x30AB;&#x30FC;&#x30C9;&#x3092;&#x7528;&#x3044;&#x305F;&#x3082;&#x306E;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;ssl&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x8A2D;&#x7F6E;&#x5834;&#x6240;&#x30D1;&#x30BF;&#x30FC;&#x30F3;">&#x30FB;SSL&#x30B5;&#x30FC;&#x30D0;&#x8A3C;&#x660E;&#x66F8;&#x306E;&#x8A2D;&#x7F6E;&#x5834;&#x6240;&#x30D1;&#x30BF;&#x30FC;&#x30F3;</h4>
<p>AWS&#x306E;&#x4F7F;&#x7528;&#x4E0A;&#xFF0C;ACM&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x8A2D;&#x7F6E;&#x3067;&#x304D;&#x306A;&#x3044;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x306F;&#xFF0C;&#x5916;&#x90E8;&#x306E;&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x624B;&#x306B;&#x5165;&#x308C;&#x3066;&#x8A2D;&#x7F6E;&#x3059;&#x308B;&#xFF0E;HTTPS&#x306B;&#x3088;&#x308B;SSL&#x30D7;&#x30ED;&#x30C8;&#x30B3;&#x30EB;&#x3092;&#x53D7;&#x3051;&#x4ED8;&#x3051;&#x308B;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306E;&#x6700;&#x7D42;&#x5730;&#x70B9;&#x306E;&#x3053;&#x3068;&#x3092;&#xFF0C;SSL&#x30BF;&#x30FC;&#x30DF;&#x30CD;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3068;&#x3044;&#x3046;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30D1;&#x30BF;&#x30FC;&#x30F3;<br>&#xFF08;Route53&#x306B;&#x306F;&#x5FC5;&#x305A;&#x8A2D;&#x7F6E;&#xFF09;</th>
<th>SSL&#x30BF;&#x30FC;&#x30DF;&#x30CD;&#x30FC;&#x30B7;&#x30E7;&#x30F3;<br>&#xFF08;HTTPS&#x306E;&#x6700;&#x7D42;&#x5730;&#x70B9;&#xFF09;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Route53 &#x2192; ALB(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; EC2</td>
<td>ALB</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; Cloud Front(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; ALB(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; EC2</td>
<td>ALB</td>
<td>Cloud Front&#x306F;&#x30D0;&#x30FC;&#x30B8;&#x30CB;&#x30A2;&#x5317;&#x90E8;&#x3067;&#xFF0C;&#x307E;&#x305F;ALB&#x306F;&#x6771;&#x4EAC;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x3067;&#xFF0C;&#x8A3C;&#x660E;&#x66F8;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;Cloud Front&#x306B;&#x9001;&#x4FE1;&#x3055;&#x308C;&#x305F;HTTPS&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;ALB&#x306B;&#x30EB;&#x30FC;&#x30C6;&#x30A3;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#xFF0C;&#x4E21;&#x65B9;&#x306B;&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x308B;&#x8A3C;&#x660E;&#x66F8;&#x3067;&#x627F;&#x8A8D;&#x3059;&#x308B;&#x30C9;&#x30E1;&#x30A4;&#x30F3;&#x306F;&#xFF0C;&#x4E00;&#x81F4;&#x3055;&#x305B;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Route53 &#x2192; Cloud Front(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; EC2</td>
<td>Cloud Front</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; Cloud Front(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; S3</td>
<td>Cloud Front</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; ALB(+ACM&#x8A3C;&#x660E;&#x66F8;) &#x2192; EC2(+&#x5916;&#x90E8;&#x8A3C;&#x660E;&#x66F8;)</td>
<td>EC2</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; NLB &#x2192; EC2(+&#x5916;&#x90E8;&#x8A3C;&#x660E;&#x66F8;)</td>
<td>EC2</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; EC2(+&#x5916;&#x90E8;&#x8A3C;&#x660E;&#x66F8;)</td>
<td>EC2</td>
<td></td>
</tr>
<tr>
<td>Route53 &#x2192; Lightsail(+ACM&#x8A3C;&#x660E;&#x66F8;)</td>
<td>Lightsail</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="13-&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;waf&#xFF1A;web-applicarion-firewall">13. &#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;WAF&#xFF1A;Web Applicarion Firewall</h2>
<h3 id="&#x8A2D;&#x5B9A;&#x9805;&#x76EE;">&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</h3>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Web ACLs&#xFF1A;Web Access Control List</td>
<td>&#x5404;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x8A31;&#x53EF;&#xFF0F;&#x62D2;&#x5426;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x95A2;&#x9023;&#x4ED8;&#x3051;&#x3092;&#x300C;&#x30EB;&#x30FC;&#x30EB;&#x300D;&#x3068;&#x3057;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x30BB;&#x30C3;&#x30C8;&#x3067;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#xFF0C;&#x30EA;&#x30FC;&#x30B8;&#x30E7;&#x30F3;&#x304C;&#x7570;&#x306A;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>IP sets</td>
<td>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x5B9F;&#x884C;&#x306E;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x306A;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;</td>
<td>&#x30FB;&#x8A31;&#x53EF;&#x3059;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306F;&#xFF0C;&#x610F;&#x5473;&#x5408;&#x3044;&#x306B;&#x6CBF;&#x3063;&#x3066;&#x7570;&#x306A;&#x308B;&#x30BB;&#x30C3;&#x30C8;&#x3068;&#x3057;&#x3066;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x3079;&#x304D;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x793E;&#x5185;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x30BB;&#x30C3;&#x30C8;&#xFF0C;&#x5354;&#x529B;&#x4F1A;&#x793E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x30BB;&#x30C3;&#x30C8;&#xFF0C;&#x306A;&#x3069;<br>&#x30FB;&#x62D2;&#x5426;&#x3059;&#x308B;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306F;&#x3072;&#x3068;&#x307E;&#x3068;&#x3081;&#x306B;&#x3057;&#x3066;&#x3082;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Regex pattern sets</td>
<td>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x5B9F;&#x884C;&#x306E;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3068;&#x306A;&#x308B;URL&#x30D1;&#x30B9;&#x306E;&#x6587;&#x5B57;&#x5217;</td>
<td>&#x30FB;&#x8A31;&#x53EF;&#xFF0F;&#x62D2;&#x5426;&#x3059;&#x308B;&#x6587;&#x5B57;&#x5217;&#x306F;&#xFF0C;&#x610F;&#x5473;&#x5408;&#x3044;&#x306B;&#x6CBF;&#x3063;&#x3066;&#x7570;&#x306A;&#x308B;&#x6587;&#x5B57;&#x5217;&#x30BB;&#x30C3;&#x30C8;&#x3068;&#x3057;&#x3066;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x3079;&#x304D;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x30BB;&#x30C3;&#x30C8;&#xFF0C;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x30D1;&#x30B9;&#x30BB;&#x30C3;&#x30C8;&#xFF0C;&#x306A;&#x3069;</td>
</tr>
<tr>
<td>Rule groups</td>
<td></td>
<td></td>
</tr>
<tr>
<td>AWS Markets</td>
<td></td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="aws&#x30EA;&#x30BD;&#x30FC;&#x30B9;-vs-&#x30B5;&#x30A4;&#x30D0;&#x30FC;&#x653B;&#x6483;">AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9; vs. &#x30B5;&#x30A4;&#x30D0;&#x30FC;&#x653B;&#x6483;</h3>
<table>
<thead>
<tr>
<th>&#x30B5;&#x30A4;&#x30D0;&#x30FC;&#x653B;&#x6483;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x5BFE;&#x6297;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x7A2E;&#x985E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30DE;&#x30EB;&#x30A6;&#x30A7;&#x30A2;</td>
<td>&#x306A;&#x3057;</td>
</tr>
<tr>
<td>&#x508D;&#x53D7;&#xFF0C;&#x76D7;&#x8074;</td>
<td>VPC&#x5185;&#x306E;&#x7279;&#x306B;Private&#x30B5;&#x30D6;&#x30CD;&#x30C3;&#x30C8;&#x9593;&#x306E;&#x30D4;&#x30A2;&#x30EA;&#x30F3;&#x30B0;&#x63A5;&#x7D9A;&#xFF0E;VPC&#x5916;&#x3092;&#x4ECB;&#x3055;&#x305A;&#x306B;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x9001;&#x53D7;&#x4FE1;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30DD;&#x30FC;&#x30C8;&#x30B9;&#x30AD;&#x30E3;&#x30F3;</td>
<td>&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x30B0;&#x30EB;&#x30FC;&#x30D7;</td>
</tr>
<tr>
<td>DDoS</td>
<td>Shield</td>
</tr>
<tr>
<td>&#x30BC;&#x30ED;&#x30C7;&#x30A3;</td>
<td>WAF</td>
</tr>
<tr>
<td>&#x30A4;&#x30F3;&#x30B8;&#x30A7;&#x30AF;&#x30B7;&#x30E7;&#x30F3;</td>
<td>WAF</td>
</tr>
<tr>
<td>XSS</td>
<td>WAF</td>
</tr>
<tr>
<td>&#x30C7;&#x30FC;&#x30BF;&#x6F0F;&#x6D29;</td>
<td>KMS&#xFF0C;CloudHSM</td>
</tr>
<tr>
<td>&#x7D44;&#x7E54;&#x5185;&#x90E8;&#x3067;&#x306E;&#x88CF;&#x5207;&#x308A;</td>
<td>IAM</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="web-acls">Web ACLs</h3>
<h4 id="&#x30FB;web-acls&#x306E;&#x8A73;&#x7D30;">&#x30FB;Web ACLs&#x306E;&#x8A73;&#x7D30;</h4>
<table>
<thead>
<tr>
<th>&#x8A2D;&#x5B9A;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Overview</td>
<td>WAF&#x306B;&#x3088;&#x3063;&#x3066;&#x8A31;&#x53EF;&#xFF0F;&#x62D2;&#x5426;&#x3055;&#x308C;&#x305F;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
<td></td>
</tr>
<tr>
<td>Rules</td>
<td>&#x9806;&#x756A;&#x306B;&#x30EB;&#x30FC;&#x30EB;&#x3092;&#x5224;&#x5B9A;&#x3057;&#xFF0C;&#x4E00;&#x81F4;&#x3059;&#x308B;&#x30EB;&#x30FC;&#x30EB;&#x304C;&#x3042;&#x308C;&#x3070;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9F;&#x884C;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x6642;&#xFF0C;&#x4E00;&#x81F4;&#x3059;&#x308B;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x5F8C;&#x306B;&#x3042;&#x308B;&#x30EB;&#x30FC;&#x30EB;&#x306F;&#xFF0E;&#x5224;&#x5B9A;&#x3055;&#x308C;&#x306A;&#x3044;&#xFF0E;</td>
<td>&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x8A2D;&#x5B9A;&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</td>
</tr>
<tr>
<td>Associated AWS resources</td>
<td>WAF&#x3092;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
<td>Cloud Front&#xFF0C;ALB&#x306A;&#x3069;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Logging and metrics</td>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3092;Kinesis Data Firehose&#x306B;&#x51FA;&#x529B;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;overview&#x306B;&#x304A;&#x3051;&#x308B;sampled-requests&#x306E;&#x898B;&#x65B9;">&#x30FB;Overview&#x306B;&#x304A;&#x3051;&#x308B;Sampled requests&#x306E;&#x898B;&#x65B9;</h4>
<p>&#x300C;&#x5168;&#x3066;&#x306E;&#x30EB;&#x30FC;&#x30EB;&#x300D;&#x307E;&#x305F;&#x306F;&#x300C;&#x500B;&#x5225;&#x306E;&#x30EB;&#x30FC;&#x30EB;&#x300D;&#x306B;&#x304A;&#x3051;&#x308B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x8A31;&#x53EF;&#xFF0F;&#x62D2;&#x5426;&#x306E;&#x5C65;&#x6B74;&#x3092;&#x78BA;&#x8A8D;&#x3067;&#x304D;&#x308B;&#xFF0E;ALB&#x3084;Cloud Front&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30B0;&#x3088;&#x308A;&#x3082;&#x89E3;&#x308A;&#x3084;&#x3059;&#x304F;&#xFF0C;&#x69D8;&#x3005;&#x306A;&#x30C7;&#x30D0;&#x30C3;&#x30B0;&#x306B;&#x5F79;&#x7ACB;&#x3064;&#xFF0E;&#x305F;&#x3060;&#x3057;&#xFF0C;&#xFF13;&#x6642;&#x9593;&#x5206;&#x3057;&#x304B;&#x6B8B;&#x3089;&#x306A;&#x3044;&#xFF0E;&#x4E00;&#x4F8B;&#x3068;&#x3057;&#x3066;&#xFF0C;Cloud Front&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3057;&#x305F;WAF&#x3067;&#x53D6;&#x5F97;&#x3067;&#x304D;&#x308B;&#x30ED;&#x30B0;&#x3092;&#x4EE5;&#x4E0B;&#x306B;&#x793A;&#x3059;&#xFF0E;</p>
<pre class="language-"><code class="lang-http">GET /example/
# &#x30DB;&#x30B9;&#x30C8;
<span class="token header-name keyword">Host:</span> example.jp
<span class="token header-name keyword">Upgrade-Insecure-Requests:</span> 1
# &#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;
<span class="token header-name keyword">User-Agent:</span> Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36
<span class="token header-name keyword">Accept:</span> text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
<span class="token header-name keyword">Sec-Fetch-Mode:</span> navigate
<span class="token header-name keyword">Sec-Fetch-User:</span> ?1
<span class="token header-name keyword">Sec-Fetch-Dest:</span> document
# CORS&#x3067;&#x3042;&#x308B;&#x304B;&#x5426;&#x304B;
<span class="token header-name keyword">Sec-Fetch-Site:</span> same-origin
<span class="token header-name keyword">Accept-Encoding:</span> gzip, deflate, br
<span class="token header-name keyword">Accept-Language:</span> ja,en;q=0.9
# Cookie&#x30D8;&#x30C3;&#x30C0;&#x30FC;
<span class="token header-name keyword">Cookie:</span> PHPSESSID=&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;ID&gt;; _gid=&lt;GoogleAnalytics&#x5024;&gt;; __ulfpc=&lt;GoogleAnalytics&#x5024;&gt;; _ga=&lt;GoogleAnalytics&#x5024;&gt;
</code></pre>
<p><br></p>
<h3 id="rules&#x306E;&#x4F8B;">Rules&#x306E;&#x4F8B;</h3>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x7C92;&#x5EA6;">&#x30FB;&#x30EB;&#x30FC;&#x30EB;&#x306E;&#x7C92;&#x5EA6;</h4>
<p>&#x308F;&#x304B;&#x308A;&#x3084;&#x3059;&#x3055;&#x306E;&#x89B3;&#x70B9;&#x304B;&#x3089;&#xFF0C;&#x53EF;&#x80FD;&#x306A;&#x9650;&#x308A;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x3092;&#x5C11;&#x306A;&#x304F;&#x3057;&#xFF0C;&#x4E00;&#x3064;&#x306E;&#x30EB;&#x30FC;&#x30EB;&#x306B;&#x4E00;&#x3064;&#x306E;&#x610F;&#x5473;&#x5408;&#x3044;&#x3060;&#x3051;&#x3092;&#x6301;&#x305F;&#x305B;&#x308B;&#x3088;&#x3046;&#x306B;&#x547D;&#x540D;&#x3059;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x62D2;&#x5426;">&#x30FB;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x62D2;&#x5426;</h4>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x60AA;&#x610F;&#x306E;&#x3042;&#x308B;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;block-user-agents</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>Match type</th>
<th>Regex pattern set</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches</td>
<td>URI path</td>
<td>Matches pattern from regex pattern set</td>
<td>&#x6587;&#x5B57;&#x5217;&#x30BB;&#x30C3;&#x30C8;</td>
<td>Block</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x542B;&#x3080;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Default Action</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Allow</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30E6;&#x30FC;&#x30B6;&#x30A8;&#x30FC;&#x30B8;&#x30A7;&#x30F3;&#x30C8;&#x3067;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;cicd&#x30C4;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;">&#x30FB;CI/CD&#x30C4;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x8A31;&#x53EF;</h4>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x793E;&#x5185;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x307F;&#x8A31;&#x53EF;&#x3057;&#x305F;&#x72B6;&#x614B;&#x3067;&#xFF0C;CircleCI&#x306A;&#x3069;&#x306E;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x304C;&#x793E;&#x5185;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;allow-request-including-access-token</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>Header field name</th>
<th>Match type</th>
<th>String to match</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches</td>
<td>Header</td>
<td>authorization</td>
<td>Exactly matched  string</td>
<td>&#x300C;<code>Bearer <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x6587;&#x5B57;&#x5217;</span><span class="token punctuation">&gt;</span></span></code>&#x300D;&#x3067;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;</td>
<td>Allow</td>
<td>authorization&#x30D8;&#x30C3;&#x30C0;&#x30FC;&#x306B;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x542B;&#x3080;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Default Action</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>&#x6B63;&#x3057;&#x3044;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x3092;&#x6301;&#x305F;&#x306A;&#x3044;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x7279;&#x5B9A;&#x306E;&#x30D1;&#x30B9;&#x3092;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x9650;&#x5B9A;">&#x30FB;&#x7279;&#x5B9A;&#x306E;&#x30D1;&#x30B9;&#x3092;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x9650;&#x5B9A;</h4>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;&#x7279;&#x5B9A;&#x306E;URL&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#xFF0C;&#x793E;&#x5185;&#x3060;&#x3051;&#x306B;&#x5236;&#x9650;&#x3059;&#x308B;&#xFF0E;&#x4E8C;&#x3064;&#x306E;&#x30EB;&#x30FC;&#x30EB;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;allow-access--to-url-path</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>IP set</th>
<th>Match type</th>
<th>Regex pattern set</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches (AND)</td>
<td>Originates from an IP address in</td>
<td>&#x793E;&#x5185;IP&#x30BB;&#x30C3;&#x30C8;</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&#x793E;&#x5185;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>1</td>
<td>matches</td>
<td>URI path</td>
<td>-</td>
<td>Matches pattern from regex pattern set</td>
<td>&#x6587;&#x5B57;&#x5217;&#x30BB;&#x30C3;&#x30C8;</td>
<td>Allow</td>
<td>0&#x756A;&#x76EE;&#x304B;&#x3064;&#xFF0C;&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x542B;&#x3080;URL&#x30D1;&#x30B9;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;block-access-to-url-path</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>Match type</th>
<th>Regex pattern set</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches</td>
<td>URI path</td>
<td>Matches pattern from regex pattern set</td>
<td>&#x6587;&#x5B57;&#x5217;&#x30BB;&#x30C3;&#x30C8;</td>
<td>Block</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x6587;&#x5B57;&#x5217;&#x3092;&#x542B;&#x3080;URL&#x30D1;&#x30B9;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Default Action</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Allow</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;URL&#x30D1;&#x30B9;&#x4EE5;&#x5916;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x306E;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x9650;&#x5B9A;">&#x30FB;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x306B;&#x9650;&#x5B9A;</h4>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x5168;&#x4F53;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#xFF0C;&#x7279;&#x5B9A;&#x306E;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3060;&#x3051;&#x306B;&#x5236;&#x9650;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x30EB;&#x30FC;&#x30EB;&#xFF1A;allow-global-ip-addresses</p>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9806;&#x756A;</th>
<th>If a request</th>
<th>Inspect</th>
<th>IP set</th>
<th>Originating address</th>
<th>Then</th>
<th>&#x6319;&#x52D5;</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>matches  (OR)</td>
<td>Originates from an IP address in</td>
<td>&#x793E;&#x5185;IP&#x30BB;&#x30C3;&#x30C8;</td>
<td>Source IP address</td>
<td>-</td>
<td>&#x793E;&#x5185;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>1</td>
<td>matches</td>
<td>Originates from an IP address in</td>
<td>&#x5354;&#x529B;&#x4F1A;&#x793E;IP&#x30BB;&#x30C3;&#x30C8;</td>
<td>Source IP address</td>
<td>Allow</td>
<td>0&#x756A;&#x76EE;&#x3042;&#x308B;&#x3044;&#x306F;&#xFF0C;&#x5354;&#x529B;&#x4F1A;&#x793E;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x8A31;&#x53EF;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Default Action</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>&#x6307;&#x5B9A;&#x3057;&#x305F;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x4EE5;&#x5916;&#x306E;&#x5834;&#x5408;&#xFF0C;&#x5168;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30D1;&#x30B9;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x62D2;&#x5426;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="13-02-&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;iam&#xFF1A;identify-and-access-management">13-02. &#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;IAM&#xFF1A;Identify and Access Management</h2>
<h3 id="iam&#x306E;&#x7A2E;&#x985E;">IAM&#x306E;&#x7A2E;&#x985E;</h3>
<h4 id="&#x30FB;iam&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;">&#x30FB;IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;</h4>
<p>&#x5B9F;&#x884C;&#x6A29;&#x9650;&#x306E;&#x3042;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x5B9A;&#x7FA9;&#x3055;&#x308C;&#x305F;IAM&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x306E;&#x30BB;&#x30C3;&#x30C8;&#x3092;&#x6301;&#x3064;&#xFF0C;JSON&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#xFF0C;&#x306B;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>&#x5358;&#x4E00;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</td>
<td>json&#x5F62;&#x5F0F;&#x3067;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x7121;&#x3044;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x4EE5;&#x4E0B;&#x306B;&#xFF0C;EC2&#x306E;&#x8AAD;&#x307F;&#x51FA;&#x3057;&#x306E;&#x307F;&#x6A29;&#x9650;&#xFF08;<code>AmazonEC2ReadOnlyAccess</code>&#xFF09;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x308B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x793A;&#x3059;&#xFF0E;&#x3053;&#x306E;IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x306F;&#xFF0C;&#x4ED6;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x6A29;&#x9650;&#x3082;&#x542B;&#x307E;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-yaml"><span class="token punctuation">{</span>
  <span class="token key atrule">&apos;Version&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;2012-10-17&apos;</span><span class="token punctuation">,</span>
  <span class="token key atrule">&apos;Statement&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token key atrule">&apos;Effect&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;Allow&apos;</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Action&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;ec2:Describe*&apos;</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Resource&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;*&apos;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token key atrule">&apos;Effect&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;Allow&apos;</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Action&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;elasticloadbalancing:Describe*&apos;</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Resource&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;*&apos;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token key atrule">&apos;Effect&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;Allow&apos;</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Action&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&apos;cloudwatch:ListMetrics&apos;</span><span class="token punctuation">,</span>
        <span class="token string">&apos;cloudwatch:GetMetricStatistics&apos;</span><span class="token punctuation">,</span>
        <span class="token string">&apos;cloudwatch:Describe*&apos;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Resource&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;*&apos;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token key atrule">&apos;Effect&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;Allow&apos;</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Action&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;autoscaling:Describe*&apos;</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Resource&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;*&apos;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;iam&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x3068;&#x306F;">&#x30FB;IAM&#x30B9;&#x30C6;&#x30FC;&#x30C8;&#x30E1;&#x30F3;&#x30C8;&#x3068;&#x306F;</h4>
<p>&#x5B9F;&#x884C;&#x6A29;&#x9650;&#x306E;&#x3042;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9A;&#x7FA9;&#x3057;&#x305F;&#xFF0C;JSON&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5177;&#x4F53;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x4EE5;&#x4E0B;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3055;&#x308C;&#x305F;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306F;&#xFF0C;&#x4EFB;&#x610F;&#x306E;SSM&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x3092;&#x53D6;&#x5F97;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-yaml"><span class="token punctuation">{</span>
  <span class="token key atrule">&apos;Version&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;2012-10-17&apos;</span><span class="token punctuation">,</span>
  <span class="token key atrule">&apos;Statement&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token key atrule">&apos;Effect&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;Allow&apos;</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Action&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&apos;ssm:GetParameters&apos;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token key atrule">&apos;Resource&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;*&apos;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th>Statement&#x306E;&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sid</td>
<td>&#x4EFB;&#x610F;&#x306E;&#x4E00;&#x610F;&#x306A;&#x6587;&#x5B57;&#x5217;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;&#x7A7A;&#x6587;&#x5B57;&#x3067;&#x3082;&#x3088;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>Effect</td>
<td>&#x8A31;&#x53EF;&#x307E;&#x305F;&#x306F;&#x62D2;&#x5426;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Action</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x5BFE;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Resource</td>
<td>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x5B9F;&#x884C;&#x5BFE;&#x8C61;&#x306B;&#x9078;&#x3079;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p>&#x4EE5;&#x4E0B;&#x306B;&#x4E3B;&#x8981;&#x306A;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x793A;&#x3059;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x540D;</th>
<th>&#x8AAC;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Create</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Describe</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x8868;&#x793A;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Delete</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Get</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x53D6;&#x5F97;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
<tr>
<td>Put</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x4E0A;&#x66F8;&#x304D;&#x3059;&#x308B;&#xFF0E;</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h3>
<h4 id="&#x30FB;&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;">&#x30FB;&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;</h4>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#xFF0C;&#x306B;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;aws&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;AWS&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>AWS&#x304C;&#x63D0;&#x4F9B;&#x3057;&#x3066;&#x3044;&#x308B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x5F0F;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x3059;&#x3067;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x3066;&#x3082;&#xFF0C;&#x4ED6;&#x306E;&#x3082;&#x306E;&#x306B;&#x3082;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30FC;&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30AB;&#x30B9;&#x30BF;&#x30DE;&#x30FC;&#x7BA1;&#x7406;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x72EC;&#x81EA;&#x306B;&#x69CB;&#x7BC9;&#x3057;&#x305F;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x3059;&#x3067;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x3066;&#x3082;&#xFF0C;&#x4ED6;&#x306E;&#x3082;&#x306E;&#x306B;&#x3082;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x5358;&#x4E00;&#x306E;&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x306B;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x7D44;&#x307F;&#x8FBC;&#x307F;&#x5F0F;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x30A2;&#x30A4;&#x30C7;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x9593;&#x3067;&#x5171;&#x6709;&#x3057;&#x3066;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x3053;&#x3068;&#x306F;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#x306F;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x3059;&#x3079;&#x3066;&#x306E; ACM &#x8A3C;&#x660E;&#x66F8;&#x3092;&#x4E00;&#x89A7;&#x8868;&#x793A;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span>&apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span>&apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span>&apos;acm<span class="token operator">:</span>ListCertificates&apos;<span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span>&apos;*&apos;
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#x306F;&#xFF0C;&#x5168;&#x3066;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#xFF0C;&#x4EFB;&#x610F;&#x306E;&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span>&apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span>&apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span>&apos;*&apos;<span class="token punctuation">,</span>
      &apos;Resource&apos;<span class="token operator">:</span>&apos;*&apos;
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h3 id="&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h3>
<h4 id="&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;">&#x30FB;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3068;&#x306F;</h4>
<p>&#x5358;&#x4E00;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;&#x3059;&#x3067;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x3068;&#xFF0C;&#x4ED6;&#x306E;&#x3082;&#x306E;&#x306B;&#x306F;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>S3&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x308B;&#xFF0C;&#x81EA;&#x8EAB;&#x3078;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3092;&#x5236;&#x5FA1;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x30E9;&#x30A4;&#x30D5;&#x30B5;&#x30A4;&#x30AF;&#x30EB;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>ECR&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x308B;&#xFF0C;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x306E;&#x6709;&#x52B9;&#x671F;&#x9593;&#x3092;&#x5B9A;&#x7FA9;&#x3059;&#x308B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#xFF0E;&#x30B3;&#x30F3;&#x30BD;&#x30FC;&#x30EB;&#x753B;&#x9762;&#x304B;&#x3089;&#x5165;&#x529B;&#x3067;&#x304D;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x306B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x5B9F;&#x88C5;&#x306F;&#x4E0D;&#x8981;&#x3067;&#x3042;&#x308B;&#x304C;&#xFF0C;Terraform&#x306A;&#x3069;&#x306E;IaC&#x30C4;&#x30FC;&#x30EB;&#x3067;&#x306F;&#x5FC5;&#x8981;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;rules&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;rulePriority&apos;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      &apos;description&apos;<span class="token operator">:</span> &apos;Keep last <span class="token number">10</span> images untagged&apos;<span class="token punctuation">,</span>
      &apos;selection&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;tagStatus&apos;<span class="token operator">:</span> &apos;untagged&apos;<span class="token punctuation">,</span>
        &apos;countType&apos;<span class="token operator">:</span> &apos;imageCountMoreThan&apos;<span class="token punctuation">,</span>
        &apos;countNumber&apos;<span class="token operator">:</span> <span class="token number">10</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      &apos;action&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;type&apos;<span class="token operator">:</span> &apos;expire&apos;
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      &apos;rulePriority&apos;<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      &apos;description&apos;<span class="token operator">:</span> &apos;Keep last <span class="token number">10</span> images any&apos;<span class="token punctuation">,</span>
      &apos;selection&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;tagStatus&apos;<span class="token operator">:</span> &apos;any&apos;<span class="token punctuation">,</span>
        &apos;countType&apos;<span class="token operator">:</span> &apos;imageCountMoreThan&apos;<span class="token punctuation">,</span>
        &apos;countNumber&apos;<span class="token operator">:</span> <span class="token number">10</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      &apos;action&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;type&apos;<span class="token operator">:</span> &apos;expire&apos;
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;">&#x30FB;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;</h4>
<p>&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x308B;&#xFF0C;Assume Role&#x3092;&#x884C;&#x3046;&#x305F;&#x3081;&#x306E;&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4EFB;&#x610F;&#x306E;&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x4ED8;&#x4E0E;&#x3057;&#x305F;&#x3068;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x5834;&#x5408;&#xFF0C;<code>Principal</code>&#x306E;<code>ecs-tasks</code>&#x304C;&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x3068;&#x898B;&#x306A;&#x3055;&#x308C;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Principal&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;Service&apos;<span class="token operator">:</span> &apos;ecs-tasks.amazonaws.com&apos;
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> &apos;sts<span class="token operator">:</span>AssumeRole&apos;
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p>&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3067;&#x306F;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x3068;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x3082;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<p>&#x4F8B;&#x3048;&#x3070;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4EFB;&#x610F;&#x306E;&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x4ED8;&#x4E0E;&#x3057;&#x305F;&#x3068;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x5834;&#x5408;&#xFF0C;<code>Principal</code>&#x306E;IAM&#x30E6;&#x30FC;&#x30B6;&#x304C;&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x3068;&#x898B;&#x306A;&#x3055;&#x308C;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Principal&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;AWS&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>iam<span class="token operator">:</span><span class="token operator">:</span>&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;<span class="token operator">:</span>user/&lt;&#x30E6;&#x30FC;&#x30B6;&#x540D;&gt;&apos;
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> &apos;sts<span class="token operator">:</span>AssumeRole&apos;<span class="token punctuation">,</span>
      &apos;Condition&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;StringEquals&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
          &apos;sts<span class="token operator">:</span>ExternalId&apos;<span class="token operator">:</span> &apos;&lt;&#x9069;&#x5F53;&#x306A;&#x6587;&#x5B57;&#x5217;&gt;&apos;
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<h3 id="iam&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x308B;&#x5BFE;&#x8C61;">IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;&#x3067;&#x304D;&#x308B;&#x5BFE;&#x8C61;</h3>
<h4 id="&#x30FB;iam&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;">&#x30FB;IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;.jpeg" alt="IAM&#x30E6;&#x30FC;&#x30B5;&#x3099;&#x306B;&#x30DB;&#x309A;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;"></p>
<h4 id="&#x30FB;iam&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;">&#x30FB;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;.jpeg" alt="IAM&#x30AF;&#x3099;&#x30EB;&#x30FC;&#x30D5;&#x309A;&#x306B;&#x30DB;&#x309A;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;"></p>
<h4 id="&#x30FB;iam&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;">&#x30FB;IAM&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x5BFE;&#x3059;&#x308B;&#x4ED8;&#x4E0E;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/IAM&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;.jpeg" alt="IAM&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x30DB;&#x309A;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;"></p>
<p><br></p>
<h3 id="&#x30EB;&#x30FC;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#xFF0C;iam&#x30E6;&#x30FC;&#x30B6;">&#x30EB;&#x30FC;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;</h3>
<h4 id="&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#x3068;&#x306F;">&#x30FB;&#x30EB;&#x30FC;&#x30C8;&#x30E6;&#x30FC;&#x30B6;&#x3068;&#x306F;</h4>
<p>&#x5168;&#x3066;&#x306E;&#x6A29;&#x9650;&#x3092;&#x3082;&#x3063;&#x305F;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;iam&#x30E6;&#x30FC;&#x30B6;&#x3068;&#x306F;">&#x30FB;IAM&#x30E6;&#x30FC;&#x30B6;&#x3068;&#x306F;</h4>
<p>&#x7279;&#x5B9A;&#x306E;&#x6A29;&#x9650;&#x3092;&#x3082;&#x3063;&#x305F;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x3053;&#x3068;&#xFF0E;</p>
<h4 id="&#x30FB;credentials&#x30D5;&#x30A1;&#x30A4;&#x30EB;">&#x30FB;<code>credentials</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;</h4>
<p>AWS CLI&#x3067;&#x30AF;&#x30E9;&#x30A6;&#x30C9;&#x30A4;&#x30F3;&#x30D5;&#x30E9;&#x3092;&#x64CD;&#x4F5C;&#x3059;&#x308B;&#x305F;&#x3081;&#x306B;&#x306F;&#xFF0C;<code>credentials</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306B;&#x5B9A;&#x7FA9;&#x3055;&#x308C;&#x305F;&#x30D7;&#x30ED;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell">$ aws configure <span class="token builtin class-name">set</span> aws_access_key_id <span class="token string">&apos;XXXXX&apos;</span>
$ aws configure <span class="token builtin class-name">set</span> aws_secret_access_key <span class="token string">&apos;XXXXX&apos;</span>
$ aws configure <span class="token builtin class-name">set</span> aws_default_region <span class="token string">&apos;ap-northeast-1&apos;</span>
</code></pre>
<pre class="language-"><code class="lang-shell"><span class="token comment"># Linux&#xFF0C;Unix&#x306E;&#x5834;&#x5408;&#xFF1A;$HOME/.aws/&lt;credentials&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&gt;</span>
<span class="token comment"># Windows&#x306E;&#x5834;&#x5408;&#xFF1A;%USERPROFILE%\.aws\&lt;credentials&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&gt;</span>

<span class="token punctuation">[</span>default<span class="token punctuation">]</span>
<span class="token assign-left variable">aws_access_key_id</span><span class="token operator">=</span><span class="token operator">&lt;</span>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;<span class="token operator">&gt;</span>
<span class="token assign-left variable">aws_secret_access_key</span><span class="token operator">=</span><span class="token operator">&lt;</span>&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30AD;&#x30FC;<span class="token operator">&gt;</span>

<span class="token punctuation">[</span>user1<span class="token punctuation">]</span>
<span class="token assign-left variable">aws_access_key_id</span><span class="token operator">=</span><span class="token operator">&lt;</span>&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;<span class="token operator">&gt;</span>
<span class="token assign-left variable">aws_secret_access_key</span><span class="token operator">=</span><span class="token operator">&lt;</span>&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30AD;&#x30FC;<span class="token operator">&gt;</span>
</code></pre>
<p><br></p>
<h3 id="iam&#x30B0;&#x30EB;&#x30FC;&#x30D7;">IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;</h3>
<h4 id="&#x30FB;iam&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3068;&#x306F;">&#x30FB;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3068;&#x306F;</h4>
<p>IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x5316;&#x3057;&#x305F;&#x3082;&#x306E;&#xFF0E;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x3054;&#x3068;&#x306B;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308C;&#x3070;&#xFF0C;IAM&#x30E6;&#x30FC;&#x30B6;&#x306E;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x7BA1;&#x7406;&#x3057;&#x3084;&#x3059;&#x304F;&#x306A;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30B0;&#x30EB;&#x30FC;&#x30D7;.png" alt="&#x30AF;&#x3099;&#x30EB;&#x30FC;&#x30D5;&#x309A;"></p>
<p><br></p>
<h3 id="iam&#x30ED;&#x30FC;&#x30EB;">IAM&#x30ED;&#x30FC;&#x30EB;</h3>
<h4 id="&#x30FB;iam&#x30ED;&#x30FC;&#x30EB;&#x3068;&#x306F;">&#x30FB;IAM&#x30ED;&#x30FC;&#x30EB;&#x3068;&#x306F;</h4>
<p>IAM&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x30BB;&#x30C3;&#x30C8;&#x3092;&#x6301;&#x3064;</p>
<h4 id="&#x30FB;iam&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x7A2E;&#x985E;">&#x30FB;IAM&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x7A2E;&#x985E;</h4>
<table>
<thead>
<tr>
<th>IAM&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x7A2E;&#x985E;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x88DC;&#x8DB3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EA;&#x30F3;&#x30AF;&#x30ED;&#x30FC;&#x30EB;</td>
<td>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x69CB;&#x7BC9;&#x3057;&#x305F;&#x6642;&#x306B;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x4F5C;&#x6210;&#x3055;&#x308C;&#x308B;&#x30ED;&#x30FC;&#x30EB;&#xFF0E;&#x4ED6;&#x306B;&#x306F;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x306A;&#x3044;&#x5C02;&#x7528;&#x306E;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x304C;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</td>
<td>&#x30FB;&#x300C;AWSServiceRoleForXxxxxx&#x300D;&#x3068;&#x3044;&#x3046;&#x540D;&#x524D;&#x3067;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x308B;&#xFF0E;&#x7279;&#x306B;&#x8A2D;&#x5B9A;&#x305B;&#x305A;&#x3068;&#x3082;&#xFF0C;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x308B;&#xFF0E;<br>&#x30FB;&#x95A2;&#x9023;&#x3059;&#x308B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#x307E;&#x3067;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x81EA;&#x4F53;&#x3067;&#x304D;&#x306A;&#x3044;&#xFF0E;</td>
</tr>
<tr>
<td>&#x30AF;&#x30ED;&#x30B9;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30FC;&#x30EB;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&#x30D7;&#x30ED;&#x30D0;&#x30A4;&#x30C0;&#x306E;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30ED;&#x30FC;&#x30EB;</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;iam&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x65B9;&#x6CD5;">&#x30FB;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x65B9;&#x6CD5;</h4>
<p>&#x307E;&#x305A;&#xFF0C;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x7D10;&#x3065;&#x3051;&#x308B;&#xFF0E;&#x305D;&#x306E;IAM&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;&#x3057;&#x305F;&#x3044;IAM&#x30E6;&#x30FC;&#x30B6;&#x3092;&#x8FFD;&#x52A0;&#x3057;&#x3066;&#x3044;&#x304F;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/&#x30B0;&#x30EB;&#x30FC;&#x30D7;&#x306B;&#x6240;&#x5C5E;&#x3059;&#x308B;&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;.png" alt="&#x30AF;&#x3099;&#x30EB;&#x30FC;&#x30D5;&#x309A;&#x306B;&#x6240;&#x5C5E;&#x3059;&#x308B;&#x30E6;&#x30FC;&#x30B5;&#x3099;&#x306B;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x4ED8;&#x4E0E;"></p>
<p><br></p>
<h3 id="cli">CLI</h3>
<h4 id="&#x30FB;cli&#x306E;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x5236;&#x9650;">&#x30FB;CLI&#x306E;&#x793E;&#x5185;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x5236;&#x9650;</h4>
<p>&#x7279;&#x5B9A;&#x306E;&#x9001;&#x4FE1;&#x5143;IP&#x30A2;&#x30C9;&#x30EC;&#x30B9;&#x3092;&#x5236;&#x9650;&#x3059;&#x308B;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x3053;&#x3068;&#x3067;&#xFF0C;&#x305D;&#x306E;IAM&#x30E6;&#x30FC;&#x30B6;&#x304C;AWS CLI&#x306E;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x6642;&#x306B;&#xFF0C;&#x793E;&#x5916;&#x304B;&#x3089;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x5236;&#x9650;&#x3092;&#x304B;&#x3051;&#x3089;&#x308C;&#x308B;&#xFF0E;</p>
<p><strong>&#xFF0A;&#x5B9F;&#x88C5;&#x4F8B;&#xFF0A;</strong></p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
    &apos;Effect&apos;<span class="token operator">:</span> &apos;Deny&apos;<span class="token punctuation">,</span>
    &apos;Action&apos;<span class="token operator">:</span> &apos;*&apos;<span class="token punctuation">,</span>
    &apos;Resource&apos;<span class="token operator">:</span> &apos;*&apos;<span class="token punctuation">,</span>
    &apos;Condition&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
      &apos;NotIpAddress&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;aws<span class="token operator">:</span>SourceIp&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
          &apos;nn.nnn.nnn.nnn/<span class="token number">32</span>&apos;
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x30FB;&#x30E6;&#x30FC;&#x30B6;&#x540D;&#x3092;&#x5909;&#x66F4;">&#x30FB;&#x30E6;&#x30FC;&#x30B6;&#x540D;&#x3092;&#x5909;&#x66F4;</h4>
<pre class="language-"><code class="lang-shell"><span class="token comment"># &#x30E6;&#x30FC;&#x30B6;&#x540D;&#x3092;&#x5909;&#x66F4;&#x3059;&#x308B;&#xFF0E;</span>
$ aws iam update-user --user-name <span class="token operator">&lt;</span>&#x73FE;&#x884C;&#x306E;&#x30E6;&#x30FC;&#x30B6;&#x540D;<span class="token operator">&gt;</span> --new-user-name <span class="token operator">&lt;</span>&#x65B0;&#x3057;&#x3044;&#x30E6;&#x30FC;&#x30B6;&#x540D;<span class="token operator">&gt;</span>
</code></pre>
<p><br></p>
<h2 id="13-03-&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;sts&#xFF1A;security-token-service">13-03. &#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#xFF5C;STS&#xFF1A;Security Token Service</h2>
<h3 id="&#x4ED5;&#x7D44;&#x307F;">&#x4ED5;&#x7D44;&#x307F;</h3>
<p>AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x4E00;&#x6642;&#x7684;&#x306B;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x3067;&#x304D;&#x308B;&#x8A8D;&#x8A3C;&#x60C5;&#x5831;&#xFF08;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&#xFF0C;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&#xFF0C;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#xFF09;&#x3092;&#x767A;&#x884C;&#x3059;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x8A8D;&#x8A3C;&#x60C5;&#x5831;&#x306F;&#xFF0C;&#x4E00;&#x6642;&#x7684;&#x306A;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3068;&#x3057;&#x3066;&#x4F7F;&#x7528;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/STS.jpg" alt="STS"></p>
<p><br></p>
<h3 id="sts&#x306E;&#x8A2D;&#x5B9A;&#x624B;&#x9806;">STS&#x306E;&#x8A2D;&#x5B9A;&#x624B;&#x9806;</h3>
<h4 id="1-iam&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;">1. IAM&#x30ED;&#x30FC;&#x30EB;&#x306B;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x3092;&#x4ED8;&#x4E0E;</h4>
<p>&#x5FC5;&#x8981;&#x306A;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x305F;IAM&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x69CB;&#x7BC9;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x6642;&#xFF0C;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x304A;&#x3044;&#x3066;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x306E;<code>ARN</code>&#x3092;&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x3068;&#x3057;&#x3066;&#x8A2D;&#x5B9A;&#x3057;&#x3066;&#x304A;&#x304F;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x305D;&#x306E;&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;Version&apos;<span class="token operator">:</span> &apos;<span class="token number">2012</span><span class="token number">-10</span><span class="token number">-17</span>&apos;<span class="token punctuation">,</span>
  &apos;Statement&apos;<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      &apos;Effect&apos;<span class="token operator">:</span> &apos;Allow&apos;<span class="token punctuation">,</span>
      &apos;Principal&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;AWS&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>iam<span class="token operator">:</span><span class="token operator">:</span>&lt;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;<span class="token operator">:</span>user/&lt;&#x30E6;&#x30FC;&#x30B6;&#x540D;&gt;&apos;
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      &apos;Action&apos;<span class="token operator">:</span> &apos;sts<span class="token operator">:</span>AssumeRole&apos;<span class="token punctuation">,</span>
      &apos;Condition&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
        &apos;StringEquals&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
          &apos;sts<span class="token operator">:</span>ExternalId&apos;<span class="token operator">:</span> &apos;&lt;&#x9069;&#x5F53;&#x306A;&#x6587;&#x5B57;&#x5217;&gt;&apos;
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="2-&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x5F15;&#x304D;&#x53D7;&#x3051;&#x305F;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;">2. &#x30ED;&#x30FC;&#x30EB;&#x3092;&#x5F15;&#x304D;&#x53D7;&#x3051;&#x305F;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;</h4>
<p>&#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#xFF08;&#x30E6;&#x30FC;&#x30B6;&#xFF09;&#x304B;&#x3089;&#xFF0C;STS&#xFF08;<code>https://sts.amazonaws.com</code>&#xFF09;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">set</span> -xeuo pipefail
<span class="token builtin class-name">set</span> -u

<span class="token comment"># &#x4E8B;&#x524D;&#x306B;&#x74B0;&#x5883;&#x5909;&#x6570;&#x306B;&#x30A4;&#x30F3;&#x30D5;&#x30E9;&#x74B0;&#x5883;&#x540D;&#x3092;&#x4EE3;&#x5165;&#x3059;&#x308B;&#xFF0E;</span>
<span class="token keyword">case</span> <span class="token variable">$ENV</span> <span class="token keyword">in</span>
    <span class="token string">&apos;test&apos;</span><span class="token punctuation">)</span>
        <span class="token assign-left variable">aws_account_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x4F5C;&#x696D;&#x74B0;&#x5883;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;&apos;</span>
        <span class="token assign-left variable">aws_access_key_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x4F5C;&#x696D;&#x74B0;&#x5883;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;ID&gt;&apos;</span>
        <span class="token assign-left variable">aws_secret_access_key</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x4F5C;&#x696D;&#x74B0;&#x5883;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;&apos;</span>
        <span class="token assign-left variable">aws_iam_role_external_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5916;&#x90E8;ID&gt;&apos;</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token string">&apos;stg&apos;</span><span class="token punctuation">)</span>
        <span class="token assign-left variable">aws_account_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;&apos;</span>
        <span class="token assign-left variable">aws_access_key_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;ID&gt;&apos;</span>
        <span class="token assign-left variable">aws_secret_access_key</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x30B9;&#x30C6;&#x30FC;&#x30B8;&#x30F3;&#x30B0;&#x74B0;&#x5883;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;&apos;</span>
        <span class="token assign-left variable">aws_iam_role_external_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5916;&#x90E8;ID&gt;&apos;</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token string">&apos;prd&apos;</span><span class="token punctuation">)</span>
        <span class="token assign-left variable">aws_account_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x672C;&#x756A;&#x74B0;&#x5883;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;&apos;</span>
        <span class="token assign-left variable">aws_access_key_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x672C;&#x756A;&#x74B0;&#x5883;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;ID&gt;&apos;</span>
        <span class="token assign-left variable">aws_secret_access_key</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x672C;&#x756A;&#x74B0;&#x5883;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;&apos;</span>
        <span class="token assign-left variable">aws_iam_role_external_id</span><span class="token operator">=</span><span class="token string">&apos;&lt;&#x4FE1;&#x983C;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306B;&#x8A2D;&#x5B9A;&#x3057;&#x305F;&#x5916;&#x90E8;ID&gt;&apos;</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&apos;The parameter <span class="token variable">${ENV}</span> is invalid.&apos;</span>
        <span class="token builtin class-name">exit</span> <span class="token number">1</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

<span class="token comment"># &#x4FE1;&#x983C;&#x3055;&#x308C;&#x305F;&#x30A8;&#x30F3;&#x30C6;&#x30A3;&#x30C6;&#x30A3;&#x306E;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#xFF0E;</span>
aws configure <span class="token builtin class-name">set</span> aws_access_key_id <span class="token string">&apos;<span class="token variable">$aws_account_id</span>&apos;</span>
aws configure <span class="token builtin class-name">set</span> aws_secret_access_key <span class="token string">&apos;<span class="token variable">$aws_secret_access_key</span>&apos;</span>
aws configure <span class="token builtin class-name">set</span> aws_default_region <span class="token string">&apos;ap-northeast-1&apos;</span>

<span class="token comment"># https://sts.amazonaws.com &#x306B;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3092;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3059;&#x308B;&#xFF0E;</span>
<span class="token assign-left variable">aws_sts_credentials</span><span class="token operator">=</span><span class="token string">&apos;<span class="token variable"><span class="token variable">$(</span>aws sts assume-role <span class="token punctuation">\</span>
  --role-arn <span class="token string">&apos;arn:aws:iam::<span class="token variable">${aws_access_key_id}</span>:role/<span class="token variable">${ENV}</span>-&lt;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3057;&#x305F;&#x3044;IAM&#x30ED;&#x30FC;&#x30EB;&#x540D;&gt;&apos;</span> <span class="token punctuation">\</span>
  --role-session-name <span class="token string">&apos;&lt;&#x4EFB;&#x610F;&#x306E;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x540D;&gt;&apos;</span> <span class="token punctuation">\</span>
  --external-id <span class="token string">&apos;<span class="token variable">$aws_iam_role_external_id</span>&apos;</span> <span class="token punctuation">\</span>
  --duration-seconds <span class="token string">&apos;&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x6709;&#x52B9;&#x79D2;&#x6570;&gt;&apos;</span> <span class="token punctuation">\</span>
  --query <span class="token string">&apos;Credentials&apos;</span> <span class="token punctuation">\</span>
  --output <span class="token string">&apos;json&apos;</span><span class="token variable">)</span></span>&apos;</span>
</code></pre>
<p>STS&#x3078;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x306E;&#x7D50;&#x679C;&#xFF0C;&#x30ED;&#x30FC;&#x30EB;&#x304C;&#x30A2;&#x30BF;&#x30C3;&#x30C1;&#x3055;&#x308C;&#x305F;&#x65B0;&#x3057;&#x3044;IAM&#x30E6;&#x30FC;&#x30B6;&#x60C5;&#x5831;&#x3092;&#x53D6;&#x5F97;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x3053;&#x306E;&#x60C5;&#x5831;&#x306B;&#x306F;&#x6709;&#x52B9;&#x79D2;&#x6570;&#x304C;&#x5B58;&#x5728;&#x3057;&#xFF0C;&#x671F;&#x9650;&#x304C;&#x904E;&#x304E;&#x308B;&#x3068;&#x65B0;&#x3057;&#x3044;IAM&#x30E6;&#x30FC;&#x30B6;&#x306B;&#x306A;&#x308B;&#xFF0E;&#x79D2;&#x6570;&#x306E;&#x6700;&#x5927;&#x5024;&#x306F;&#xFF0C;&#x8A72;&#x5F53;&#x3059;&#x308B;IAM&#x30ED;&#x30FC;&#x30EB;&#x306E;&#x6982;&#x8981;&#x306E;&#x6700;&#x5927;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x6642;&#x9593;&#x304B;&#x3089;&#x5909;&#x66F4;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/AssumeRole.png" alt="AssumeRole"></p>
<p>&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x308B;&#x30C7;&#x30FC;&#x30BF;&#x306F;&#x4EE5;&#x4E0B;&#x306E;&#x901A;&#x308A;&#xFF0E;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  &apos;AssumeRoleUser&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
    &apos;AssumedRoleId&apos;<span class="token operator">:</span> &apos;&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;ID&gt;<span class="token operator">:</span>&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x540D;&gt;&apos;<span class="token punctuation">,</span>
    &apos;Arn&apos;<span class="token operator">:</span> &apos;arn<span class="token operator">:</span>aws<span class="token operator">:</span>sts<span class="token operator">:</span>&lt;&#x65B0;&#x3057;&#x3044;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;ID&gt;<span class="token operator">:</span>assumed-role/&lt;IAM&#x30ED;&#x30FC;&#x30EB;&#x540D;&gt;/&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x540D;&gt;&apos;
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  &apos;Credentials&apos;<span class="token operator">:</span> <span class="token punctuation">{</span>
    &apos;SecretAccessKey&apos;<span class="token operator">:</span> &apos;&lt;&#x30B7;&#x30FC;&#x30AF;&#x30EC;&#x30C3;&#x30C8;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;&gt;&apos;<span class="token punctuation">,</span>
    &apos;SessionToken&apos;<span class="token operator">:</span> &apos;&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x30C8;&#x30FC;&#x30AF;&#x30F3;&#x6587;&#x5B57;&#x5217;&gt;&apos;<span class="token punctuation">,</span>
    &apos;Expiration&apos;<span class="token operator">:</span> &apos;&lt;&#x30BB;&#x30C3;&#x30B7;&#x30E7;&#x30F3;&#x306E;&#x671F;&#x9650;&gt;&apos;<span class="token punctuation">,</span>
    &apos;AccessKeyId&apos;<span class="token operator">:</span> &apos;&lt;&#x30A2;&#x30AF;&#x30BB;&#x30B9;&#x30AD;&#x30FC;ID&gt;&apos;
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="3-&#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x304B;&#x3089;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x62BD;&#x51FA;">3. &#x30EC;&#x30B9;&#x30DD;&#x30F3;&#x30B9;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30FC;&#x30BF;&#x304B;&#x3089;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x62BD;&#x51FA;</h4>
<p>jq&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;JSON&#x30C7;&#x30FC;&#x30BF;&#x304B;&#x3089;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x62BD;&#x51FA;&#x3059;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://stedolan.github.io/jq/" target="_blank">https://stedolan.github.io/jq/</a></p>
<pre class="language-"><code class="lang-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;</span> assumed_user.sh</span>
export AWS_ACCESS_KEY_ID=&apos;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&apos;<span class="token variable">$aws_sts_credentials</span>&apos;</span> <span class="token operator">|</span> jq -r <span class="token string">&apos;.AccessKeyId&apos;</span><span class="token variable">)</span></span>&apos;
export AWS_SECRET_ACCESS_KEY=&apos;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&apos;<span class="token variable">$aws_sts_credentials</span>&apos;</span> <span class="token operator">|</span> jq -r <span class="token string">&apos;.SecretAccessKey&apos;</span><span class="token variable">)</span></span>&apos;
export AWS_SESSION_TOKEN=&apos;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&apos;<span class="token variable">$aws_sts_credentials</span>&apos;</span> <span class="token operator">|</span> jq -r <span class="token string">&apos;.SessionToken&apos;</span><span class="token variable">)</span></span>&apos;
export AWS_ACCOUNT_ID=&apos;<span class="token variable">$aws_account_id</span>&apos;
export AWS_DEFAULT_REGION=&apos;ap-northeast-1&apos;
EOF</span>
</code></pre>
<h4 id="4-credentials&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x4F5C;&#x6210;">4. <code>credentials</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x4F5C;&#x6210;</h4>
<p>&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x5F15;&#x304D;&#x53D7;&#x3051;&#x305F;&#x65B0;&#x3057;&#x3044;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x306E;&#x60C5;&#x5831;&#x3092;&#xFF0C;<code>credentials</code>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306B;&#x66F8;&#x304D;&#x8FBC;&#x3080;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell"><span class="token shebang important">#!/bin/bash</span>

aws configure --profile <span class="token variable">${ENV}</span>-repository <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&apos;<span class="token variable">$aws_sts_credentials</span>&apos;</span> <span class="token operator">|</span> jq -r <span class="token string">&apos;.AccessKeyId&apos;</span><span class="token variable">)</span></span>
<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&apos;<span class="token variable">$aws_sts_credentials</span>&apos;</span> <span class="token operator">|</span> jq -r <span class="token string">&apos;.SecretAccessKey&apos;</span><span class="token variable">)</span></span>
ap-northeast-1
json
EOF</span>

<span class="token builtin class-name">echo</span> aws_session_token <span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&apos;<span class="token variable">$aws_sts_credentials</span>&apos;</span> <span class="token operator">|</span> jq -r <span class="token string">&apos;.SessionToken&apos;</span><span class="token variable">)</span></span> <span class="token operator">&gt;&gt;</span> ~/.aws/credentials
</code></pre>
<h4 id="5-&#x63A5;&#x7D9A;&#x78BA;&#x8A8D;">5. &#x63A5;&#x7D9A;&#x78BA;&#x8A8D;</h4>
<p>&#x30ED;&#x30FC;&#x30EB;&#x3092;&#x5F15;&#x304D;&#x53D7;&#x3051;&#x305F;&#x65B0;&#x3057;&#x3044;&#x30A2;&#x30AB;&#x30A6;&#x30F3;&#x30C8;&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x63A5;&#x7D9A;&#x3067;&#x304D;&#x308B;&#x304B;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#xFF0E;</p>
<pre class="language-"><code class="lang-shell"><span class="token shebang important">#!/bin/bash</span>

aws s3 <span class="token function">ls</span> --profile <span class="token operator">&lt;</span>&#x30D7;&#x30ED;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;<span class="token operator">&gt;</span>
<span class="token number">2020</span>-xx-xx xx:xx:xx <span class="token operator">&lt;</span>tfstate&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x7BA1;&#x7406;&#x3055;&#x308C;&#x308B;&#x30D0;&#x30B1;&#x30C3;&#x30C8;&#x540D;<span class="token operator">&gt;</span>
</code></pre>
<p><br></p>
<h2 id="14-&#x8CA0;&#x8377;&#x30C6;&#x30B9;&#x30C8;">14. &#x8CA0;&#x8377;&#x30C6;&#x30B9;&#x30C8;</h2>
<h3 id="distributed-load-testing&#xFF08;&#x5206;&#x6563;&#x8CA0;&#x8377;&#x30C6;&#x30B9;&#x30C8;&#xFF09;">Distributed Load Testing&#xFF08;&#x5206;&#x6563;&#x8CA0;&#x8377;&#x30C6;&#x30B9;&#x30C8;&#xFF09;</h3>
<h4 id="&#x30FB;&#x5206;&#x6563;&#x8CA0;&#x8377;&#x30C6;&#x30B9;&#x30C8;&#x3068;&#x306F;">&#x30FB;&#x5206;&#x6563;&#x8CA0;&#x8377;&#x30C6;&#x30B9;&#x30C8;&#x3068;&#x306F;</h4>
<p>AWS&#x304B;&#x3089;&#x63D0;&#x4F9B;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x8CA0;&#x8377;&#x3092;&#x767A;&#x751F;&#x3055;&#x305B;&#x308B;&#x30A4;&#x30F3;&#x30D5;&#x30E9;&#x74B0;&#x5883;&#x306E;&#x3053;&#x3068;&#xFF0E;CloudFormation&#x3067;&#x69CB;&#x7BC9;&#x3067;&#x304D;&#xFF0C;Fargate&#x3092;&#x4F7F;&#x7528;&#x3057;&#x3066;&#xFF0C;&#x30E6;&#x30FC;&#x30B6;&#x304B;&#x3089;&#x306E;&#x30EA;&#x30AF;&#x30A8;&#x30B9;&#x30C8;&#x3092;&#x64EC;&#x4F3C;&#x7684;&#x306B;&#x518D;&#x73FE;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://d1.awsstatic.com/Solutions/ja_JP/distributed-load-testing-on-aws.pdf" target="_blank">https://d1.awsstatic.com/Solutions/ja_JP/distributed-load-testing-on-aws.pdf</a></p>
<h4 id="&#x30FB;&#x30A4;&#x30F3;&#x30D5;&#x30E9;&#x69CB;&#x6210;">&#x30FB;&#x30A4;&#x30F3;&#x30D5;&#x30E9;&#x69CB;&#x6210;</h4>
<p><img src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/images/distributed_load_testing.png" alt="distributed_load_testing"></p>
<p><br></p>
<h2 id="16-&#x30B3;&#x30B9;&#x30C8;&#x7BA1;&#x7406;">16. &#x30B3;&#x30B9;&#x30C8;&#x7BA1;&#x7406;</h2>
<h3 id="sla&#xFF1A;service-level-agreement">SLA&#xFF1A;Service Level Agreement</h3>
<h4 id="&#x30FB;sla&#x3068;&#x306F;">&#x30FB;SLA&#x3068;&#x306F;</h4>
<p>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EC;&#x30D9;&#x30EB;&#x5408;&#x610F;&#x3068;&#x8A33;&#x305B;&#x308B;&#xFF0E;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30CD;&#x30C3;&#x30C8;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306B;&#x6700;&#x4F4E;&#x9650;&#x306E;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x306E;&#x30EC;&#x30D9;&#x30EB;&#x3092;&#x4FDD;&#x8A3C;&#x3057;&#xFF0C;&#x3053;&#x308C;&#x3092;&#x4E0B;&#x56DE;&#x3063;&#x305F;&#x5834;&#x5408;&#x306B;&#x306F;&#x8FD4;&#x91D1;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x5408;&#x610F;&#x3059;&#x308B;&#x3082;&#x306E;&#xFF0E;SLA&#x3068;&#x3057;&#x3066;&#xFF0C;&#x4F8B;&#x3048;&#x3070;&#x4EE5;&#x4E0B;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x9805;&#x76EE;</th>
<th>&#x8AAC;&#x660E;</th>
<th>&#x30EC;&#x30D9;&#x30EB;&#x4F8B;</th>
<th>&#x8FD4;&#x91D1;&#x7387;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x30B5;&#x30FC;&#x30D0;&#x7A3C;&#x50CD;&#x7387;</td>
<td>&#x30B5;&#x30FC;&#x30D0;&#x306E;&#x6642;&#x9593;&#x5F53;&#x305F;&#x308A;&#x306E;&#x7A3C;&#x50CD;&#x7387;</td>
<td>99.9%&#x4EE5;&#x4E0A;</td>
<td>10%</td>
</tr>
<tr>
<td>&#x969C;&#x5BB3;&#x56DE;&#x5FA9;&#x6642;&#x9593;</td>
<td>&#x969C;&#x5BB3;&#x304C;&#x8D77;&#x3053;&#x3063;&#x3066;&#x304B;&#x3089;&#x56DE;&#x5FA9;&#x3059;&#x308B;&#x307E;&#x3067;&#x306E;&#x6642;&#x9593;</td>
<td>2&#x6642;&#x9593;&#x4EE5;&#x5185;</td>
<td>10%</td>
</tr>
<tr>
<td>&#x969C;&#x5BB3;&#x304A;&#x554F;&#x3044;&#x5408;&#x308F;&#x305B;</td>
<td>&#x969C;&#x5BB3;&#x767A;&#x751F;&#x6642;&#x306E;&#x304A;&#x554F;&#x3044;&#x5408;&#x308F;&#x305B;&#x53EF;&#x80FD;&#x6642;&#x9593;&#x5E2F;</td>
<td>24&#x6642;&#x9593;365&#x65E5;</td>
<td>10%</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;aws&#x306E;sla">&#x30FB;AWS&#x306E;SLA</h4>
<p>AWS&#x3067;&#x306F;&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30EC;&#x30D9;&#x30EB;&#x306E;&#x9805;&#x76EE;&#x3068;&#x3057;&#x3066;&#xFF0C;&#x30B5;&#x30FC;&#x30D0;&#x7A3C;&#x50CD;&#x7387;&#x3092;&#x63A1;&#x7528;&#x3057;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x3053;&#x308C;&#x306B;&#x5BFE;&#x3057;&#x3066;&#xFF0C;&#x307B;&#x3068;&#x3093;&#x3069;&#x306E;AWS&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x3067;&#xFF0C;&#x4EE5;&#x4E0B;&#x306E;SLA&#x304C;&#x8A2D;&#x5B9A;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;</p>
<table>
<thead>
<tr>
<th>&#x6BCE;&#x6708;&#x306E;&#x7A3C;&#x50CD;&#x7387;</th>
<th>&#x30B5;&#x30FC;&#x30D3;&#x30B9;&#x30AF;&#x30EC;&#x30B8;&#x30C3;&#x30C8;&#x306E;&#x5272;&#x5408;</th>
</tr>
</thead>
<tbody>
<tr>
<td>99.0&#xFF05;&#x4EE5;&#x4E0A;SLA&#x672A;&#x6E80;</td>
<td>10%</td>
</tr>
<tr>
<td>95.0&#xFF05;&#x4EE5;&#x4E0A;99.0&#xFF05;&#x672A;&#x6E80;</td>
<td>25%</td>
</tr>
<tr>
<td>95.0%&#x672A;&#x6E80;</td>
<td>100%</td>
</tr>
</tbody>
</table>
<p>&#x5404;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;SLA&#x304C;&#x5B9A;&#x7FA9;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#xFF0E;&#x4F8B;&#x3068;&#x3057;&#x3066;&#xFF0C;EC2&#x3084;ECS&#x306E;SLA&#x3092;&#x53C2;&#x8003;&#x306B;&#x305B;&#x3088;&#xFF0E;</p>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://d1.awsstatic.com/legal/AmazonComputeServiceLevelAgreement/Amazon%20Compute%20Service%20Level%20Agreement_Japanese_2020-07-22_Updated.pdf" target="_blank">https://d1.awsstatic.com/legal/AmazonComputeServiceLevelAgreement/Amazon%20Compute%20Service%20Level%20Agreement_Japanese_2020-07-22_Updated.pdf</a></p>
<p><br></p>
<h3 id="&#x30B3;&#x30B9;&#x30C8;&#x7BA1;&#x7406;&#x306E;&#x89B3;&#x70B9;">&#x30B3;&#x30B9;&#x30C8;&#x7BA1;&#x7406;&#x306E;&#x89B3;&#x70B9;</h3>
<h4 id="&#x30FB;&#x30B9;&#x30DA;&#x30C3;&#x30AF;">&#x30FB;&#x30B9;&#x30DA;&#x30C3;&#x30AF;</h4>
<h4 id="&#x30FB;&#x6642;&#x9593;&#x5358;&#x4FA1;">&#x30FB;&#x6642;&#x9593;&#x5358;&#x4FA1;</h4>
<h4 id="&#x30FB;&#x6570;&#x91CF;">&#x30FB;&#x6570;&#x91CF;</h4>
<h4 id="&#x30FB;&#x6708;&#x984D;&#x6599;&#x91D1;">&#x30FB;&#x6708;&#x984D;&#x6599;&#x91D1;</h4>
<p><br></p>
<h3 id="ebs">EBS</h3>
<h4 id="&#x30FB;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30B5;&#x30A4;&#x30BA;">&#x30FB;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x30B5;&#x30A4;&#x30BA;</h4>
<p>&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x306E;&#x4F7F;&#x7528;&#x7387;&#x306B;&#x304B;&#x304B;&#x308F;&#x3089;&#x305A;&#xFF0C;&#x69CB;&#x7BC9;&#x3055;&#x308C;&#x305F;&#x30DC;&#x30EA;&#x30E5;&#x30FC;&#x30E0;&#x306E;&#x5408;&#x8A08;&#x30B5;&#x30A4;&#x30BA;&#x306B;&#x57FA;&#x3065;&#x3044;&#x3066;&#xFF0C;&#x6599;&#x91D1;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#xFF0E;&#x305D;&#x306E;&#x305F;&#x3081;&#xFF0C;&#x5B89;&#x6613;&#x306B;500GiB&#x3092;&#x9078;&#x3093;&#x3067;&#x306F;&#x3044;&#x3051;&#x306A;&#x3044;&#xFF0E;</p>
<p><br></p>
<h3 id="ecs">ECS</h3>
<h4 id="&#x30FB;ecr&#x306E;&#x5BB9;&#x91CF;">&#x30FB;ECR&#x306E;&#x5BB9;&#x91CF;</h4>
<p>500MB&#x3092;&#x8D85;&#x3048;&#x308B;&#x3068;&#xFF0C;&#x8ACB;&#x6C42;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0C;&#x53E4;&#x3044;&#x30A4;&#x30E1;&#x30FC;&#x30B8;&#x3092;&#x5B9A;&#x671F;&#x7684;&#x306B;&#x524A;&#x9664;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308B;&#xFF0E;</p>
<p><br></p>
<h3 id="lambda">Lambda</h3>
<h4 id="&#x30FB;&#x5B9F;&#x884C;&#x6642;&#x9593;&#x306E;&#x5F93;&#x91CF;&#x8AB2;&#x91D1;&#x5236;">&#x30FB;&#x5B9F;&#x884C;&#x6642;&#x9593;&#x306E;&#x5F93;&#x91CF;&#x8AB2;&#x91D1;&#x5236;</h4>
<p>&#x95A2;&#x6570;&#x3092;&#x5B9F;&#x884C;&#x3057;&#x3066;&#x3044;&#x308B;&#x6642;&#x9593;&#x5206;&#x3060;&#x3051;&#x6599;&#x91D1;&#x304C;&#x304B;&#x304B;&#x308B;&#xFF0E;&#x95A2;&#x6570;&#x3092;&#x4F7F;&#x7528;&#x305B;&#x305A;&#x306B;&#x8A2D;&#x7F6E;&#x3057;&#x3066;&#x3044;&#x308B;&#x3060;&#x3051;&#x3067;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x6599;&#x91D1;&#x306F;&#x304B;&#x304B;&#x3089;&#x306A;&#x3044;&#xFF0E;</p>
<h3 id="ses">SES</h3>
<h4 id="&#x30FB;&#x9001;&#x53D7;&#x4FE1;&#x6570;">&#x30FB;&#x9001;&#x53D7;&#x4FE1;&#x6570;</h4>
<p>&#x53D7;&#x4FE1;&#x306F;<code>1000&#x4EF6;/&#x6708;</code>&#x307E;&#x3067;&#xFF0C;&#x9001;&#x4FE1;&#x306F;<code>62000/&#x6708;</code>&#x307E;&#x3067;&#x7121;&#x6599;&#x3067;&#x3042;&#x308B;&#xFF0E;</p>
<p><br></p>
<h2 id="15-&#x30BF;&#x30B0;">15. &#x30BF;&#x30B0;</h2>
<h3 id="&#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x6226;&#x7565;">&#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x6226;&#x7565;</h3>
<h4 id="&#x30FB;&#x3088;&#x304F;&#x3042;&#x308B;&#x30BF;&#x30B0;">&#x30FB;&#x3088;&#x304F;&#x3042;&#x308B;&#x30BF;&#x30B0;</h4>
<table>
<thead>
<tr>
<th>&#x30BF;&#x30B0;&#x540D;</th>
<th>&#x7528;&#x9014;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x81EA;&#x4F53;&#x306B;&#x540D;&#x524D;&#x3092;&#x4ED8;&#x3051;&#x3089;&#x308C;&#x306A;&#x3044;&#x5834;&#x5408;&#xFF0C;&#x4EE3;&#x308F;&#x308A;&#x306B;&#x30BF;&#x30B0;&#x3067;&#x540D;&#x4ED8;&#x3051;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
<tr>
<td>Environment</td>
<td>&#x540C;&#x4E00;&#x306E;AWS&#x74B0;&#x5883;&#x5185;&#x306B;&#x7570;&#x306A;&#x308B;&#x5B9F;&#x884C;&#x74B0;&#x5883;&#x304C;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x308C;&#x3089;&#x3092;&#x533A;&#x5225;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
<tr>
<td>User</td>
<td>&#x540C;&#x4E00;&#x306E;AWS&#x74B0;&#x5883;&#x5185;&#x306B;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x5225;&#x306B;&#x6240;&#x6709;&#x8005;&#x304C;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#x5834;&#x5408;&#xFF0C;&#x305D;&#x308C;&#x3089;&#x3092;&#x533A;&#x5225;&#x3059;&#x308B;&#x305F;&#x3081;&#xFF0E;</td>
</tr>
</tbody>
</table>
<h4 id="&#x30FB;&#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x306B;&#x3088;&#x308B;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;">&#x30FB;&#x30BF;&#x30B0;&#x4ED8;&#x3051;&#x306B;&#x3088;&#x308B;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;</h4>
<p>AWS&#x306E;&#x5404;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306B;&#x306F;&#xFF0C;&#x30BF;&#x30B0;&#x3092;&#x3064;&#x3051;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;&#x4F8B;&#x3048;&#x3070;&#xFF0C;AWS&#x30B3;&#x30B9;&#x30C8;&#x30A8;&#x30AF;&#x30B9;&#x30D7;&#x30ED;&#x30FC;&#x30E9;&#x30FC;&#x306B;&#x3066;&#xFF0C;&#x3053;&#x306E;&#x30BF;&#x30B0;&#x3067;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30EA;&#x30F3;&#x30B0;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x308A;&#xFF0C;&#x4EFB;&#x610F;&#x306E;&#x30BF;&#x30B0;&#x304C;&#x4ED8;&#x3044;&#x305F;&#x30EA;&#x30BD;&#x30FC;&#x30B9;&#x306E;&#x8ACB;&#x6C42;&#x5408;&#x8A08;&#x984D;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x308B;&#xFF0E;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="infrastructure_cloud_computing.html" class="navigation navigation-prev " aria-label="Previous page: ▶ ︎クラウドコンピューティング">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="infrastructure_cloud_computing_gcp.html" class="navigation navigation-next " aria-label="Next page: ▶ ︎Google Cloud Platform">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"▶ ︎Amazon Web Service","level":"1.12.2","depth":2,"next":{"title":"▶ ︎Google Cloud Platform","level":"1.12.3","depth":2,"path":"public/infrastructure_cloud_computing_gcp.md","ref":"public/infrastructure_cloud_computing_gcp.md","articles":[]},"previous":{"title":"▶ ︎クラウドコンピューティング","level":"1.12.1","depth":2,"path":"public/infrastructure_cloud_computing.md","ref":"public/infrastructure_cloud_computing.md","articles":[]},"dir":"ltr"},"config":{"plugins":["intopic-toc","advanced-emoji","back-to-top-button","copy-code-button","prism","-highlight","ga"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"]},"intopic-toc":{"isCollapsed":false,"isScrollspyActive":true,"label":"目次","maxDepth":3,"mode":"nested","selector":"","visible":true},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"back-to-top-button":{},"copy-code-button":{},"ga":{"configuration":"auto","token":"UA-127492119-2"},"advanced-emoji":{"embedEmojis":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"僕のドキュメントサイト【GitBook版】","language":"ja","gitbook":"*","description":"This is Hiroki-IT/tech-notebook_gitbook"},"file":{"path":"public/infrastructure_cloud_computing_aws.md","mtime":"2021-03-23T01:29:05.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-03-23T01:40:12.479Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

