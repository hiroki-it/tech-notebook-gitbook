# 仮想サーバー（仮想マシン）

## はじめに

本サイトにつきまして、以下をご認識のほど宜しくお願いいたします。

参考：https://hiroki-it.github.io/tech-notebook-gitbook/

<br>

## 01. Providerによる仮想サーバー（仮想マシン）の構築

![Vagrantの仕組み_オリジナル](https://user-images.githubusercontent.com/42175286/60393574-b18de200-9b52-11e9-803d-ef44d6e50b08.png)

<br>

### Providerの操作

#### ・Providerとは

基本ソフトウェアにおける制御プログラムや一連のハードウェアを仮想的に構築できる。これを、仮想サーバー（仮想マシンとも）という。構築方法の違いによって、『ホスト型』、『ハイパーバイザ型』に分類できる。

<br>

### Provisionerの操作

#### ・Provisionerとは

Providerによって構築された仮想サーバーに、Web開発のためのソフトウェアをインストールできる（構成管理できる）。具体的には、プログラミング言語やファイアウォールをインストールする。

<br>

### VagrantによるProviderとProvisionerの操作

#### ・Vagrantとは

ProviderとProvisionerの操作を自動化できる。チームメンバーが別々に仮想サーバーを構築する場合、ProviderとProvisionerの処理によって作られる仮想サーバーの環境に、違いが生じてしまう。Vagrantを使う場合、ProviderとProvisionerによる処理方法は、Vagrantfileに記述されている。このために、Vagrantを用いれば、チームメンバーが同じソフトウェアの下で、仮想サーバーを構築し、ソフトウェアをインストールできる。

#### ・サーバーの情報の管理方法

サーバーの情報は、```.env```ファイルで以下の様に管理する。全ての値が文字列として認識されるため、数値や真偽値は使用できない。

```bash
#=======================================
# Webサーバー情報
#=======================================
WEB_HOST=

#=======================================
# データベースサーバー情報
#=======================================
DB_HOST=foo-db
DB_NAME=foo
DB_USER=foo
DB_PASSWORD=*****
```

#### ・主な```vagrant```コマンド

| コマンド                        | 処理                       |
| ------------------------------- | :------------------------- |
| **```vagrant up```**            | 仮想サーバー起動             |
| **```vagrant halt```**          | 仮想サーバー停止             |
| **```vagrant ssh```**           | 仮想サーバーへのリモート接続 |
| **```vagrant global-status```** | 起動中仮想サーバーの一覧     |

<br>

## 02. フレームワークのビルトインサーバーの構築

